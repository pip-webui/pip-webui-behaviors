{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/Focused.ts","src/index.ts","src/infinite_scroll/InfiniteScroll.ts","src/selected/Selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/UnsavedChanges.ts"],"names":[],"mappings":"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","file":"pip-webui-behaviors.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","{\n    class CancelDragLink {\n        constructor(\n            $element: JQuery\n        ) {\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\n        }\n    }\n\n    const CancelDrag = function (): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: ng.IAttributes\n            ) {\n                new CancelDragLink($element);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipCancelDrag', CancelDrag);\n}","import {\n    IDraggableService\n} from './DraggableService';\n\n{\n    interface IDragLinkScope extends ng.IScope {\n        value: any;\n    }\n\n    interface IDragLinkAttributes extends ng.IAttributes {\n        ngDrag: any;\n        pipDragStart: any;\n        pipDragMove: any;\n        pipDragStop: any;\n        pipDragSuccess: any;\n        allowTransform: any;\n        pipDragData: any;\n        pipVerticalScroll: any;\n        pipHorizontalScroll: any;\n        pipActivationDistance: any;\n        pipScrollContainer: any;\n        pipDrag: any;\n        pipCenterAnchor: any;\n    }\n\n    class DragLink {\n        private LONG_PRESS: number = 50; // 50ms for longpress\n        private offset: any;\n        private _centerAnchor: boolean = false;\n        private _mx: number;\n        private _my: number;\n        private _tx: number;\n        private _ty: number;\n        private _mrx: number;\n        private _mry: number;\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\n        private _pressEvents: string = 'touchstart mousedown';\n        private _moveEvents: string = 'touchmove mousemove';\n        private _releaseEvents: string = 'touchend mouseup';\n        private _dragHandle: any;\n\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\n        private _myid: string | number;\n        private _data: any = null;\n\n        private _dragOffset: any = null;\n\n        private _dragEnabled: boolean = false;\n\n        private _pressTimer: any = null;\n\n        private _elementStyle: any = {};\n\n        private onDragStartCallback: Function;\n        private onDragMoveCallbak: Function;\n        private onDragStopCallback: Function;\n        private onDragSuccessCallback: Function;\n        private allowTransform: boolean;\n\n        private getDragData: any;\n        private verticalScroll: boolean;\n        private horizontalScroll: boolean;\n        private activationDistance: number;\n        private scrollDistance: number;\n        private scrollParent: boolean = false;\n\n        private scrollContainer: JQuery = angular.element(window);\n        private scrollContainerGetter: any;\n\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\n        private _deregisterRootMoveListener: Function = angular.noop;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $parse: ng.IParseService,\n            private $document: ng.IDocumentService,\n            private $window: ng.IWindowService,\n            private pipDraggable: IDraggableService,\n            private $scope: IDragLinkScope,\n            private $element: JQuery,\n            private $attrs: IDragLinkAttributes\n        ) {\n            $scope.value = $attrs.ngDrag;\n            this._myid = $scope.$id;\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\n            this.onDragMoveCallbak = $parse($attrs.pipDragMove) || null;\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\n\n            this.getDragData = $parse($attrs.pipDragData);\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\n\n            this.$element.css('cursor', 'move');\n            this.initialize();\n        }\n\n        private initialize() {\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\n            // check to see if drag handle(s) was specified\n            // if querySelectorAll is available, we use this instead of find\n            // as JQLite find is limited to tagnames\n            let dragHandles: any;\n            if (this.$element[0].querySelectorAll) {\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\n            } else {\n                dragHandles = this.$element.find('[pip-drag-handle]');\n            }\n            if (dragHandles.length) {\n                this._dragHandle = dragHandles;\n            }\n            this.toggleListeners(true);\n\n            // Initialize scroll container\n            if (this.scrollParent) {\n                this.scrollContainer = angular.element(this.$element.parent());\n            } else if (this.$attrs.pipScrollContainer) {\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\n            } else {\n                this.scrollContainer = angular.element(window);\n            }\n        }\n\n        private toggleListeners(enable) {\n            if (!enable) return;\n            // add listeners.\n\n            this.$scope.$on('$destroy', () => {\n                this.onDestroy(enable);\n            });\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\n                this.onEnableChange(newVal, oldVal);\n            });\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\n                this.onCenterAnchor(newVal, oldVal);\n            });\n            // wire up touch events\n            if (this._dragHandle) {\n                // handle(s) specified, use those to initiate drag\n                this._dragHandle.on(this._pressEvents, (event) => {\n                    this.onpress(event);\n                });\n            } else {\n                // no handle(s) specified, use the element as the handle\n                this.$element.on(this._pressEvents, (event) => {\n                    this.onpress(event);\n                });\n            }\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\n                this.$element.on('mousedown', () => {\n                    return false;\n                }); // prevent native drag for images\n            }\n        }\n\n        private onDestroy(enable) {\n            this.toggleListeners(false);\n        }\n\n        private onEnableChange(newVal, oldVal) {\n            this._dragEnabled = (newVal);\n        }\n\n        private onCenterAnchor(newVal, oldVal) {\n            if (angular.isDefined(newVal))\n                this._centerAnchor = (newVal || 'true');\n        }\n\n        private isClickableElement(evt) {\n            return (\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\n            );\n        }\n\n        /*\n         * When the element is clicked start the drag behaviour\n         * On touch devices as a small delay so as not to prevent native window scrolling\n         */\n        private onpress(evt) {\n            if (!this._dragEnabled) return;\n\n            if (this.isClickableElement(evt)) {\n                return;\n            }\n\n            if (evt.type == \"mousedown\" && evt.button != 0) {\n                // Do not start dragging on right-click\n                return;\n            }\n\n            this.saveElementStyles();\n\n            if (this._hasTouch) {\n                this.cancelPress();\n                this._pressTimer = setTimeout(() => {\n                    this.cancelPress();\n                    this.onlongpress(evt);\n                }, this.LONG_PRESS);\n                this.$document.on(this._moveEvents, () => {\n                    this.cancelPress();\n                });\n                this.$document.on(this._releaseEvents, () => {\n                    this.cancelPress();\n                });\n            } else {\n                this.onlongpress(evt);\n            }\n        }\n\n        private saveElementStyles() {\n            this._elementStyle.left = this.$element.css('left') || 0;\n            this._elementStyle.top = this.$element.css('top') || 0;\n            this._elementStyle.position = this.$element.css('position');\n            this._elementStyle.width = this.$element.css('width');\n        }\n\n        private cancelPress() {\n            clearTimeout(this._pressTimer);\n            this.$document.off(this._moveEvents, () => {\n                this.cancelPress();\n            });\n            this.$document.off(this._releaseEvents, () => {\n                this.cancelPress();\n            });\n        }\n\n        private onlongpress(evt) {\n            if (!this._dragEnabled) return;\n            evt.preventDefault();\n\n            this.offset = this.$element[0].getBoundingClientRect();\n            if (this.allowTransform)\n                this._dragOffset = this.offset;\n            else {\n                this._dragOffset = {\n                    left: document.body.scrollLeft,\n                    top: document.body.scrollTop\n                };\n            }\n\n\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\n\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\n            this._mrx = this._mx - this.offset.left;\n            this._mry = this._my - this.offset.top;\n            if (this._centerAnchor) {\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\n            } else {\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\n            }\n\n            this.$document.on(this._moveEvents, (event) => {\n                this.onmove(event);\n            });\n            this.$document.on(this._releaseEvents, (event) => {\n                this.onrelease(event);\n            });\n            // This event is used to receive manually triggered mouse move events\n            // jqLite unfortunately only supports triggerHandler(...)\n            // See http://api.jquery.com/triggerHandler/\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\n                this.onmove(origEvent);\n            });\n        }\n\n        private onmove(evt) {\n            if (!this._dragEnabled) return;\n            evt.preventDefault();\n            if (!this.$element.hasClass('pip-dragging')) {\n                this._data = this.getDragData(this.$scope);\n                this.$element.addClass('pip-dragging');\n                this.$rootScope.$broadcast('draggable:start', {\n                    x: this._mx,\n                    y: this._my,\n                    tx: this._tx,\n                    ty: this._ty,\n                    event: evt,\n                    element: this.$element,\n                    data: this._data\n                });\n\n                if (this.onDragStartCallback) {\n                    this.$scope.$apply(() => {\n                        this.onDragStartCallback(this.$scope, {\n                            $data: this._data,\n                            $event: evt\n                        });\n                    });\n                }\n            }\n\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\n\n            if (this.horizontalScroll || this.verticalScroll) {\n                this.dragToScroll();\n            }\n\n            if (this._centerAnchor) {\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\n            } else {\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\n                this._ty = this._my - this._mry - this._dragOffset.top;\n            }\n\n            this.moveElement(this._tx, this._ty);\n            \n            this.$rootScope.$broadcast('draggable:move', {\n                x: this._mx,\n                y: this._my,\n                tx: this._tx,\n                ty: this._ty,\n                event: evt,\n                element: this.$element,\n                data: this._data,\n                uid: this._myid,\n                dragOffset: this._dragOffset\n            });\n\n            if (this.onDragMoveCallbak) {\n                this.$scope.$apply(() => {\n                    this.onDragMoveCallbak(this.$scope, {\n                        $data: this._data,\n                        $event: angular.extend(evt, ),\n                    });\n                });\n            }\n        }\n\n        private onrelease(evt) {\n            if (!this._dragEnabled)\n                return;\n            evt.preventDefault();\n            this.$rootScope.$broadcast('draggable:end', {\n                x: this._mx,\n                y: this._my,\n                tx: this._tx,\n                ty: this._ty,\n                event: evt,\n                element: this.$element,\n                data: this._data,\n                callback: this.onDragComplete,\n                uid: this._myid\n            });\n            this.$element.removeClass('pip-dragging');\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\n            this.reset();\n            this.$document.off(this._moveEvents);\n            this.$document.off(this._releaseEvents);\n            if (this.onDragStopCallback) {\n                this.$scope.$apply(() => {\n                    this.onDragStopCallback(this.$scope, {\n                        $data: this._data,\n                        $event: evt\n                    });\n                });\n            }\n\n            this._deregisterRootMoveListener();\n        }\n\n        private onDragComplete(evt) {\n            if (!this.onDragSuccessCallback) return;\n\n            this.$scope.$apply(() => {\n                this.onDragSuccessCallback(this.$scope, {\n                    $data: this._data,\n                    $event: evt\n                });\n            });\n        }\n\n        private reset() {\n            if (this.allowTransform)\n                this.$element.css({\n                    transform: '',\n                    'z-index': '',\n                    '-webkit-transform': '',\n                    '-ms-transform': ''\n                });\n            else {\n                this.$element.css({\n                    position: this._elementStyle.position,\n                    top: this._elementStyle.top,\n                    left: this._elementStyle.left,\n                    'z-index': '',\n                    width: this._elementStyle.width\n                });\n            }\n        }\n\n        private moveElement(x, y) {\n            const eWidth = this.$element.css('width');\n            if (this.allowTransform) {\n                this.$element.css({\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                    'z-index': 99999,\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n                });\n            } else {\n                this.$element.css({\n                    'left': x + 'px',\n                    'top': y + 'px',\n                    'position': 'fixed',\n                    'z-index': 100,\n                    width: eWidth\n                });\n            }\n        }\n\n        private dragToScroll() {\n            let scrollX = 0,\n                scrollY = 0,\n                offset = (element) => {\n                    return element.offset() || {\n                        left: 0,\n                        top: 0\n                    };\n                };\n\n            if (this.horizontalScroll) {\n                const\n                    containerLeft = offset(this.scrollContainer).left,\n                    containerWidth = this.scrollContainer.innerWidth(),\n                    containerRight = containerLeft + containerWidth;\n\n                if ((this._mx - containerLeft) < this.activationDistance) {\n                    scrollX = -this.scrollDistance;\n                } else if ((containerRight - this._mx) < this.activationDistance) {\n                    scrollX = this.scrollDistance;\n                }\n            }\n\n            if (this.verticalScroll) {\n                const\n                    containerTop = offset(this.scrollContainer).top,\n                    containerHeight = this.scrollContainer.innerHeight(),\n                    containerBottom = containerTop + containerHeight;\n\n                if ((this._my - containerTop) < this.activationDistance) {\n                    scrollY = -this.scrollDistance + 30;\n                } else if ((containerBottom - this._my) < this.activationDistance) {\n                    scrollY = this.scrollDistance - 30;\n                }\n            }\n            if (scrollX !== 0 || scrollY !== 0) {\n                const\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\n                    containerScrollTop = this.scrollContainer.scrollTop();\n\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\n            }\n\n        }\n\n    }\n\n    const Drag = function (\n        $rootScope: ng.IRootScopeService,\n        $parse: ng.IParseService,\n        $document: ng.IDocumentService,\n        $window: ng.IWindowService,\n        pipDraggable: IDraggableService,\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: IDragLinkScope,\n                $element: JQuery,\n                $attrs: IDragLinkAttributes\n            ) {\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipDrag', Drag);\n}","export interface IDraggableService {\n    inputEvent(event: any);\n}\n\nclass DraggableService implements IDraggableService {\n    public inputEvent(event) {\n        if (angular.isDefined(event.touches)) {\n            return event.touches[0];\n        }\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\n            return event.originalEvent.touches[0];\n        }\n        return event;\n    };\n}\n\nangular\n    .module(\"pipDraggable\")\n    .service('pipDraggable', DraggableService);\n    ","import {\n    IDraggableService\n} from './DraggableService';\n\n{\n    interface IDropLinkScope extends ng.IScope {\n        value: any;\n        isTouching: any;\n    }\n\n    interface IDropLinkAttributes extends ng.IAttributes {\n        pipDrop: any;\n        pipDropSuccess: any;\n        pipDragStart: any;\n        pipDragStop: any;\n        pipDragMove: any;\n        pipEnter: any;\n        pipLeave: any;\n        pipDiactive: any;\n    }\n\n    class DropLink {\n\n        private _lastDropTouch: any;\n        private _myid: number | string;\n        private _dropEnabled: boolean;\n\n        private onDropCallback: Function; // || function(){};\n        private onDragStartCallback: Function;\n        private onDragStopCallback: Function;\n        private onDragMoveCallback: Function;\n        private onEnterCallback: Function;\n        private onLeaveCallback: Function;\n        private onDiactiveCallback: Function;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $document: ng.IDocumentService,\n            private $timeout: ng.ITimeoutService,\n            private pipDraggable: IDraggableService,\n            private $scope: IDropLinkScope,\n            private $element: JQuery,\n            private $attrs: IDropLinkAttributes\n        ) {\n            $scope.value = $attrs.pipDrop;\n            $scope.isTouching = false;\n\n            this._myid = $scope.$id;\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\n            this.onEnterCallback = $parse($attrs.pipEnter);\n            this.onLeaveCallback = $parse($attrs.pipLeave);\n            this.onDiactiveCallback = $parse($attrs.pipDiactive);\n\n            this.initialize();\n        }\n\n        private initialize() {\n            this.toggleListeners(true);\n        }\n\n        private toggleListeners(enable) {\n            // remove listeners\n            if (!enable) return;\n            // add listeners.\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\n                this.onEnableChange(newVal, oldVal);\n            });\n            this.$scope.$on('$destroy', (event) => {\n                this.onDestroy(event);\n            });\n            this.$scope.$on('draggable:start', (evt, obj) => {\n                this.onDragStart(evt, obj);\n            });\n            this.$scope.$on('draggable:move', (evt, obj) => {\n                this.onDragMove(evt, obj);\n            });\n            this.$scope.$on('draggable:end', (evt, obj) => {\n                this.onDragEnd(evt, obj);\n            });\n        }\n\n        private onDestroy(enable) {\n            this.toggleListeners(false);\n        }\n\n        private onEnableChange(newVal, oldVal) {\n            this._dropEnabled = newVal;\n        }\n\n        private onDragStart(evt, obj) {\n            if (!this._dropEnabled) return;\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\n\n            if (this.$attrs.pipDragStart) {\n                this.$timeout(() => {\n                    this.onDragStartCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n        }\n\n        private onDragMove(evt, obj) {\n            if (!this._dropEnabled) return;\n            this.isTouching(obj.x, obj.y, obj.element, evt, obj);\n\n            if (this.$attrs.pipDragMove) {\n                this.$timeout(() => {\n                    this.onDragMoveCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n        }\n\n        private onDragEnd(evt, obj) {\n            // don't listen to drop events if this is the element being dragged\n            // only update the styles and return\n            if (!this._dropEnabled) {\n                this.updateDragStyles(false, obj.element);\n                return;\n            }\n\n            if (this.isTouching(obj.x, obj.y, obj.element, evt, obj)) {\n                // call the pipDraggable pipDragSuccess element callback\n                if (obj.callback) {\n                    obj.callback(obj);\n                }\n\n                if (this.$attrs.pipDropSuccess) {\n                    this.$timeout(() => {\n                        this.onDropCallback(this.$scope, {\n                            $data: obj.data,\n                            $event: obj,\n                            $target: this.$scope.$eval(this.$scope.value)\n                        });\n                    });\n                }\n\n                if (this.$attrs.pipDiactive) {\n                    this.$timeout(() => {\n                        this.onDiactiveCallback(this.$scope, {\n                            $data: obj.data,\n                            $event: obj,\n                            $target: this.$scope.$eval(this.$scope.value)\n                        });\n                    });\n                }\n            }\n\n            if (this.$attrs.pipDragStop) {\n                this.$timeout(() => {\n                    this.onDragStopCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n\n            this.updateDragStyles(false, obj.element);\n        }\n\n        private isTouching(mouseX, mouseY, dragElement, evt, obj) {\n            const touching = this.hitTest(mouseX, mouseY);\n            if (touching !== this.$scope.isTouching) {\n                if (touching) {\n                    this.onEnterCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj,\n                        $target: this.$scope.$eval(this.$scope.value)\n                    });\n                } else {\n                    this.onLeaveCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj,\n                        $target: this.$scope.$eval(this.$scope.value)\n                    });\n                }\n            }\n\n            this.$scope.isTouching = touching;\n            if (touching) {\n                this._lastDropTouch = this.$element;\n            }\n            this.updateDragStyles(touching, dragElement);\n            return touching;\n        }\n\n        private updateDragStyles(touching, dragElement) {\n            if (touching) {\n                this.$element.addClass('pip-drag-enter');\n                dragElement.addClass('pip-drag-over');\n            } else if (this._lastDropTouch == this.$element) {\n                this._lastDropTouch = null;\n                this.$element.removeClass('pip-drag-enter');\n                dragElement.removeClass('pip-drag-over');\n            }\n        };\n\n        private hitTest(x, y) {\n            const bounds = this.$element[0].getBoundingClientRect();\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\n            return x >= bounds.left &&\n                x <= bounds.right &&\n                y <= bounds.bottom &&\n                y >= bounds.top;\n        }\n    }\n\n    const Drop = function (\n        $parse: ng.IParseService,\n        $document: ng.IDocumentService,\n        $timeout: ng.ITimeoutService,\n        pipDraggable: IDraggableService,\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: IDropLinkScope,\n                $element: JQuery,\n                $attrs: IDropLinkAttributes\n            ) {\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipDrop', Drop);\n}","{\n\n    class PreventDragLink {\n        constructor(\n            private $element: JQuery\n        ) {\n            this.initialize();\n        }\n\n        private initialize() {\n            this.$element.attr('pip-draggable', 'false');\n            this.toggleListeners(true);\n        }\n\n        private toggleListeners(enable) {\n            // remove listeners\n            if (!enable) return;\n            // add listeners.\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\n        }\n\n        private absorbEvent_(event) {\n            const e = event.originalEvent;\n            e.preventDefault && e.preventDefault();\n            e.stopPropagation && e.stopPropagation();\n            e.cancelBubble = true;\n            e.returnValue = false;\n            return false;\n        }\n\n    }\n\n    const PreventDrag = function (): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: ng.IAttributes\n            ) {\n                new PreventDragLink($element);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipPreventDrag', PreventDrag);\n}","angular.module(\"pipDraggable\", []);\n\nimport './DraggableService';\nimport './Drag';\nimport './Drop';\nimport './PreventDrag';\nimport './CancelDrag';\n","{\n    interface FocusedScope extends ng.IScope {\n        pipFocusedColor: Function;\n        pipFocusedClass: Function;\n        pipFocusedRebind: Function;\n        pipFocusedTabindex: Function;\n        pipFocusedOpacity: Function;\n        pipFocusedData: Function;\n        pipWithHidden: Function;\n        pipRebind: Function;\n    }\n\n    interface FocusedAttributes extends ng.IAttributes {\n        ngModel: any;\n        pipFocusedData: any;\n    }\n\n    class FocusedLink implements ng.IDirective {\n        private controls: JQuery;\n        private controlsLength: number;\n        private color: string;\n        private opacityDelta: number = 0.4;\n        private opacityLimit: number = 0.5;\n        private oldBackgroundColor: string;\n        private onFocusClass: string;\n\n        constructor(\n            private $scope: FocusedScope,\n            private $element: JQuery,\n            $attrs: FocusedAttributes,\n            private $timeout: ng.ITimeoutService,\n            private $mdConstant: any,\n            private $window: ng.IWindowService\n        ) {\n\n            $element.on('keydown', (e) => {\n                this.keydownListener(e);\n            });\n\n            $timeout(() => {\n                this.init();\n            });\n\n            if ($attrs.ngModel) {\n                $scope.$watch('ngModel', function () {\n                    $timeout(this.init);\n                }, true);\n            }\n\n            if ($attrs.pipFocusedData) {\n                $scope.$watch('pipFocusedData', function () {\n                    $timeout(this.init);\n                }, true);\n            }\n        }\n\n        private init() {\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\n            this.controls = this.$element.find(selector);\n            this.controlsLength = this.controls.length;\n            this.checkTabindex(this.controls);\n            // Add event listeners\n            this.controls.on('focus', (event) => {\n                const target = event.currentTarget;\n                if ($(target).hasClass('md-focused')) {\n                    return;\n                }\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\n                    this.init();\n                }\n                this.$element.addClass('pip-focused-container');\n                $(target).addClass(this.onFocusClass);\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\n\n                    this.color = $(target).css('backgroundColor');\n                    this.oldBackgroundColor = this.color;\n                    $(target).css('backgroundColor', this.rgba(this.color));\n                    $(target).addClass('md-focused');\n                } else {\n                    $(target).addClass('md-focused md-focused-opacity');\n                }\n\n            }).on('focusout', (event) => {\n                const target = event.currentTarget;\n                if (!$(target).hasClass('md-focused')) {\n                    return;\n                }\n                this.$element.removeClass('pip-focused-container');\n                $(target).removeClass(this.onFocusClass);\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\n                    $(target).removeClass('md-focused md-focused-opacity');\n                } else {\n                    $(target).removeClass('md-focused');\n                }\n            });\n        }\n\n        private rgba(color) {\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\n                return this.$scope.pipFocusedColor();\n            }\n\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\n\n            if (!arr || arr.length < 3) {\n                return ''\n            }\n\n            let red, blue, green, opacity;\n\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\n            red = arr[0];\n            blue = arr[1];\n            green = arr[2];\n\n            if (opacity < this.opacityLimit) {\n                opacity += this.opacityDelta;\n            } else {\n                opacity -= this.opacityDelta;\n            }\n\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\n        }\n\n        private setTabindex(element, value) {\n            element.attr('tabindex', value);\n        }\n\n        private checkTabindex(controls) {\n            const index = _.findIndex(controls, (c) => {\n                return c['tabindex'] > -1;\n            });\n\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\n            }\n        }\n\n        private keydownListener(e) {\n            const keyCode = e.which || e.keyCode;\n            // Check control keyCode\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\n            ) {\n                e.preventDefault();\n\n                const\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\n                // Move focus to next control\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\n                    this.controls[moveToControl].focus();\n                }\n            }\n        }\n    }\n\n    const Focused = function ($timeout: ng.ITimeoutService, \n        $mdConstant: any, \n        $window: ng.IWindowService\n    ): ng.IDirective {\n        return {\n            scope: {\n                pipFocusedColor: '&?',\n                pipFocusedClass: '&?',\n                pipFocusedRebind: '&?',\n                pipFocusedTabindex: '&?',\n                pipFocusedOpacity: '&?',\n                pipFocusedData: '&?',\n                pipWithHidden: '&?',\n                pipRebind: '&?'\n            },\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipFocused\", [])\n        .directive('pipFocused', Focused);\n}","﻿import './unsaved_changes/UnsavedChanges';\nimport './shortcuts/index';\nimport './focused/Focused';\nimport './draggable/index';\nimport './selected/Selected';\nimport './infinite_scroll/InfiniteScroll';\n\nangular.module('pipBehaviors', [\n    'pipFocused',\n    'pipSelected',\n    'pipInfiniteScroll',\n    'pipUnsavedChanges',\n    'pipDraggable',\n    'pipShortcuts'\n]);\n\nexport * from './shortcuts/index';\n","{\n    interface InfiniteScrollScope extends ng.IScope {\n        pipInfiniteScroll: Function;\n        pipScrollContainer: JQuery;\n        pipScrollDistance: number | string;\n        pipScrollDisabled: boolean;\n        pipScrollUseDocumentBottom: boolean;\n        pipScrollListenForEvent: string;\n    }\n\n    interface InfiniteScrollAttributes extends ng.IAttributes {\n        pipScrollParent: any;\n        pipScrolImmediateCheck: any;\n    }\n\n    class InfiniteScrollLink {\n        private THROTTLE_MILLISECONDS: number = 500;\n        private checkWhenEnabled = null;\n        private scrollContainer = null;\n        private immediateCheck = true;\n        private scrollDistance = null;\n        private scrollEnabled = null;\n        private unregisterEventListener = null;\n        private useDocumentBottom = false;\n        private windowElement = null;\n        private onContainerScrollThrottle: Function;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $window: ng.IWindowService,\n            private $interval: ng.IIntervalService,\n            private $scope: InfiniteScrollScope,\n            private $element: JQuery,\n            private $attrs: InfiniteScrollAttributes\n        ) {\n            this.windowElement = angular.element($window);\n\n            this.onContainerScrollThrottle = _.throttle(() => {\n                this.onContainerScroll();\n            }, this.THROTTLE_MILLISECONDS);\n\n            $scope.$on('$destroy', () => {\n                this.scrollContainer.unbind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n                if (this.unregisterEventListener !== null) {\n                    this.unregisterEventListener();\n                    return this.unregisterEventListener = null;\n                }\n            });\n\n            $scope.$watch('pipScrollDistance', (v) => {\n                this.handleScrollDistance(v);\n            });\n            this.handleScrollDistance($scope.pipScrollDistance);\n\n            $scope.$watch('pipScrollDisabled', (v) => {\n                this.handleScrollDisabled(v);\n            });\n            this.handleScrollDisabled($scope.pipScrollDisabled);\n\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\n                this.handleScrollUseDocumentBottom(v);\n            });\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\n\n            this.changeContainer(this.windowElement);\n            if ($scope.pipScrollListenForEvent) {\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n\n            $scope.$watch('pipScrollContainer', (newContainer) => {\n                if (newContainer != this.scrollContainer)\n                    this.handleScrollContainer(newContainer);\n            });\n            this.handleScrollContainer($scope.pipScrollContainer || []);\n\n            if ($attrs.pipScrollParent !== null) {\n                this.changeContainer(angular.element($element.parent()));\n            }\n            if ($attrs.pipScrolImmediateCheck !== null) {\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\n            }\n\n            $interval((function () {\n                if (this.immediateCheck) {\n                    return this.onContainerScrollThrottle();\n                }\n            }), 0, 1);\n        }\n\n        private height(element) {\n            element = element[0] || element;\n            if (isNaN(element.offsetHeight)) {\n                return element.document.documentElement.clientHeight;\n            } else {\n                return element.offsetHeight;\n            }\n        }\n\n        private offsetTop(element) {\n            if (!element[0].getBoundingClientRect || element.css('none')) {\n                return;\n            }\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\n        }\n\n        private pageYOffset(element) {\n            element = element[0] || element;\n            if (isNaN(window.pageYOffset)) {\n                return element.document.documentElement.scrollTop;\n            } else {\n                return element.ownerDocument.defaultView.pageYOffset;\n            }\n        }\n\n        private onContainerScroll() {\n            let containerBottom,\n                containerTopOffset,\n                elementBottom,\n                remaining,\n                shouldScroll;\n\n            if (this.scrollContainer === this.windowElement) {\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\n            } else {\n                containerBottom = this.height(this.scrollContainer);\n                containerTopOffset = 0;\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\n                }\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\n            }\n\n            if (this.useDocumentBottom) {\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\n            }\n\n            remaining = elementBottom - containerBottom;\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\n\n            if (shouldScroll) {\n                this.checkWhenEnabled = true;\n                if (this.scrollEnabled) {\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\n                        return this.$scope.pipInfiniteScroll();\n                    } else {\n                        return this.$scope.$apply(() => {\n                            this.$scope.pipInfiniteScroll();\n                        });\n                    }\n                }\n            } else {\n                return this.checkWhenEnabled = false;\n            }\n        }\n\n        private handleScrollDistance(v) {\n            return this.scrollDistance = parseFloat(v) || 0;\n        }\n\n        private handleScrollDisabled(v) {\n            this.scrollEnabled = !v;\n            if (this.scrollEnabled && this.checkWhenEnabled) {\n                this.checkWhenEnabled = false;\n                this.onContainerScrollThrottle();\n            }\n        }\n\n        private handleScrollUseDocumentBottom(v) {\n            return this.useDocumentBottom = v;\n        }\n\n        private changeContainer(newContainer) {\n            if (this.scrollContainer) {\n                this.scrollContainer.unbind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n\n            this.scrollContainer = newContainer;\n            if (newContainer) {\n                return this.scrollContainer.bind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n        }\n\n        private handleScrollContainer(newContainer) {\n            if ((newContainer == null) || newContainer.length === 0) {\n                return;\n            }\n            if (newContainer instanceof HTMLElement) {\n                newContainer = angular.element(newContainer);\n            } else if (typeof newContainer.append === 'function') {\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\n            } else if (typeof newContainer === 'string') {\n                newContainer = this.$element.parents().find(newContainer);\n            }\n\n            if (newContainer != null && (!Array.isArray(newContainer) ||\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\n                return this.changeContainer(newContainer);\n            } else {\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\n            }\n        }\n\n    }\n\n    const InfiniteScroll = function (\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $interval: ng.IIntervalService\n    ): ng.IDirective {\n        return {\n            scope: {\n                pipInfiniteScroll: '&',\n                pipScrollContainer: '=',\n                pipScrollDistance: '=',\n                pipScrollDisabled: '=',\n                pipScrollUseDocumentBottom: '=',\n                pipScrollListenForEvent: '@'\n            },\n            link: function (\n                $scope: InfiniteScrollScope,\n                $element: JQuery,\n                $attrs: InfiniteScrollAttributes\n            ) {\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipInfiniteScroll\", [])\n        .directive('pipInfiniteScroll', InfiniteScroll);\n}","{\n    interface SelectedAttributes extends ng.IAttributes {\n        pipSelected: any;\n        pipSelectedId: any;\n        pipSelect: any;\n        pipEnterSpacePress: any;\n        pipNoScroll: any;\n        pipSkipHidden: any;\n        pipTreeList: any;\n        pipSelectedWatch: any;\n    }\n\n    class SelectedLink {\n        private indexGetter: any;\n        private indexSetter: any;\n        private idSetter: any;\n        private idGetter: any;\n        private changeGetter: any;\n        private enterSpaceGetter: any;\n        private noScroll: any;\n        private modifier: any;\n        private className: any;\n        private selectedIndex: any;\n        private currentElementTabinex: any;\n        private pipSelectedWatch: any;\n        private isScrolled: any;\n        // Variables for touch functions\n        private touchStartX: any;\n        private touchStartY: any;\n        private trackingClick: any;\n        private trackingClickStart: any;\n        private targetElement: any;\n        private lastClickTime: any;\n        private cancelNextClick: any;\n        // Constants for touch functions\n        private touchBoundary: number = 10;\n        private tapdelay: number = 200;\n        private tapTimeout: number = 700;\n\n        constructor(\n            $parse: ng.IParseService,\n            private $mdConstant: any,\n            private $timeout: ng.ITimeoutService,\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs: SelectedAttributes\n        ) {\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\n            this.noScroll = $attrs.pipNoScroll;\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\n            this.selectedIndex = this.indexGetter($scope);\n            this.currentElementTabinex = $element.attr('tabindex');\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\n            this.isScrolled = false;\n\n            $element.attr('tabindex', this.currentElementTabinex || 0);\n\n            $element.on('click', this.className, (event) => {\n                this.onClickEvent(event);\n            });\n            $element.on('touchstart', this.className, (event) => {\n                this.onTouchStart(event);\n            });\n            $element.on('touchmove', this.className, (event) => {\n                this.onTouchMove(event);\n            });\n            $element.on('touchend', this.className, (event) => {\n                this.onTouchEnd(event);\n            });\n            $element.on('touchcancel', this.className, (event) => {\n                this.onTouchCancel(event);\n            });\n            $element.on('keydown', (event) => {\n                this.onKeyDown(event);\n            });\n            $element.on('focusin', (event) => {\n                this.onFocusIn(event);\n            });\n            $element.on('focusout', (event) => {\n                this.onFocusOut(event);\n            });\n\n            // Watch selected item index\n            if (!$attrs.pipTreeList) {\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\n                    this.selectItem({\n                        itemIndex: newSelectedIndex\n                    });\n                });\n            } else {\n                $scope.$watch(this.idGetter, (newSelectedId) => {\n                    $timeout(() => {\n                        this.selectItem({\n                            itemId: newSelectedId,\n                            raiseEvent: true\n                        });\n                    }, 0);\n                });\n            }\n\n            // Watch resync selection\n            if (this.pipSelectedWatch) {\n                $scope.$watch(this.pipSelectedWatch, () => {\n                    // Delay update to allow ng-repeat to update DOM\n                    $timeout(() => {\n                        this.selectedIndex = this.indexGetter($scope);\n                        this.selectItem({\n                            itemIndex: this.selectedIndex\n                        });\n                    }, 100);\n                });\n            }\n\n            // Select item defined by index\n            this.selectItem({\n                itemIndex: this.selectedIndex,\n                items: $element.find(this.className)\n            });\n        }\n\n        private selectItem(itemParams) {\n            if (this.isScrolled) return;\n            let itemIndex = itemParams.itemIndex,\n                itemId = itemParams.itemId,\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\n                itemsLength = items.length,\n                item = () => {\n                    if (itemParams.item) return itemParams.item;\n                    if (itemIndex === undefined && itemIndex === -1) {\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\n                    }\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\n                        return items[itemIndex]\n                    }\n\n                    return false;\n                },\n                raiseEvent = itemParams.raiseEvent;\n                item = item();\n            if (item) {\n                this.$element.find(this.className).removeClass('selected md-focused');\n                item = <any>angular.element(item)\n                    .addClass('selected md-focused')\n                    .focus();\n                if (!this.noScroll) this.scrollToItem(item);\n                if (raiseEvent) this.defineSelectedIndex(items);\n            }\n        };\n\n        private defineSelectedIndex(items) {\n            const oldSelectedIndex = this.selectedIndex;\n            this.selectedIndex = -1;\n            for (var index = 0; index < items.length; index++) {\n                if ($(items[index]).hasClass('selected')) {\n                    this.selectedIndex = index;\n\n                    break;\n                }\n            }\n\n            const updateIndex = () => {\n                const selectedItem = angular.element(items[this.selectedIndex]),\n                    selectedId = selectedItem.attr('pip-id');\n\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\n                onSelect();\n            };\n\n            const onSelect = () => {\n                const selectedItem = angular.element(items[this.selectedIndex]),\n                    selectedId = selectedItem.attr('pip-id');\n\n                if (this.changeGetter) {\n                    this.changeGetter(this.$scope, {\n                        $event: {\n                            target: this.$element,\n                            item: selectedItem,\n                            index: this.selectedIndex,\n                            id: selectedId,\n                            newIndex: this.selectedIndex,\n                            oldIndex: oldSelectedIndex\n                        }\n                    });\n                }\n            }\n\n            // Execute callback to notify about item select\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\n                this.$scope.$apply(() => { updateIndex(); });\n            } else {\n                this.$scope.$apply(() => { onSelect(); });\n            }\n        };\n\n        private scrollToItem($item) {\n            if (this.noScroll || !$item.offset()) return;\n\n            const\n                containerTop = this.$element.offset().top,\n                containerHeight = this.$element.height(),\n                containerBottom = containerTop + containerHeight,\n                itemTop = $item.offset().top,\n                itemHeight = $item.outerHeight(true),\n                itemBottom = itemTop + itemHeight,\n                containerScrollTop = this.$element.scrollTop();\n\n            this.isScrolled = true;\n            this.$timeout(() => {\n                this.isScrolled = false;\n            }, 100);\n\n            if (containerTop > itemTop) {\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\n            } else if (containerBottom < itemBottom) {\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\n            }\n        };\n\n        private getTargetElementFromEventTarget(eventTarget) {\n            // On some older browsers the event target may be a text node.\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\n                return eventTarget.parentNode;\n            }\n\n            return eventTarget;\n        };\n\n        private touchHasMoved(event) {\n            const touch = event.changedTouches[0],\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\n\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n                return true;\n            }\n\n            return false;\n        };\n\n        private onClickEvent(event) {\n            this.selectItem({\n                item: event.currentTarget,\n                raiseEvent: true\n            });\n        }\n\n        private onTouchStart(event) {\n            const ev = event.originalEvent;\n            if (ev['targetTouches'].length > 1) {\n                return true;\n            }\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\n                touch = ev['targetTouches'][0];\n\n            this.trackingClick = true;\n            this.trackingClickStart = ev.timeStamp;\n            this.targetElement = targetElement;\n\n            this.touchStartX = touch.pageX;\n            this.touchStartY = touch.pageY;\n\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\n                //  event.preventDefault();\n            }*/\n\n            return true;\n        }\n\n        private onTouchMove(event) {\n            if (!this.trackingClick) {\n                return true;\n            }\n            const ev = event.originalEvent;\n            // If the touch has moved, cancel the click tracking\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\n                this.trackingClick = false;\n                this.targetElement = null;\n            }\n\n            return true;\n        }\n\n        private onTouchEnd(event) {\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\n\n            if (!this.trackingClick) {\n                return true;\n            }\n            const ev = event.originalEvent;\n            // Prevent phantom clicks on fast double-tap \n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\n                this.cancelNextClick = true;\n                return true;\n            }\n\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n                return true;\n            }\n\n            // Reset to prevent wrong click cancel on input \n            this.cancelNextClick = false;\n\n            this.lastClickTime = event.timeStamp;\n\n            newTrackingClickStart = this.trackingClickStart;\n            this.trackingClick = false;\n            this.trackingClickStart = 0;\n\n            this.selectItem({\n                item: event.currentTarget,\n                raiseEvent: true\n            });\n\n            return false;\n        }\n\n        private onTouchCancel(event) {\n            this.trackingClick = false;\n            this.targetElement = null;\n        }\n\n        private onKeyDown(event) {\n            var keyCode = event.which || event.keyCode;\n\n            // Check control keyCode\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                if (this.enterSpaceGetter) {\n                    this.enterSpaceGetter(this.$scope, {\n                        $event: {\n                            target: this.$element,\n                            index: this.selectedIndex,\n                            item: this.$element.find('.selected')\n                        }\n                    });\n                }\n\n            } else\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\n            ) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                // Get next selectable control index\n                const items = this.$element.find(this.className + this.modifier),\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                    newSelectedIndex = this.selectedIndex + inc;\n\n                // Set next control as selected\n                this.selectItem({\n                    itemIndex: newSelectedIndex,\n                    items: items,\n                    raiseEvent: true\n                });\n            }\n        }\n\n        private onFocusIn(event) {\n            // Choose selected element\n            let items,\n                selectedItem = this.$element.find(this.className + '.selected');\n\n            selectedItem.addClass('md-focused');\n\n            // If there are not selected elements then pick the first one\n            if (selectedItem.length === 0) {\n                this.selectedIndex = this.indexGetter(this.$scope);\n                items = this.$element.find(this.className + this.modifier);\n                this.selectItem({\n                    itemIndex: this.selectedIndex || 0,\n                    items: items,\n                    raiseEvent: true\n                });\n            }\n        }\n\n        private onFocusOut(event) {\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\n        }\n    }\n\n    const Selected = function (\n        $parse: ng.IParseService,\n        $mdConstant: any,\n        $timeout: ng.ITimeoutService\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            scope: false,\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: SelectedAttributes\n            ) {\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipSelected\", [])\n        .directive('pipSelected', Selected);\n}","import { ShortcutOptions } from \"./Shortcut\";\n\nexport class ShortcutItem {\n    // Shortcut combination\n    public shortcut: string;\n    // Target object \n    public target?: any;\n    // Target element by Id\n    public targetId?: string;\n    // Target element by class (firstelement??)\n    // Public targetClass?: string;\n    // Access function\n    public access?: (event: JQueryEventObject) => boolean;\n    // Window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public keypress?: (event: JQueryEventObject) => void;\n    // Default options\n    public options?: ShortcutOptions;    \n}\n\n// export class ShortcutItem extends SimpleShortcutItem {\n//     public shortcuts: SimpleShortcutItem[];\n// }\n\nexport class ShortcutsConfig {\n    // Global shortcut \n    public globalShortcuts: ShortcutItem[] = [];\n    // Local shortcut \n    public localShortcuts: ShortcutItem[] = [];\n    // Default options\n    public defaultOptions: ShortcutOptions = null;\n}\n\nexport interface IShortcutsService {\n    readonly config: ShortcutsConfig;\n\n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n}\n\nexport interface IShortcutsProvider extends ng.IServiceProvider {\n    config: ShortcutsConfig;\n    \n    globalShortcuts: ShortcutItem[];\n    defaultOptions: ShortcutOptions;\n}\n","export class KeyboardEvent {\n    static Keydown: string = 'keydown';\n    static Keyup: string = 'keyup';\n    static Keypress: string = 'keypress';\n}\n\nexport class ShortcutOptions {\n    Type: KeyboardEvent;\n    Propagate: boolean;\n    DisableInInput: boolean;\n    Target: any; // Event target object\n    Keycode: number;\n}\n\nexport class Shortcut {\n    private shift_nums = {\n        \"`\": \"~\",\n        \"1\": \"!\",\n        \"2\": \"@\",\n        \"3\": \"#\",\n        \"4\": \"$\",\n        \"5\": \"%\",\n        \"6\": \"^\",\n        \"7\": \"&\",\n        \"8\": \"*\",\n        \"9\": \"(\",\n        \"0\": \")\",\n        \"-\": \"_\",\n        \"=\": \"+\",\n        \";\": \":\",\n        \"'\": \"\\\"\",\n        \",\": \"<\",\n        \".\": \">\",\n        \"/\": \"?\",\n        \"\\\\\": \"|\"\n    };\n\n    private special_keys = {\n        'esc': 27,\n        'escape': 27,\n        'tab': 9,\n        'space': 32,\n        'return': 13,\n        'enter': 13,\n        'backspace': 8,\n\n        'scrolllock': 145,\n        'scroll_lock': 145,\n        'scroll': 145,\n        'capslock': 20,\n        'caps_lock': 20,\n        'caps': 20,\n        'numlock': 144,\n        'num_lock': 144,\n        'num': 144,\n\n        'pause': 19,\n        'break': 19,\n\n        'insert': 45,\n        'home': 36,\n        'delete': 46,\n        'end': 35,\n\n        'pageup': 33,\n        'page_up': 33,\n        'pu': 33,\n\n        'pagedown': 34,\n        'page_down': 34,\n        'pd': 34,\n\n        'left': 37,\n        'up': 38,\n        'right': 39,\n        'down': 40,\n\n        'f1': 112,\n        'f2': 113,\n        'f3': 114,\n        'f4': 115,\n        'f5': 116,\n        'f6': 117,\n        'f7': 118,\n        'f8': 119,\n        'f9': 120,\n        'f10': 121,\n        'f11': 122,\n        'f12': 123\n    };\n\n    private modifiers = {\n        shift: { wanted: false, pressed: false },\n        ctrl: { wanted: false, pressed: false },\n        alt: { wanted: false, pressed: false },\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\n    };\n\n    public eventCallback: Function;\n    public target: any;\n    public event: KeyboardEvent;\n    public option: ShortcutOptions;\n    public shorcut: string;\n    public callback: Function;\n\n    public constructor(\n        element: any,\n        shorcutCombination: string,\n        option: ShortcutOptions,\n        callback: (e?: JQueryEventObject) => void\n    ) {\n        \"ngInject\";\n\n        this.target = element;\n        this.shorcut = shorcutCombination;\n        this.event = option.Type;\n        this.option = option;\n        this.callback = callback;\n\n        this.eventCallback = (event: JQueryEventObject) => {\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\n            let code: number;\n\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\n                let element;\n                if (e.target) {\n                    element = e.target;\n                } else if (e.srcElement) {\n                    element = e.srcElement;\n                }\n\n                if (element.nodeType == 3) {\n                    element = element.parentNode;\n                }\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\n            }\n            // Find Which key is pressed\n            if (e.keyCode) {\n                code = e.keyCode;\n            } else if (e.which) {\n                code = e.which;\n            }\n\n            let character = String.fromCharCode(code).toLowerCase();\n\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\n\n            let keys: string[] = this.shorcut.split(\"+\");\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\n            let kp: number = 0;\n\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\n\n            let i: number = 0;\n            for (i = 0; i < keys.length; i++) {\n                let k: string = keys[i];\n                // Modifiers\n                if (k == 'ctrl' || k == 'control') {\n                    kp++;\n                    this.modifiers.ctrl.wanted = true;\n                } else if (k == 'shift') {\n                    kp++;\n                    this.modifiers.shift.wanted = true;\n                } else if (k == 'alt') {\n                    kp++;\n                    this.modifiers.alt.wanted = true;\n                } else if (k == 'meta') {\n                    kp++;\n                    this.modifiers.meta.wanted = true;\n                } else if (k.length > 1) { // If it is a special key\n                    if (this.special_keys[k] == code) {\n                        kp++;\n                    }\n                } else if (this.option.Keycode) {\n                    if (this.option.Keycode == code) kp++;\n                } else { // The special keys did not match\n                    if (character == k) kp++;\n                    else {\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\n                            character = this.shift_nums[character];\n                            if (character == k) {\n                                kp++;\n                            }\n                        }\n                    }\n                }\n            }\n            \n            if (kp == keys.length &&\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\n\n                this.callback(e);\n\n                if (!this.option.Propagate) { // Stop the event\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n\n                    // e.stopPropagation works in Firefox.\n                    if (e.stopPropagation) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }\n\n                    return false;\n                }\n            }\n            this.modifiers.ctrl.pressed = false;\n            this.modifiers.shift.pressed = false;\n            this.modifiers.alt.pressed = false;\n            this.modifiers.meta.pressed = false;\n        };\n    }\n}\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\n\n{\n    class ShortcutBindingService implements IShortcutBindingService {\n        private _log: ng.ILogService;\n        private _defaultOption: ShortcutOptions;\n        private _shortcuts: IKeyboardShortcuts = {};\n\n        public constructor(\n            $log: ng.ILogService,\n            option: ShortcutOptions\n        ) {\n            \"ngInject\";\n            this._log = $log;\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\n        }\n\n        private getDefaultOption(): ShortcutOptions {\n            let defaultOption: ShortcutOptions = {\n                Type: KeyboardEvent.Keydown,\n                Propagate: false,\n                DisableInInput: false,\n                Target: document,\n                Keycode: null\n            };\n\n            return defaultOption;\n        }\n\n        public get shortcuts(): IKeyboardShortcuts {\n            return this._shortcuts;\n        }\n\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\n            this.remove(shortcut);\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\n            let shortcutCombination: string = shortcut.toLowerCase();\n            let element = shortcutOption.Target;\n\n            if (typeof shortcutOption.Target == 'string') {\n                element = document.getElementById(shortcutOption.Target);\n            } else {\n                element = shortcutOption.Target;\n            }\n\n            if (!element) {\n                this._log.error('Register shortcut: element undentified!');\n                return;\n            }\n\n            if (!shortcutCombination) {\n                this._log.error('Register shortcut: shortcut combination undentified!');\n                return;\n            }\n\n            if (!callback) {\n                this._log.error('Register shortcut: shorcut callback undentified!');\n                return;\n            }\n\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\n\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\n\n            //Attach the function with the event\n            if (element.addEventListener) {\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\n            } else if (element.attachEvent) {\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\n            } else {\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\n            }\n        }\n\n        public remove(shorcut: string): void {\n            let shortcutCombination = shorcut.toLowerCase();\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\n\n            delete(this._shortcuts[shortcutCombination])\n            if (!binding) return;\n\n            let type = binding.event;\n            let element = binding.target;\n            let callback = binding.eventCallback;\n\n            if (element.detachEvent) {\n                element.detachEvent('on' + type, callback);\n            } else if (element.removeEventListener) {\n                element.removeEventListener(type, callback, false);\n            } else {\n                // element['on' + type] = false;\n                element.off(type, callback);\n            }\n        }\n    }\n\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\n        private _service: ShortcutBindingService;\n        private _option: ShortcutOptions;\n\n        public get option(): ShortcutOptions {\n            return this._option;\n        }\n\n        public set option(value: ShortcutOptions) {\n            this._option = value || new ShortcutOptions();\n        }\n\n        public $get(\n            $log: ng.ILogService\n        ) {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new ShortcutBindingService($log, this._option);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipShortcuts')\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\n}","import { ShortcutOptions } from \"./Shortcut\";\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\n\ninterface ShortcutAttributes extends ng.IAttributes {\n    pipShortcutAction: any;\n    pipShortcutName: any;\n    pipShorcutOptions: ShortcutOptions;\n}\n\nclass ShortcutController implements ng.IController  {\n    private actionShortcuts: Function;\n    private nameShortcuts: string;\n    private options: ShortcutOptions;\n\n    constructor(\n        $element: JQuery,\n        $attrs: ShortcutAttributes,\n        $scope: ng.IScope,\n        $log: ng.ILogService,\n        $parse: ng.IParseService,\n        pipShortcutBinding: IShortcutBindingService\n    ) {\n        \"ngInject\";\n\n        if ($attrs.pipShortcutAction) {\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\n            // this.actionShortcuts($scope, {$event: {}});\n        } else {\n            $log.error('Shortcut action does not set.');\n\n            return\n        }\n\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\n            this.nameShortcuts = $attrs.pipShortcutName;\n        } else {\n            $log.error('Shortcut name does not set.');\n\n            return\n        }\n\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\n        this.options.Target = $element;\n        \n        // Registration of keybord shortcuts\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\n            this.actionShortcuts($scope, {$event: {'e': e}});          \n        }, this.options);\n    }\n\n    private keypressShortcut(action) {\n        this.actionShortcuts();\n    }\n}\n\n// Prevent junk from going into typescript definitions\n{\n    const shortcutsDirective = function(): ng.IDirective {\n        return {\n            restrict: 'A',\n            scope: false,            \n            controller: ShortcutController\n        };\n    }\n\n    angular\n        .module('pipShortcuts')\n        .directive('pipShortcut', shortcutsDirective);\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\n\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\n\nclass ShortcutsService implements IShortcutsService {\n    private _oldConfig: ShortcutsConfig;\n    private _config: ShortcutsConfig;\n\n    public constructor(\n        config: ShortcutsConfig,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService, \n        private $location: ng.ILocationService, \n        private $injector: ng.auto.IInjectorService,\n        private pipShortcutBinding: IShortcutBindingService\n    ) {\n        this._config = config;\n        this._oldConfig = _.cloneDeep(this._config);\n\n        // Add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);        \n    }\n\n    // Describe private functions\n    private sendChangeEvent() {\n        // Remove shortcuts\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\n        this.removeShortcuts(this._oldConfig.localShortcuts);\n\n        // Add shortcuts\n        this.addShortcuts(this.config.globalShortcuts);\n        this.addShortcuts(this.config.localShortcuts);\n\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\n\n        // Save current config to oldConfig\n        this._oldConfig = _.cloneDeep(this.config);\n    }\n\n    private removeShortcuts(collection: ShortcutItem[]): void {\n        _.each(collection, (k) => {\n            this.pipShortcutBinding.remove(k.shortcut);\n        });\n    }\n\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\n        if (item.access && _.isFunction(item.access)) {\n            if (!item.access(event)) {\n                return;\n            }\n        } \n\n        if (item.keypress) {\n            item.keypress(event);\n            return;\n        }\n\n        if (item.href) {\n            this.$window.location.href = item.href;\n            return;\n        }\n\n        if (item.url) {\n            this.$location.url(item.url);\n            return;\n        }\n\n        if (item.state) {\n            if (this.$injector.has('$state')) {\n                var $state = this.$injector.get('$state');\n                $state['go'](item.state, item.stateParams);\n            }\n            return;\n        }\n\n        if (item.event) {\n            this.$rootScope.$broadcast(item.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\n        }\n    }\n\n    private addShortcuts(collection: ShortcutItem[]): void {\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\n        \n        _.each(collection, (k) => {\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\n            let target: any;\n\n            target = k.target ? k.target : k.targetId;\n            if (target) { \n                option.Target = target;\n            }\n            // Registration of keyboard shortcut\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\n                this.keypressShortcut(k, e);        \n            }, option);              \n        });\n    }\n\n    // Describe public functions \n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public get defaultOptions(): ShortcutOptions {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOptions) {\n        this._config.defaultOptions = value || null;\n        this.sendChangeEvent();\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n}\n\nclass ShortcutsProvider implements IShortcutsProvider {\n    private _config: ShortcutsConfig = new ShortcutsConfig();\n    private _service: ShortcutsService;\n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public set config(value: ShortcutsConfig) {\n        this._config = value || new ShortcutsConfig();\n    }\n\n    public get defaultOptions(): ShortcutOptions {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOptions) {\n        this._config.defaultOptions = value || null;\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService, \n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutBinding: IShortcutBindingService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcuts', ShortcutsProvider);\n\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\n\nimport './ShortcutBindingService';\nimport './ShortcutsService';\nimport './ShortcutDirective';\n\nexport * from './IShortcutsService';\nexport * from './IShortcutBindingService';\nexport * from './ShortcutsService';\nexport * from './ShortcutBindingService';","{\n    interface UnsavedChangesScope extends ng.IScope {\n        unsavedChangesAvailable: Function;\n        unsavedChangesMessage: string;\n        cancelLeave: Function;\n        afterLeave: Function;\n    }\n\n    class UnsavedChangesLink {\n        constructor(\n            $scope: UnsavedChangesScope,\n            $window: ng.IWindowService\n        ) {\n            $window.onbeforeunload = () => {\n                if ($scope.unsavedChangesAvailable()) {\n                    return $scope.unsavedChangesMessage;\n                }\n            };\n\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\n                    event.preventDefault();\n                } else {\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\n                }\n            });\n\n            $scope.$on('$destroy', () => {\n                $window.onbeforeunload = null;\n                unbindFunc();\n            });\n        }\n    }\n\n    const UnsavedChanges = function ($window: ng.IWindowService) {\n        return {\n            restrict: 'AE',\n            scope: {\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\n                afterLeave: '&pipUnsavedChangesAfterLeave',\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\n            },\n            link: function ($scope: UnsavedChangesScope) {\n                new UnsavedChangesLink($scope, $window);\n            }\n        };\n    }\n\n    angular\n        .module(\"pipUnsavedChanges\", [])\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZHJhZ2dhYmxlL0NhbmNlbERyYWcudHMiLCJzcmMvZHJhZ2dhYmxlL0RyYWcudHMiLCJzcmMvZHJhZ2dhYmxlL0RyYWdnYWJsZVNlcnZpY2UudHMiLCJzcmMvZHJhZ2dhYmxlL0Ryb3AudHMiLCJzcmMvZHJhZ2dhYmxlL1ByZXZlbnREcmFnLnRzIiwic3JjL2RyYWdnYWJsZS9pbmRleC50cyIsInNyYy9mb2N1c2VkL0ZvY3VzZWQudHMiLCJzcmMvaW5kZXgudHMiLCJzcmMvaW5maW5pdGVfc2Nyb2xsL0luZmluaXRlU2Nyb2xsLnRzIiwic3JjL3NlbGVjdGVkL1NlbGVjdGVkLnRzIiwic3JjL3Nob3J0Y3V0cy9JU2hvcnRjdXRzU2VydmljZS50cyIsInNyYy9zaG9ydGN1dHMvU2hvcnRjdXQudHMiLCJzcmMvc2hvcnRjdXRzL1Nob3J0Y3V0QmluZGluZ1NlcnZpY2UudHMiLCJzcmMvc2hvcnRjdXRzL1Nob3J0Y3V0RGlyZWN0aXZlLnRzIiwic3JjL3Nob3J0Y3V0cy9TaG9ydGN1dHNTZXJ2aWNlLnRzIiwic3JjL3Nob3J0Y3V0cy9pbmRleC50cyIsInNyYy91bnNhdmVkX2NoYW5nZXMvVW5zYXZlZENoYW5nZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxDQUFDO0lBQ0c7UUFDSSwwQkFDSSxRQUFnQjtZQUVoQixRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2xFLENBQUM7UUFDTCx1QkFBQztJQUFELENBTkEsQUFNQyxJQUFBO0lBRUQsSUFBTSxVQUFVLEdBQUc7UUFDZixNQUFNLENBQUM7WUFDSCxRQUFRLEVBQUUsR0FBRztZQUNiLElBQUksRUFBRSxVQUNGLE1BQWlCLEVBQ2pCLFFBQWdCLEVBQ2hCLE1BQXNCO2dCQUV0QixJQUFJLGdCQUFjLENBQUMs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Z0JBQ3RELHFCQUFxQixFQUFFLDJCQUEyQjtnQkFDbEQsVUFBVSxFQUFFLDhCQUE4QjtnQkFDMUMsV0FBVyxFQUFFLCtCQUErQjthQUMvQztZQUNELElBQUksRUFBRSxVQUFVLE1BQTJCO2dCQUN2QyxJQUFJLG9CQUFrQixDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUM1QyxDQUFDO1NBQ0osQ0FBQztJQUNOLENBQUMsQ0FBQTtJQUVELE9BQU87U0FDRixNQUFNLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxDQUFDO1NBQy9CLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN4RCxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIntcbiAgICBjbGFzcyBDYW5jZWxEcmFnTGluayB7XG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgJGVsZW1lbnQ6IEpRdWVyeVxuICAgICAgICApIHtcbiAgICAgICAgICAgICRlbGVtZW50LmZpbmQoJyonKS5hdHRyKCdwaXAtY2FuY2VsLWRyYWcnLCAncGlwLWNhbmNlbC1kcmFnJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBDYW5jZWxEcmFnID0gZnVuY3Rpb24gKCk6IG5nLklEaXJlY3RpdmUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChcbiAgICAgICAgICAgICAgICAkc2NvcGU6IG5nLklTY29wZSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgICAgICRhdHRyczogbmcuSUF0dHJpYnV0ZXNcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5ldyBDYW5jZWxEcmFnTGluaygkZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIilcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwQ2FuY2VsRHJhZycsIENhbmNlbERyYWcpO1xufSIsImltcG9ydCB7XG4gICAgSURyYWdnYWJsZVNlcnZpY2Vcbn0gZnJvbSAnLi9EcmFnZ2FibGVTZXJ2aWNlJztcblxue1xuICAgIGludGVyZmFjZSBJRHJhZ0xpbmtTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XG4gICAgICAgIHZhbHVlOiBhbnk7XG4gICAgfVxuXG4gICAgaW50ZXJmYWNlIElEcmFnTGlua0F0dHJpYnV0ZXMgZXh0ZW5kcyBuZy5JQXR0cmlidXRlcyB7XG4gICAgICAgIG5nRHJhZzogYW55O1xuICAgICAgICBwaXBEcmFnU3RhcnQ6IGFueTtcbiAgICAgICAgcGlwRHJhZ01vdmU6IGFueTtcbiAgICAgICAgcGlwRHJhZ1N0b3A6IGFueTtcbiAgICAgICAgcGlwRHJhZ1N1Y2Nlc3M6IGFueTtcbiAgICAgICAgYWxsb3dUcmFuc2Zvcm06IGFueTtcbiAgICAgICAgcGlwRHJhZ0RhdGE6IGFueTtcbiAgICAgICAgcGlwVmVydGljYWxTY3JvbGw6IGFueTtcbiAgICAgICAgcGlwSG9yaXpvbnRhbFNjcm9sbDogYW55O1xuICAgICAgICBwaXBBY3RpdmF0aW9uRGlzdGFuY2U6IGFueTtcbiAgICAgICAgcGlwU2Nyb2xsQ29udGFpbmVyOiBhbnk7XG4gICAgICAgIHBpcERyYWc6IGFueTtcbiAgICAgICAgcGlwQ2VudGVyQW5jaG9yOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgRHJhZ0xpbmsge1xuICAgICAgICBwcml2YXRlIExPTkdfUFJFU1M6IG51bWJlciA9IDUwOyAvLyA1MG1zIGZvciBsb25ncHJlc3NcbiAgICAgICAgcHJpdmF0ZSBvZmZzZXQ6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBfY2VudGVyQW5jaG9yOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX214OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX215OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX3R4OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX3R5OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX21yeDogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIF9tcnk6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBfaGFzVG91Y2g6IGJvb2xlYW4gPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCAoIDwgYW55ID4gd2luZG93KS5Eb2N1bWVudFRvdWNoOyAvLyAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g7IC8vIERvY3VtZW50VG91Y2ggaXMgbm90IGRlZmluZWQhXG4gICAgICAgIHByaXZhdGUgX3ByZXNzRXZlbnRzOiBzdHJpbmcgPSAndG91Y2hzdGFydCBtb3VzZWRvd24nO1xuICAgICAgICBwcml2YXRlIF9tb3ZlRXZlbnRzOiBzdHJpbmcgPSAndG91Y2htb3ZlIG1vdXNlbW92ZSc7XG4gICAgICAgIHByaXZhdGUgX3JlbGVhc2VFdmVudHM6IHN0cmluZyA9ICd0b3VjaGVuZCBtb3VzZXVwJztcbiAgICAgICAgcHJpdmF0ZSBfZHJhZ0hhbmRsZTogYW55O1xuXG4gICAgICAgIC8vIHRvIGlkZW50aWZ5IHRoZSBlbGVtZW50IGluIG9yZGVyIHRvIHByZXZlbnQgZ2V0dGluZyBzdXBlcmZsb3VzIGV2ZW50cyB3aGVuIGEgc2luZ2xlIGVsZW1lbnQgaGFzIGJvdGggZHJhZyBhbmQgZHJvcCBkaXJlY3RpdmVzIG9uIGl0LlxuICAgICAgICBwcml2YXRlIF9teWlkOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX2RhdGE6IGFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfZHJhZ09mZnNldDogYW55ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9kcmFnRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgX3ByZXNzVGltZXI6IGFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfZWxlbWVudFN0eWxlOiBhbnkgPSB7fTtcblxuICAgICAgICBwcml2YXRlIG9uRHJhZ1N0YXJ0Q2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgICAgICBwcml2YXRlIG9uRHJhZ01vdmVDYWxsYmFrOiBGdW5jdGlvbjtcbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdTdG9wQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgICAgICBwcml2YXRlIG9uRHJhZ1N1Y2Nlc3NDYWxsYmFjazogRnVuY3Rpb247XG4gICAgICAgIHByaXZhdGUgYWxsb3dUcmFuc2Zvcm06IGJvb2xlYW47XG5cbiAgICAgICAgcHJpdmF0ZSBnZXREcmFnRGF0YTogYW55O1xuICAgICAgICBwcml2YXRlIHZlcnRpY2FsU2Nyb2xsOiBib29sZWFuO1xuICAgICAgICBwcml2YXRlIGhvcml6b250YWxTY3JvbGw6IGJvb2xlYW47XG4gICAgICAgIHByaXZhdGUgYWN0aXZhdGlvbkRpc3RhbmNlOiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgc2Nyb2xsRGlzdGFuY2U6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxQYXJlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgICAgICBwcml2YXRlIHNjcm9sbENvbnRhaW5lcjogSlF1ZXJ5ID0gYW5ndWxhci5lbGVtZW50KHdpbmRvdyk7XG4gICAgICAgIHByaXZhdGUgc2Nyb2xsQ29udGFpbmVyR2V0dGVyOiBhbnk7XG5cbiAgICAgICAgLy8gZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIG1vdXNlIG1vdmUgZXZlbnRzIGluICRyb290U2NvcGUgdHJpZ2dlcmVkIGJ5IGpxTGl0ZSB0cmlnZ2VyIGhhbmRsZXJcbiAgICAgICAgcHJpdmF0ZSBfZGVyZWdpc3RlclJvb3RNb3ZlTGlzdGVuZXI6IEZ1bmN0aW9uID0gYW5ndWxhci5ub29wO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHBhcnNlOiBuZy5JUGFyc2VTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkZG9jdW1lbnQ6IG5nLklEb2N1bWVudFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSBwaXBEcmFnZ2FibGU6IElEcmFnZ2FibGVTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IElEcmFnTGlua1Njb3BlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgcHJpdmF0ZSAkYXR0cnM6IElEcmFnTGlua0F0dHJpYnV0ZXNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsdWUgPSAkYXR0cnMubmdEcmFnO1xuICAgICAgICAgICAgdGhpcy5fbXlpZCA9ICRzY29wZS4kaWQ7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0Q2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdGFydCkgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25EcmFnTW92ZUNhbGxiYWsgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdNb3ZlKSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdG9wQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdG9wKSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdWNjZXNzQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdWNjZXNzKSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbGxvd1RyYW5zZm9ybSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbGxvd1RyYW5zZm9ybSkgPyAkc2NvcGUuJGV2YWwoJGF0dHJzLmFsbG93VHJhbnNmb3JtKSA6IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmdldERyYWdEYXRhID0gJHBhcnNlKCRhdHRycy5waXBEcmFnRGF0YSk7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsU2Nyb2xsID0gJGF0dHJzLnBpcFZlcnRpY2FsU2Nyb2xsIHx8IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxTY3JvbGwgPSAkYXR0cnMucGlwSG9yaXpvbnRhbFNjcm9sbCB8fCB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0aW9uRGlzdGFuY2UgPSBwYXJzZUZsb2F0KCRhdHRycy5waXBBY3RpdmF0aW9uRGlzdGFuY2UpIHx8IDc1O1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxEaXN0YW5jZSA9IHBhcnNlRmxvYXQoJGF0dHJzLnBpcEFjdGl2YXRpb25EaXN0YW5jZSkgfHwgNTA7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lckdldHRlciA9ICRwYXJzZSgkYXR0cnMucGlwU2Nyb2xsQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ2N1cnNvcicsICdtb3ZlJyk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cigncGlwLWRyYWdnYWJsZScsICdmYWxzZScpOyAvLyBwcmV2ZW50IG5hdGl2ZSBkcmFnXG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgZHJhZyBoYW5kbGUocykgd2FzIHNwZWNpZmllZFxuICAgICAgICAgICAgLy8gaWYgcXVlcnlTZWxlY3RvckFsbCBpcyBhdmFpbGFibGUsIHdlIHVzZSB0aGlzIGluc3RlYWQgb2YgZmluZFxuICAgICAgICAgICAgLy8gYXMgSlFMaXRlIGZpbmQgaXMgbGltaXRlZCB0byB0YWduYW1lc1xuICAgICAgICAgICAgbGV0IGRyYWdIYW5kbGVzOiBhbnk7XG4gICAgICAgICAgICBpZiAodGhpcy4kZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgICAgICAgICAgICAgZHJhZ0hhbmRsZXMgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdbcGlwLWRyYWctaGFuZGxlXScpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJhZ0hhbmRsZXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ1twaXAtZHJhZy1oYW5kbGVdJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ0hhbmRsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZSA9IGRyYWdIYW5kbGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0ZW5lcnModHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgc2Nyb2xsIGNvbnRhaW5lclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZWxlbWVudC5wYXJlbnQoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJGF0dHJzLnBpcFNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KHRoaXMuc2Nyb2xsQ29udGFpbmVyR2V0dGVyKHRoaXMuJHNjb3BlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KHdpbmRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHRvZ2dsZUxpc3RlbmVycyhlbmFibGUpIHtcbiAgICAgICAgICAgIGlmICghZW5hYmxlKSByZXR1cm47XG4gICAgICAgICAgICAvLyBhZGQgbGlzdGVuZXJzLlxuXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25EZXN0cm95KGVuYWJsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiR3YXRjaCh0aGlzLiRhdHRycy5waXBEcmFnLCAobmV3VmFsLCBvbGRWYWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRW5hYmxlQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJHdhdGNoKHRoaXMuJGF0dHJzLnBpcENlbnRlckFuY2hvciwgKG5ld1ZhbCwgb2xkVmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNlbnRlckFuY2hvcihuZXdWYWwsIG9sZFZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdpcmUgdXAgdG91Y2ggZXZlbnRzXG4gICAgICAgICAgICBpZiAodGhpcy5fZHJhZ0hhbmRsZSkge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZShzKSBzcGVjaWZpZWQsIHVzZSB0aG9zZSB0byBpbml0aWF0ZSBkcmFnXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZS5vbih0aGlzLl9wcmVzc0V2ZW50cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25wcmVzcyhldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vIGhhbmRsZShzKSBzcGVjaWZpZWQsIHVzZSB0aGUgZWxlbWVudCBhcyB0aGUgaGFuZGxlXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vbih0aGlzLl9wcmVzc0V2ZW50cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25wcmVzcyhldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hhc1RvdWNoICYmIHRoaXMuJGVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImltZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vbignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7IC8vIHByZXZlbnQgbmF0aXZlIGRyYWcgZm9yIGltYWdlc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRlc3Ryb3koZW5hYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3RlbmVycyhmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uRW5hYmxlQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnRW5hYmxlZCA9IChuZXdWYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkNlbnRlckFuY2hvcihuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld1ZhbCkpXG4gICAgICAgICAgICAgICAgdGhpcy5fY2VudGVyQW5jaG9yID0gKG5ld1ZhbCB8fCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpc0NsaWNrYWJsZUVsZW1lbnQoZXZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuaXNEZWZpbmVkKGFuZ3VsYXIuZWxlbWVudChldnQudGFyZ2V0KS5hdHRyKFwicGlwLWNhbmNlbC1kcmFnXCIpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgY2xpY2tlZCBzdGFydCB0aGUgZHJhZyBiZWhhdmlvdXJcbiAgICAgICAgICogT24gdG91Y2ggZGV2aWNlcyBhcyBhIHNtYWxsIGRlbGF5IHNvIGFzIG5vdCB0byBwcmV2ZW50IG5hdGl2ZSB3aW5kb3cgc2Nyb2xsaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwcml2YXRlIG9ucHJlc3MoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RyYWdFbmFibGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2xpY2thYmxlRWxlbWVudChldnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZ0LnR5cGUgPT0gXCJtb3VzZWRvd25cIiAmJiBldnQuYnV0dG9uICE9IDApIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc3RhcnQgZHJhZ2dpbmcgb24gcmlnaHQtY2xpY2tcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2F2ZUVsZW1lbnRTdHlsZXMoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQcmVzcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ubG9uZ3ByZXNzKGV2dCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5MT05HX1BSRVNTKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vbih0aGlzLl9tb3ZlRXZlbnRzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUHJlc3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vbih0aGlzLl9yZWxlYXNlRXZlbnRzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUHJlc3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmxvbmdwcmVzcyhldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzYXZlRWxlbWVudFN0eWxlcygpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRTdHlsZS5sZWZ0ID0gdGhpcy4kZWxlbWVudC5jc3MoJ2xlZnQnKSB8fCAwO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFN0eWxlLnRvcCA9IHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnKSB8fCAwO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFN0eWxlLnBvc2l0aW9uID0gdGhpcy4kZWxlbWVudC5jc3MoJ3Bvc2l0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50U3R5bGUud2lkdGggPSB0aGlzLiRlbGVtZW50LmNzcygnd2lkdGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2FuY2VsUHJlc3MoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcHJlc3NUaW1lcik7XG4gICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vZmYodGhpcy5fbW92ZUV2ZW50cywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUHJlc3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4kZG9jdW1lbnQub2ZmKHRoaXMuX3JlbGVhc2VFdmVudHMsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFByZXNzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25sb25ncHJlc3MoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RyYWdFbmFibGVkKSByZXR1cm47XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLiRlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWxsb3dUcmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ09mZnNldCA9IHRoaXMub2Zmc2V0O1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAoIDwgYW55ID4gdGhpcy4kZWxlbWVudCkuY2VudGVyWCA9IHRoaXMuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICAgICAgKCA8IGFueSA+IHRoaXMuJGVsZW1lbnQpLmNlbnRlclkgPSB0aGlzLiRlbGVtZW50WzBdLm9mZnNldEhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIHRoaXMuX214ID0gdGhpcy5waXBEcmFnZ2FibGUuaW5wdXRFdmVudChldnQpLnBhZ2VYO1xuICAgICAgICAgICAgdGhpcy5fbXkgPSB0aGlzLnBpcERyYWdnYWJsZS5pbnB1dEV2ZW50KGV2dCkucGFnZVk7XG4gICAgICAgICAgICB0aGlzLl9tcnggPSB0aGlzLl9teCAtIHRoaXMub2Zmc2V0LmxlZnQ7XG4gICAgICAgICAgICB0aGlzLl9tcnkgPSB0aGlzLl9teSAtIHRoaXMub2Zmc2V0LnRvcDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jZW50ZXJBbmNob3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90eCA9IHRoaXMuX214IC0gKCA8IGFueSA+IHRoaXMuJGVsZW1lbnQpLmNlbnRlclggLSB0aGlzLiR3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHkgPSB0aGlzLl9teSAtICggPCBhbnkgPiB0aGlzLiRlbGVtZW50KS5jZW50ZXJZIC0gdGhpcy4kd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90eCA9IHRoaXMuX214IC0gdGhpcy5fbXJ4IC0gdGhpcy4kd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5ID0gdGhpcy5fbXkgLSB0aGlzLl9tcnkgLSB0aGlzLiR3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGRvY3VtZW50Lm9uKHRoaXMuX21vdmVFdmVudHMsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25tb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4kZG9jdW1lbnQub24odGhpcy5fcmVsZWFzZUV2ZW50cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbnJlbGVhc2UoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBUaGlzIGV2ZW50IGlzIHVzZWQgdG8gcmVjZWl2ZSBtYW51YWxseSB0cmlnZ2VyZWQgbW91c2UgbW92ZSBldmVudHNcbiAgICAgICAgICAgIC8vIGpxTGl0ZSB1bmZvcnR1bmF0ZWx5IG9ubHkgc3VwcG9ydHMgdHJpZ2dlckhhbmRsZXIoLi4uKVxuICAgICAgICAgICAgLy8gU2VlIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90cmlnZ2VySGFuZGxlci9cbiAgICAgICAgICAgIC8vIF9kZXJlZ2lzdGVyUm9vdE1vdmVMaXN0ZW5lciA9ICRyb290U2NvcGUuJG9uKCdkcmFnZ2FibGU6X3RyaWdnZXJIYW5kbGVyTW92ZScsIG9ubW92ZSk7XG4gICAgICAgICAgICB0aGlzLl9kZXJlZ2lzdGVyUm9vdE1vdmVMaXN0ZW5lciA9IHRoaXMuJHJvb3RTY29wZS4kb24oJ2RyYWdnYWJsZTpfdHJpZ2dlckhhbmRsZXJNb3ZlJywgKGV2ZW50LCBvcmlnRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ubW92ZShvcmlnRXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9ubW92ZShldnQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ0VuYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdwaXAtZHJhZ2dpbmcnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLmdldERyYWdEYXRhKHRoaXMuJHNjb3BlKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdwaXAtZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGJyb2FkY2FzdCgnZHJhZ2dhYmxlOnN0YXJ0Jywge1xuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLl9teCxcbiAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5fbXksXG4gICAgICAgICAgICAgICAgICAgIHR4OiB0aGlzLl90eCxcbiAgICAgICAgICAgICAgICAgICAgdHk6IHRoaXMuX3R5LFxuICAgICAgICAgICAgICAgICAgICBldmVudDogZXZ0LFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLiRlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkRyYWdTdGFydENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0Q2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IGV2dFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbXggPSB0aGlzLnBpcERyYWdnYWJsZS5pbnB1dEV2ZW50KGV2dCkucGFnZVg7XG4gICAgICAgICAgICB0aGlzLl9teSA9IHRoaXMucGlwRHJhZ2dhYmxlLmlucHV0RXZlbnQoZXZ0KS5wYWdlWTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbFNjcm9sbCB8fCB0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnVG9TY3JvbGwoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2NlbnRlckFuY2hvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3R4ID0gdGhpcy5fbXggLSAoIDwgYW55ID4gdGhpcy4kZWxlbWVudCkuY2VudGVyWCAtIHRoaXMuX2RyYWdPZmZzZXQubGVmdDtcbiAgICAgICAgICAgICAgICB0aGlzLl90eSA9IHRoaXMuX215IC0gKCA8IGFueSA+IHRoaXMuJGVsZW1lbnQpLmNlbnRlclkgLSB0aGlzLl9kcmFnT2Zmc2V0LnRvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHggPSB0aGlzLl9teCAtIHRoaXMuX21yeCAtIHRoaXMuX2RyYWdPZmZzZXQubGVmdDtcbiAgICAgICAgICAgICAgICB0aGlzLl90eSA9IHRoaXMuX215IC0gdGhpcy5fbXJ5IC0gdGhpcy5fZHJhZ09mZnNldC50b3A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubW92ZUVsZW1lbnQodGhpcy5fdHgsIHRoaXMuX3R5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2RyYWdnYWJsZTptb3ZlJywge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMuX214LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMuX215LFxuICAgICAgICAgICAgICAgIHR4OiB0aGlzLl90eCxcbiAgICAgICAgICAgICAgICB0eTogdGhpcy5fdHksXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2dCxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLiRlbGVtZW50LFxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgICAgICAgICAgICAgdWlkOiB0aGlzLl9teWlkLFxuICAgICAgICAgICAgICAgIGRyYWdPZmZzZXQ6IHRoaXMuX2RyYWdPZmZzZXRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkRyYWdNb3ZlQ2FsbGJhaykge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25EcmFnTW92ZUNhbGxiYWsodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiBhbmd1bGFyLmV4dGVuZChldnQsICksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbnJlbGVhc2UoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RyYWdFbmFibGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2RyYWdnYWJsZTplbmQnLCB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5fbXgsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5fbXksXG4gICAgICAgICAgICAgICAgdHg6IHRoaXMuX3R4LFxuICAgICAgICAgICAgICAgIHR5OiB0aGlzLl90eSxcbiAgICAgICAgICAgICAgICBldmVudDogZXZ0LFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuJGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogdGhpcy5vbkRyYWdDb21wbGV0ZSxcbiAgICAgICAgICAgICAgICB1aWQ6IHRoaXMuX215aWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygncGlwLWRyYWdnaW5nJyk7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnBhcmVudCgpLmZpbmQoJy5waXAtZHJhZy1lbnRlcicpLnJlbW92ZUNsYXNzKCdwaXAtZHJhZy1lbnRlcicpO1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy4kZG9jdW1lbnQub2ZmKHRoaXMuX21vdmVFdmVudHMpO1xuICAgICAgICAgICAgdGhpcy4kZG9jdW1lbnQub2ZmKHRoaXMuX3JlbGVhc2VFdmVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25EcmFnU3RvcENhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdG9wQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiBldnRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RlcmVnaXN0ZXJSb290TW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uRHJhZ0NvbXBsZXRlKGV2dCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9uRHJhZ1N1Y2Nlc3NDYWxsYmFjaykgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25EcmFnU3VjY2Vzc0NhbGxiYWNrKHRoaXMuJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgICAgICRkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IGV2dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHJlc2V0KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWxsb3dUcmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcnLFxuICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAnJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5fZWxlbWVudFN0eWxlLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuX2VsZW1lbnRTdHlsZS50b3AsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuX2VsZW1lbnRTdHlsZS5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6ICcnLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5fZWxlbWVudFN0eWxlLndpZHRoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG1vdmVFbGVtZW50KHgsIHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVXaWR0aCA9IHRoaXMuJGVsZW1lbnQuY3NzKCd3aWR0aCcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWxsb3dUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ21hdHJpeDNkKDEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDAsICcgKyB4ICsgJywgJyArIHkgKyAnLCAwLCAxKScsXG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogOTk5OTksXG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdtYXRyaXgzZCgxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAnICsgeCArICcsICcgKyB5ICsgJywgMCwgMSknLFxuICAgICAgICAgICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICdtYXRyaXgoMSwgMCwgMCwgMSwgJyArIHggKyAnLCAnICsgeSArICcpJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JzogeCArICdweCcsXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiB5ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBlV2lkdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgZHJhZ1RvU2Nyb2xsKCkge1xuICAgICAgICAgICAgbGV0IHNjcm9sbFggPSAwLFxuICAgICAgICAgICAgICAgIHNjcm9sbFkgPSAwLFxuICAgICAgICAgICAgICAgIG9mZnNldCA9IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldCgpIHx8IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTGVmdCA9IG9mZnNldCh0aGlzLnNjcm9sbENvbnRhaW5lcikubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSB0aGlzLnNjcm9sbENvbnRhaW5lci5pbm5lcldpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclJpZ2h0ID0gY29udGFpbmVyTGVmdCArIGNvbnRhaW5lcldpZHRoO1xuXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLl9teCAtIGNvbnRhaW5lckxlZnQpIDwgdGhpcy5hY3RpdmF0aW9uRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWCA9IC10aGlzLnNjcm9sbERpc3RhbmNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvbnRhaW5lclJpZ2h0IC0gdGhpcy5fbXgpIDwgdGhpcy5hY3RpdmF0aW9uRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWCA9IHRoaXMuc2Nyb2xsRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclRvcCA9IG9mZnNldCh0aGlzLnNjcm9sbENvbnRhaW5lcikudG9wLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSB0aGlzLnNjcm9sbENvbnRhaW5lci5pbm5lckhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJCb3R0b20gPSBjb250YWluZXJUb3AgKyBjb250YWluZXJIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX215IC0gY29udGFpbmVyVG9wKSA8IHRoaXMuYWN0aXZhdGlvbkRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFkgPSAtdGhpcy5zY3JvbGxEaXN0YW5jZSArIDMwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGNvbnRhaW5lckJvdHRvbSAtIHRoaXMuX215KSA8IHRoaXMuYWN0aXZhdGlvbkRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFkgPSB0aGlzLnNjcm9sbERpc3RhbmNlIC0gMzA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjcm9sbFggIT09IDAgfHwgc2Nyb2xsWSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0KCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsTGVmdChjb250YWluZXJTY3JvbGxMZWZ0ICsgc2Nyb2xsWCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wKGNvbnRhaW5lclNjcm9sbFRvcCArIHNjcm9sbFkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IERyYWcgPSBmdW5jdGlvbiAoXG4gICAgICAgICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICAkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UsXG4gICAgICAgICRkb2N1bWVudDogbmcuSURvY3VtZW50U2VydmljZSxcbiAgICAgICAgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXG4gICAgICAgIHBpcERyYWdnYWJsZTogSURyYWdnYWJsZVNlcnZpY2UsXG4gICAgKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgICRzY29wZTogSURyYWdMaW5rU2NvcGUsXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgICAgICAkYXR0cnM6IElEcmFnTGlua0F0dHJpYnV0ZXNcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5ldyBEcmFnTGluaygkcm9vdFNjb3BlLCAkcGFyc2UsICRkb2N1bWVudCwgJHdpbmRvdywgcGlwRHJhZ2dhYmxlLCAkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwicGlwRHJhZ2dhYmxlXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcERyYWcnLCBEcmFnKTtcbn0iLCJleHBvcnQgaW50ZXJmYWNlIElEcmFnZ2FibGVTZXJ2aWNlIHtcbiAgICBpbnB1dEV2ZW50KGV2ZW50OiBhbnkpO1xufVxuXG5jbGFzcyBEcmFnZ2FibGVTZXJ2aWNlIGltcGxlbWVudHMgSURyYWdnYWJsZVNlcnZpY2Uge1xuICAgIHB1YmxpYyBpbnB1dEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChldmVudC50b3VjaGVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy9DaGVja2luZyBib3RoIGlzIG5vdCByZWR1bmRlbnQuIElmIG9ubHkgY2hlY2sgaWYgdG91Y2hlcyBpc0RlZmluZWQsIGFuZ3VsYXJqcyBpc0RlZm5pZWQgd2lsbCByZXR1cm4gZXJyb3IgYW5kIHN0b3AgdGhlIHJlbWFpbmluZyBzY3JpcHR5IGlmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgaXMgbm90IGRlZmluZWQuXG4gICAgICAgIGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGV2ZW50Lm9yaWdpbmFsRXZlbnQpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH07XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKFwicGlwRHJhZ2dhYmxlXCIpXG4gICAgLnNlcnZpY2UoJ3BpcERyYWdnYWJsZScsIERyYWdnYWJsZVNlcnZpY2UpO1xuICAgICIsImltcG9ydCB7XG4gICAgSURyYWdnYWJsZVNlcnZpY2Vcbn0gZnJvbSAnLi9EcmFnZ2FibGVTZXJ2aWNlJztcblxue1xuICAgIGludGVyZmFjZSBJRHJvcExpbmtTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XG4gICAgICAgIHZhbHVlOiBhbnk7XG4gICAgICAgIGlzVG91Y2hpbmc6IGFueTtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgSURyb3BMaW5rQXR0cmlidXRlcyBleHRlbmRzIG5nLklBdHRyaWJ1dGVzIHtcbiAgICAgICAgcGlwRHJvcDogYW55O1xuICAgICAgICBwaXBEcm9wU3VjY2VzczogYW55O1xuICAgICAgICBwaXBEcmFnU3RhcnQ6IGFueTtcbiAgICAgICAgcGlwRHJhZ1N0b3A6IGFueTtcbiAgICAgICAgcGlwRHJhZ01vdmU6IGFueTtcbiAgICAgICAgcGlwRW50ZXI6IGFueTtcbiAgICAgICAgcGlwTGVhdmU6IGFueTtcbiAgICAgICAgcGlwRGlhY3RpdmU6IGFueTtcbiAgICB9XG5cbiAgICBjbGFzcyBEcm9wTGluayB7XG5cbiAgICAgICAgcHJpdmF0ZSBfbGFzdERyb3BUb3VjaDogYW55O1xuICAgICAgICBwcml2YXRlIF9teWlkOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgX2Ryb3BFbmFibGVkOiBib29sZWFuO1xuXG4gICAgICAgIHByaXZhdGUgb25Ecm9wQ2FsbGJhY2s6IEZ1bmN0aW9uOyAvLyB8fCBmdW5jdGlvbigpe307XG4gICAgICAgIHByaXZhdGUgb25EcmFnU3RhcnRDYWxsYmFjazogRnVuY3Rpb247XG4gICAgICAgIHByaXZhdGUgb25EcmFnU3RvcENhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdNb3ZlQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgICAgICBwcml2YXRlIG9uRW50ZXJDYWxsYmFjazogRnVuY3Rpb247XG4gICAgICAgIHByaXZhdGUgb25MZWF2ZUNhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICAgICAgcHJpdmF0ZSBvbkRpYWN0aXZlQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRkb2N1bWVudDogbmcuSURvY3VtZW50U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgcGlwRHJhZ2dhYmxlOiBJRHJhZ2dhYmxlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOiBJRHJvcExpbmtTY29wZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgIHByaXZhdGUgJGF0dHJzOiBJRHJvcExpbmtBdHRyaWJ1dGVzXG4gICAgICAgICkge1xuICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gJGF0dHJzLnBpcERyb3A7XG4gICAgICAgICAgICAkc2NvcGUuaXNUb3VjaGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9teWlkID0gJHNjb3BlLiRpZDtcbiAgICAgICAgICAgIHRoaXMub25Ecm9wQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyb3BTdWNjZXNzKTsgLy8gfHwgZnVuY3Rpb24oKXt9O1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdGFydENhbGxiYWNrID0gJHBhcnNlKCRhdHRycy5waXBEcmFnU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdG9wQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdG9wKTtcbiAgICAgICAgICAgIHRoaXMub25EcmFnTW92ZUNhbGxiYWNrID0gJHBhcnNlKCRhdHRycy5waXBEcmFnTW92ZSk7XG4gICAgICAgICAgICB0aGlzLm9uRW50ZXJDYWxsYmFjayA9ICRwYXJzZSgkYXR0cnMucGlwRW50ZXIpO1xuICAgICAgICAgICAgdGhpcy5vbkxlYXZlQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcExlYXZlKTtcbiAgICAgICAgICAgIHRoaXMub25EaWFjdGl2ZUNhbGxiYWNrID0gJHBhcnNlKCRhdHRycy5waXBEaWFjdGl2ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0ZW5lcnModHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHRvZ2dsZUxpc3RlbmVycyhlbmFibGUpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGlmICghZW5hYmxlKSByZXR1cm47XG4gICAgICAgICAgICAvLyBhZGQgbGlzdGVuZXJzLlxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJHdhdGNoKHRoaXMuJGF0dHJzLnBpcERyb3AsIChuZXdWYWwsIG9sZFZhbCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmFibGVDaGFuZ2UobmV3VmFsLCBvbGRWYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kb24oJyRkZXN0cm95JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3koZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kb24oJ2RyYWdnYWJsZTpzdGFydCcsIChldnQsIG9iaikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25EcmFnU3RhcnQoZXZ0LCBvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kb24oJ2RyYWdnYWJsZTptb3ZlJywgKGV2dCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdNb3ZlKGV2dCwgb2JqKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJG9uKCdkcmFnZ2FibGU6ZW5kJywgKGV2dCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdFbmQoZXZ0LCBvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uRGVzdHJveShlbmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGlzdGVuZXJzKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25FbmFibGVDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BFbmFibGVkID0gbmV3VmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdTdGFydChldnQsIG9iaikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcm9wRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc1RvdWNoaW5nKG9iai54LCBvYmoueSwgb2JqLmVsZW1lbnQsIGV2dCwgb2JqKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJGF0dHJzLnBpcERyYWdTdGFydCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0Q2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDogb2JqXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdNb3ZlKGV2dCwgb2JqKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Ryb3BFbmFibGVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzVG91Y2hpbmcob2JqLngsIG9iai55LCBvYmouZWxlbWVudCwgZXZ0LCBvYmopO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kYXR0cnMucGlwRHJhZ01vdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdNb3ZlQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDogb2JqXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdFbmQoZXZ0LCBvYmopIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGxpc3RlbiB0byBkcm9wIGV2ZW50cyBpZiB0aGlzIGlzIHRoZSBlbGVtZW50IGJlaW5nIGRyYWdnZWRcbiAgICAgICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSBzdHlsZXMgYW5kIHJldHVyblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcm9wRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRHJhZ1N0eWxlcyhmYWxzZSwgb2JqLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNUb3VjaGluZyhvYmoueCwgb2JqLnksIG9iai5lbGVtZW50LCBldnQsIG9iaikpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIHRoZSBwaXBEcmFnZ2FibGUgcGlwRHJhZ1N1Y2Nlc3MgZWxlbWVudCBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGlmIChvYmouY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNhbGxiYWNrKG9iaik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGF0dHJzLnBpcERyb3BTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyb3BDYWxsYmFjayh0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IG9iaixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0OiB0aGlzLiRzY29wZS4kZXZhbCh0aGlzLiRzY29wZS52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kYXR0cnMucGlwRGlhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGlhY3RpdmVDYWxsYmFjayh0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IG9iaixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0OiB0aGlzLiRzY29wZS4kZXZhbCh0aGlzLiRzY29wZS52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRhdHRycy5waXBEcmFnU3RvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ1N0b3BDYWxsYmFjayh0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGE6IG9iai5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiBvYmpcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRHJhZ1N0eWxlcyhmYWxzZSwgb2JqLmVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpc1RvdWNoaW5nKG1vdXNlWCwgbW91c2VZLCBkcmFnRWxlbWVudCwgZXZ0LCBvYmopIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdWNoaW5nID0gdGhpcy5oaXRUZXN0KG1vdXNlWCwgbW91c2VZKTtcbiAgICAgICAgICAgIGlmICh0b3VjaGluZyAhPT0gdGhpcy4kc2NvcGUuaXNUb3VjaGluZykge1xuICAgICAgICAgICAgICAgIGlmICh0b3VjaGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW50ZXJDYWxsYmFjayh0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGE6IG9iai5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiBvYmosXG4gICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0OiB0aGlzLiRzY29wZS4kZXZhbCh0aGlzLiRzY29wZS52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxlYXZlQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDogb2JqLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldDogdGhpcy4kc2NvcGUuJGV2YWwodGhpcy4kc2NvcGUudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kc2NvcGUuaXNUb3VjaGluZyA9IHRvdWNoaW5nO1xuICAgICAgICAgICAgaWYgKHRvdWNoaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdERyb3BUb3VjaCA9IHRoaXMuJGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURyYWdTdHlsZXModG91Y2hpbmcsIGRyYWdFbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0b3VjaGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdXBkYXRlRHJhZ1N0eWxlcyh0b3VjaGluZywgZHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0b3VjaGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1kcmFnLWVudGVyJyk7XG4gICAgICAgICAgICAgICAgZHJhZ0VsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1kcmFnLW92ZXInKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbGFzdERyb3BUb3VjaCA9PSB0aGlzLiRlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdERyb3BUb3VjaCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygncGlwLWRyYWctZW50ZXInKTtcbiAgICAgICAgICAgICAgICBkcmFnRWxlbWVudC5yZW1vdmVDbGFzcygncGlwLWRyYWctb3ZlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByaXZhdGUgaGl0VGVzdCh4LCB5KSB7XG4gICAgICAgICAgICBjb25zdCBib3VuZHMgPSB0aGlzLiRlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgeCAtPSB0aGlzLiRkb2N1bWVudFswXS5ib2R5LnNjcm9sbExlZnQgKyB0aGlzLiRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHkgLT0gdGhpcy4kZG9jdW1lbnRbMF0uYm9keS5zY3JvbGxUb3AgKyB0aGlzLiRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgcmV0dXJuIHggPj0gYm91bmRzLmxlZnQgJiZcbiAgICAgICAgICAgICAgICB4IDw9IGJvdW5kcy5yaWdodCAmJlxuICAgICAgICAgICAgICAgIHkgPD0gYm91bmRzLmJvdHRvbSAmJlxuICAgICAgICAgICAgICAgIHkgPj0gYm91bmRzLnRvcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IERyb3AgPSBmdW5jdGlvbiAoXG4gICAgICAgICRwYXJzZTogbmcuSVBhcnNlU2VydmljZSxcbiAgICAgICAgJGRvY3VtZW50OiBuZy5JRG9jdW1lbnRTZXJ2aWNlLFxuICAgICAgICAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICBwaXBEcmFnZ2FibGU6IElEcmFnZ2FibGVTZXJ2aWNlLFxuICAgICk6IG5nLklEaXJlY3RpdmUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChcbiAgICAgICAgICAgICAgICAkc2NvcGU6IElEcm9wTGlua1Njb3BlLFxuICAgICAgICAgICAgICAgICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICAgICAgJGF0dHJzOiBJRHJvcExpbmtBdHRyaWJ1dGVzXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBuZXcgRHJvcExpbmsoJHBhcnNlLCAkZG9jdW1lbnQsICR0aW1lb3V0LCBwaXBEcmFnZ2FibGUsICRzY29wZSwgJGVsZW1lbnQsICRhdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIilcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwRHJvcCcsIERyb3ApO1xufSIsIntcblxuICAgIGNsYXNzIFByZXZlbnREcmFnTGluayB7XG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5XG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ3BpcC1kcmFnZ2FibGUnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTGlzdGVuZXJzKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSB0b2dnbGVMaXN0ZW5lcnMoZW5hYmxlKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXJzXG4gICAgICAgICAgICBpZiAoIWVuYWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gYWRkIGxpc3RlbmVycy5cbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ21vdXNlZG93biB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCcsIChldmVudCkgPT4geyB0aGlzLmFic29yYkV2ZW50XyhldmVudCk7IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhYnNvcmJFdmVudF8oZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiAmJiBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBQcmV2ZW50RHJhZyA9IGZ1bmN0aW9uICgpOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgICAgICAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBuZXcgUHJldmVudERyYWdMaW5rKCRlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcInBpcERyYWdnYWJsZVwiKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBQcmV2ZW50RHJhZycsIFByZXZlbnREcmFnKTtcbn0iLCJhbmd1bGFyLm1vZHVsZShcInBpcERyYWdnYWJsZVwiLCBbXSk7XG5cbmltcG9ydCAnLi9EcmFnZ2FibGVTZXJ2aWNlJztcbmltcG9ydCAnLi9EcmFnJztcbmltcG9ydCAnLi9Ecm9wJztcbmltcG9ydCAnLi9QcmV2ZW50RHJhZyc7XG5pbXBvcnQgJy4vQ2FuY2VsRHJhZyc7XG4iLCJ7XG4gICAgaW50ZXJmYWNlIEZvY3VzZWRTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XG4gICAgICAgIHBpcEZvY3VzZWRDb2xvcjogRnVuY3Rpb247XG4gICAgICAgIHBpcEZvY3VzZWRDbGFzczogRnVuY3Rpb247XG4gICAgICAgIHBpcEZvY3VzZWRSZWJpbmQ6IEZ1bmN0aW9uO1xuICAgICAgICBwaXBGb2N1c2VkVGFiaW5kZXg6IEZ1bmN0aW9uO1xuICAgICAgICBwaXBGb2N1c2VkT3BhY2l0eTogRnVuY3Rpb247XG4gICAgICAgIHBpcEZvY3VzZWREYXRhOiBGdW5jdGlvbjtcbiAgICAgICAgcGlwV2l0aEhpZGRlbjogRnVuY3Rpb247XG4gICAgICAgIHBpcFJlYmluZDogRnVuY3Rpb247XG4gICAgfVxuXG4gICAgaW50ZXJmYWNlIEZvY3VzZWRBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgICAgICBuZ01vZGVsOiBhbnk7XG4gICAgICAgIHBpcEZvY3VzZWREYXRhOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgRm9jdXNlZExpbmsgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcHJpdmF0ZSBjb250cm9sczogSlF1ZXJ5O1xuICAgICAgICBwcml2YXRlIGNvbnRyb2xzTGVuZ3RoOiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgY29sb3I6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBvcGFjaXR5RGVsdGE6IG51bWJlciA9IDAuNDtcbiAgICAgICAgcHJpdmF0ZSBvcGFjaXR5TGltaXQ6IG51bWJlciA9IDAuNTtcbiAgICAgICAgcHJpdmF0ZSBvbGRCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBvbkZvY3VzQ2xhc3M6IHN0cmluZztcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOiBGb2N1c2VkU2NvcGUsXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICAkYXR0cnM6IEZvY3VzZWRBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkbWRDb25zdGFudDogYW55LFxuICAgICAgICAgICAgcHJpdmF0ZSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZVxuICAgICAgICApIHtcblxuICAgICAgICAgICAgJGVsZW1lbnQub24oJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5ZG93bkxpc3RlbmVyKGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoJGF0dHJzLm5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCduZ01vZGVsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dCh0aGlzLmluaXQpO1xuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJGF0dHJzLnBpcEZvY3VzZWREYXRhKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgncGlwRm9jdXNlZERhdGEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KHRoaXMuaW5pdCk7XG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGluaXQoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuJHNjb3BlLnBpcFdpdGhIaWRkZW4gJiYgdGhpcy4kc2NvcGUucGlwV2l0aEhpZGRlbigpID8gJy5waXAtZm9jdXNhYmxlJyA6ICcucGlwLWZvY3VzYWJsZTp2aXNpYmxlJztcbiAgICAgICAgICAgIHRoaXMub25Gb2N1c0NsYXNzID0gdGhpcy4kc2NvcGUucGlwRm9jdXNlZENsYXNzID8gdGhpcy4kc2NvcGUucGlwRm9jdXNlZENsYXNzKCkgOiAnJztcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHMgPSB0aGlzLiRlbGVtZW50LmZpbmQoc2VsZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sc0xlbmd0aCA9IHRoaXMuY29udHJvbHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5jaGVja1RhYmluZGV4KHRoaXMuY29udHJvbHMpO1xuICAgICAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICAgICAgdGhpcy5jb250cm9scy5vbignZm9jdXMnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICgkKHRhcmdldCkuaGFzQ2xhc3MoJ21kLWZvY3VzZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5waXBSZWJpbmQgJiYgdGhpcy4kc2NvcGUucGlwUmViaW5kKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1mb2N1c2VkLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgICQodGFyZ2V0KS5hZGRDbGFzcyh0aGlzLm9uRm9jdXNDbGFzcyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRzY29wZS5waXBGb2N1c2VkT3BhY2l0eSB8fCAhdGhpcy4kc2NvcGUucGlwRm9jdXNlZE9wYWNpdHkoKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3IgPSAkKHRhcmdldCkuY3NzKCdiYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbGRCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCB0aGlzLnJnYmEodGhpcy5jb2xvcikpO1xuICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkuYWRkQ2xhc3MoJ21kLWZvY3VzZWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkuYWRkQ2xhc3MoJ21kLWZvY3VzZWQgbWQtZm9jdXNlZC1vcGFjaXR5Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KS5vbignZm9jdXNvdXQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICghJCh0YXJnZXQpLmhhc0NsYXNzKCdtZC1mb2N1c2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdwaXAtZm9jdXNlZC1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICAkKHRhcmdldCkucmVtb3ZlQ2xhc3ModGhpcy5vbkZvY3VzQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy4kc2NvcGUucGlwRm9jdXNlZE9wYWNpdHkgfHwgIXRoaXMuJHNjb3BlLnBpcEZvY3VzZWRPcGFjaXR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmNzcygnYmFja2dyb3VuZENvbG9yJywgdGhpcy5vbGRCYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAkKHRhcmdldCkucmVtb3ZlQ2xhc3MoJ21kLWZvY3VzZWQgbWQtZm9jdXNlZC1vcGFjaXR5Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLnJlbW92ZUNsYXNzKCdtZC1mb2N1c2VkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHJnYmEoY29sb3IpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzY29wZS5waXBGb2N1c2VkQ29sb3IgJiYgdGhpcy4kc2NvcGUucGlwRm9jdXNlZENvbG9yKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGUucGlwRm9jdXNlZENvbG9yKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFyciA9IGNvbG9yLnNwbGl0KFwiKFwiKVsxXS5zcGxpdChcIilcIilbMF0uc3BsaXQoXCIsXCIpO1xuXG4gICAgICAgICAgICBpZiAoIWFyciB8fCBhcnIubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVkLCBibHVlLCBncmVlbiwgb3BhY2l0eTtcblxuICAgICAgICAgICAgb3BhY2l0eSA9IGFyci5sZW5ndGggPT0gMyA/IDEgOiBwYXJzZUZsb2F0KGFyclszXSk7XG4gICAgICAgICAgICByZWQgPSBhcnJbMF07XG4gICAgICAgICAgICBibHVlID0gYXJyWzFdO1xuICAgICAgICAgICAgZ3JlZW4gPSBhcnJbMl07XG5cbiAgICAgICAgICAgIGlmIChvcGFjaXR5IDwgdGhpcy5vcGFjaXR5TGltaXQpIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5ICs9IHRoaXMub3BhY2l0eURlbHRhO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5IC09IHRoaXMub3BhY2l0eURlbHRhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJ3JnYmEoJyArIHJlZCArICcsICcgKyBibHVlICsgJywgJyArIGdyZWVuICsgJywgJyArIG9wYWNpdHkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNldFRhYmluZGV4KGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjaGVja1RhYmluZGV4KGNvbnRyb2xzKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IF8uZmluZEluZGV4KGNvbnRyb2xzLCAoYykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjWyd0YWJpbmRleCddID4gLTE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09IC0xICYmIGNvbnRyb2xzLmxlbmd0aCA+IDAgJiYgdGhpcy4kc2NvcGUucGlwRm9jdXNlZFRhYmluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUYWJpbmRleChhbmd1bGFyLmVsZW1lbnQoY29udHJvbHNbMF0pLCB0aGlzLiRzY29wZS5waXBGb2N1c2VkVGFiaW5kZXgoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGtleWRvd25MaXN0ZW5lcihlKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlDb2RlID0gZS53aGljaCB8fCBlLmtleUNvZGU7XG4gICAgICAgICAgICAvLyBDaGVjayBjb250cm9sIGtleUNvZGVcbiAgICAgICAgICAgIGlmIChrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVyB8fFxuICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5VUF9BUlJPVyB8fFxuICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVyB8fFxuICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSAoa2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLlJJR0hUX0FSUk9XIHx8IGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XKSA/IDEgOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgbW92ZVRvQ29udHJvbCA9IHRoaXMuY29udHJvbHMuaW5kZXgodGhpcy5jb250cm9scy5maWx0ZXIoXCIubWQtZm9jdXNlZFwiKSkgKyBpbmNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSBmb2N1cyB0byBuZXh0IGNvbnRyb2xcbiAgICAgICAgICAgICAgICBpZiAobW92ZVRvQ29udHJvbCA+PSAwICYmIG1vdmVUb0NvbnRyb2wgPCB0aGlzLmNvbnRyb2xzTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNbbW92ZVRvQ29udHJvbF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBGb2N1c2VkID0gZnVuY3Rpb24gKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsIFxuICAgICAgICAkbWRDb25zdGFudDogYW55LCBcbiAgICAgICAgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2VcbiAgICApOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgcGlwRm9jdXNlZENvbG9yOiAnJj8nLFxuICAgICAgICAgICAgICAgIHBpcEZvY3VzZWRDbGFzczogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBGb2N1c2VkUmViaW5kOiAnJj8nLFxuICAgICAgICAgICAgICAgIHBpcEZvY3VzZWRUYWJpbmRleDogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBGb2N1c2VkT3BhY2l0eTogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBGb2N1c2VkRGF0YTogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBXaXRoSGlkZGVuOiAnJj8nLFxuICAgICAgICAgICAgICAgIHBpcFJlYmluZDogJyY/J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZTogRm9jdXNlZFNjb3BlLCAkZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IEZvY3VzZWRBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgbmV3IEZvY3VzZWRMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHRpbWVvdXQsICRtZENvbnN0YW50LCAkd2luZG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcInBpcEZvY3VzZWRcIiwgW10pXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcEZvY3VzZWQnLCBGb2N1c2VkKTtcbn0iLCLvu79pbXBvcnQgJy4vdW5zYXZlZF9jaGFuZ2VzL1Vuc2F2ZWRDaGFuZ2VzJztcbmltcG9ydCAnLi9zaG9ydGN1dHMvaW5kZXgnO1xuaW1wb3J0ICcuL2ZvY3VzZWQvRm9jdXNlZCc7XG5pbXBvcnQgJy4vZHJhZ2dhYmxlL2luZGV4JztcbmltcG9ydCAnLi9zZWxlY3RlZC9TZWxlY3RlZCc7XG5pbXBvcnQgJy4vaW5maW5pdGVfc2Nyb2xsL0luZmluaXRlU2Nyb2xsJztcblxuYW5ndWxhci5tb2R1bGUoJ3BpcEJlaGF2aW9ycycsIFtcbiAgICAncGlwRm9jdXNlZCcsXG4gICAgJ3BpcFNlbGVjdGVkJyxcbiAgICAncGlwSW5maW5pdGVTY3JvbGwnLFxuICAgICdwaXBVbnNhdmVkQ2hhbmdlcycsXG4gICAgJ3BpcERyYWdnYWJsZScsXG4gICAgJ3BpcFNob3J0Y3V0cydcbl0pO1xuXG5leHBvcnQgKiBmcm9tICcuL3Nob3J0Y3V0cy9pbmRleCc7XG4iLCJ7XG4gICAgaW50ZXJmYWNlIEluZmluaXRlU2Nyb2xsU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xuICAgICAgICBwaXBJbmZpbml0ZVNjcm9sbDogRnVuY3Rpb247XG4gICAgICAgIHBpcFNjcm9sbENvbnRhaW5lcjogSlF1ZXJ5O1xuICAgICAgICBwaXBTY3JvbGxEaXN0YW5jZTogbnVtYmVyIHwgc3RyaW5nO1xuICAgICAgICBwaXBTY3JvbGxEaXNhYmxlZDogYm9vbGVhbjtcbiAgICAgICAgcGlwU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b206IGJvb2xlYW47XG4gICAgICAgIHBpcFNjcm9sbExpc3RlbkZvckV2ZW50OiBzdHJpbmc7XG4gICAgfVxuXG4gICAgaW50ZXJmYWNlIEluZmluaXRlU2Nyb2xsQXR0cmlidXRlcyBleHRlbmRzIG5nLklBdHRyaWJ1dGVzIHtcbiAgICAgICAgcGlwU2Nyb2xsUGFyZW50OiBhbnk7XG4gICAgICAgIHBpcFNjcm9sSW1tZWRpYXRlQ2hlY2s6IGFueTtcbiAgICB9XG5cbiAgICBjbGFzcyBJbmZpbml0ZVNjcm9sbExpbmsge1xuICAgICAgICBwcml2YXRlIFRIUk9UVExFX01JTExJU0VDT05EUzogbnVtYmVyID0gNTAwO1xuICAgICAgICBwcml2YXRlIGNoZWNrV2hlbkVuYWJsZWQgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHNjcm9sbENvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgaW1tZWRpYXRlQ2hlY2sgPSB0cnVlO1xuICAgICAgICBwcml2YXRlIHNjcm9sbERpc3RhbmNlID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxFbmFibGVkID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSB1bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdXNlRG9jdW1lbnRCb3R0b20gPSBmYWxzZTtcbiAgICAgICAgcHJpdmF0ZSB3aW5kb3dFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBvbkNvbnRhaW5lclNjcm9sbFRocm90dGxlOiBGdW5jdGlvbjtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRzY29wZTogSW5maW5pdGVTY3JvbGxTY29wZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgIHByaXZhdGUgJGF0dHJzOiBJbmZpbml0ZVNjcm9sbEF0dHJpYnV0ZXNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLndpbmRvd0VsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdyk7XG5cbiAgICAgICAgICAgIHRoaXMub25Db250YWluZXJTY3JvbGxUaHJvdHRsZSA9IF8udGhyb3R0bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db250YWluZXJTY3JvbGwoKTtcbiAgICAgICAgICAgIH0sIHRoaXMuVEhST1RUTEVfTUlMTElTRUNPTkRTKTtcblxuICAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIudW5iaW5kKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db250YWluZXJTY3JvbGxUaHJvdHRsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdwaXBTY3JvbGxEaXN0YW5jZScsICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxEaXN0YW5jZSh2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxEaXN0YW5jZSgkc2NvcGUucGlwU2Nyb2xsRGlzdGFuY2UpO1xuXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdwaXBTY3JvbGxEaXNhYmxlZCcsICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxEaXNhYmxlZCh2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxEaXNhYmxlZCgkc2NvcGUucGlwU2Nyb2xsRGlzYWJsZWQpO1xuXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdwaXBTY3JvbGxVc2VEb2N1bWVudEJvdHRvbScsICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxVc2VEb2N1bWVudEJvdHRvbSh2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxVc2VEb2N1bWVudEJvdHRvbSgkc2NvcGUucGlwU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20pO1xuXG4gICAgICAgICAgICB0aGlzLmNoYW5nZUNvbnRhaW5lcih0aGlzLndpbmRvd0VsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKCRzY29wZS5waXBTY3JvbGxMaXN0ZW5Gb3JFdmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5yZWdpc3RlckV2ZW50TGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbigkc2NvcGUucGlwU2Nyb2xsTGlzdGVuRm9yRXZlbnQsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbnRhaW5lclNjcm9sbFRocm90dGxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ3BpcFNjcm9sbENvbnRhaW5lcicsIChuZXdDb250YWluZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobmV3Q29udGFpbmVyICE9IHRoaXMuc2Nyb2xsQ29udGFpbmVyKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbENvbnRhaW5lcihuZXdDb250YWluZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVNjcm9sbENvbnRhaW5lcigkc2NvcGUucGlwU2Nyb2xsQ29udGFpbmVyIHx8IFtdKTtcblxuICAgICAgICAgICAgaWYgKCRhdHRycy5waXBTY3JvbGxQYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUNvbnRhaW5lcihhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQucGFyZW50KCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgkYXR0cnMucGlwU2Nyb2xJbW1lZGlhdGVDaGVjayAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlQ2hlY2sgPSAkc2NvcGUuJGV2YWwoJGF0dHJzLnBpcFNjcm9sSW1tZWRpYXRlQ2hlY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkaW50ZXJ2YWwoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbW1lZGlhdGVDaGVjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vbkNvbnRhaW5lclNjcm9sbFRocm90dGxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIDAsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBoZWlnaHQoZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF0gfHwgZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChpc05hTihlbGVtZW50Lm9mZnNldEhlaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9mZnNldFRvcChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHx8IGVsZW1lbnQuY3NzKCdub25lJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB0aGlzLnBhZ2VZT2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBwYWdlWU9mZnNldChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXSB8fCBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKGlzTmFOKHdpbmRvdy5wYWdlWU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkNvbnRhaW5lclNjcm9sbCgpIHtcbiAgICAgICAgICAgIGxldCBjb250YWluZXJCb3R0b20sXG4gICAgICAgICAgICAgICAgY29udGFpbmVyVG9wT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGVsZW1lbnRCb3R0b20sXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nLFxuICAgICAgICAgICAgICAgIHNob3VsZFNjcm9sbDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsQ29udGFpbmVyID09PSB0aGlzLndpbmRvd0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXJCb3R0b20gPSB0aGlzLmhlaWdodCh0aGlzLnNjcm9sbENvbnRhaW5lcikgKyB0aGlzLnBhZ2VZT2Zmc2V0KHRoaXMuc2Nyb2xsQ29udGFpbmVyWzBdLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudEJvdHRvbSA9IHRoaXMub2Zmc2V0VG9wKHRoaXMuJGVsZW1lbnQpICsgdGhpcy5oZWlnaHQodGhpcy4kZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckJvdHRvbSA9IHRoaXMuaGVpZ2h0KHRoaXMuc2Nyb2xsQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJUb3BPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9mZnNldFRvcCh0aGlzLnNjcm9sbENvbnRhaW5lcikgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJUb3BPZmZzZXQgPSB0aGlzLm9mZnNldFRvcCh0aGlzLnNjcm9sbENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnRCb3R0b20gPSB0aGlzLm9mZnNldFRvcCh0aGlzLiRlbGVtZW50KSAtIGNvbnRhaW5lclRvcE9mZnNldCArIHRoaXMuaGVpZ2h0KHRoaXMuJGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy51c2VEb2N1bWVudEJvdHRvbSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRCb3R0b20gPSB0aGlzLmhlaWdodCgodGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50IHx8ICggPCBhbnkgPiB0aGlzLiRlbGVtZW50WzBdKS5kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVtYWluaW5nID0gZWxlbWVudEJvdHRvbSAtIGNvbnRhaW5lckJvdHRvbTtcbiAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IHJlbWFpbmluZyA8PSB0aGlzLmhlaWdodCh0aGlzLnNjcm9sbENvbnRhaW5lcikgKiB0aGlzLnNjcm9sbERpc3RhbmNlICsgMTtcblxuICAgICAgICAgICAgaWYgKHNob3VsZFNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tXaGVuRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUuJCRwaGFzZSB8fCB0aGlzLiRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlLnBpcEluZmluaXRlU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS5waXBJbmZpbml0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrV2hlbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaGFuZGxlU2Nyb2xsRGlzdGFuY2Uodikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsRGlzdGFuY2UgPSBwYXJzZUZsb2F0KHYpIHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGhhbmRsZVNjcm9sbERpc2FibGVkKHYpIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsRW5hYmxlZCA9ICF2O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsRW5hYmxlZCAmJiB0aGlzLmNoZWNrV2hlbkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrV2hlbkVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29udGFpbmVyU2Nyb2xsVGhyb3R0bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaGFuZGxlU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20odikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlRG9jdW1lbnRCb3R0b20gPSB2O1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjaGFuZ2VDb250YWluZXIobmV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lci51bmJpbmQoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbnRhaW5lclNjcm9sbFRocm90dGxlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyID0gbmV3Q29udGFpbmVyO1xuICAgICAgICAgICAgaWYgKG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjcm9sbENvbnRhaW5lci5iaW5kKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db250YWluZXJTY3JvbGxUaHJvdHRsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBoYW5kbGVTY3JvbGxDb250YWluZXIobmV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBpZiAoKG5ld0NvbnRhaW5lciA9PSBudWxsKSB8fCBuZXdDb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0NvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KG5ld0NvbnRhaW5lcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuZXdDb250YWluZXIuYXBwZW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgbmV3Q29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KG5ld0NvbnRhaW5lcltuZXdDb250YWluZXIubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV3Q29udGFpbmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRhaW5lciA9IHRoaXMuJGVsZW1lbnQucGFyZW50cygpLmZpbmQobmV3Q29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld0NvbnRhaW5lciAhPSBudWxsICYmICghQXJyYXkuaXNBcnJheShuZXdDb250YWluZXIpIHx8XG4gICAgICAgICAgICAgICAgICAgIChBcnJheS5pc0FycmF5KG5ld0NvbnRhaW5lcikgJiYgbmV3Q29udGFpbmVyLmxlbmd0aCA+IDApKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYW5nZUNvbnRhaW5lcihuZXdDb250YWluZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBpcC1zY3JvbGwtY29udGFpbmVyIGF0dHJpYnV0ZS5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNvbnN0IEluZmluaXRlU2Nyb2xsID0gZnVuY3Rpb24gKFxuICAgICAgICAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXG4gICAgICAgICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZVxuICAgICk6IG5nLklEaXJlY3RpdmUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBwaXBJbmZpbml0ZVNjcm9sbDogJyYnLFxuICAgICAgICAgICAgICAgIHBpcFNjcm9sbENvbnRhaW5lcjogJz0nLFxuICAgICAgICAgICAgICAgIHBpcFNjcm9sbERpc3RhbmNlOiAnPScsXG4gICAgICAgICAgICAgICAgcGlwU2Nyb2xsRGlzYWJsZWQ6ICc9JyxcbiAgICAgICAgICAgICAgICBwaXBTY3JvbGxVc2VEb2N1bWVudEJvdHRvbTogJz0nLFxuICAgICAgICAgICAgICAgIHBpcFNjcm9sbExpc3RlbkZvckV2ZW50OiAnQCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgJHNjb3BlOiBJbmZpbml0ZVNjcm9sbFNjb3BlLFxuICAgICAgICAgICAgICAgICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICAgICAgJGF0dHJzOiBJbmZpbml0ZVNjcm9sbEF0dHJpYnV0ZXNcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5ldyBJbmZpbml0ZVNjcm9sbExpbmsoJHJvb3RTY29wZSwgJHdpbmRvdywgJGludGVydmFsLCAkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwicGlwSW5maW5pdGVTY3JvbGxcIiwgW10pXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcEluZmluaXRlU2Nyb2xsJywgSW5maW5pdGVTY3JvbGwpO1xufSIsIntcbiAgICBpbnRlcmZhY2UgU2VsZWN0ZWRBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgICAgICBwaXBTZWxlY3RlZDogYW55O1xuICAgICAgICBwaXBTZWxlY3RlZElkOiBhbnk7XG4gICAgICAgIHBpcFNlbGVjdDogYW55O1xuICAgICAgICBwaXBFbnRlclNwYWNlUHJlc3M6IGFueTtcbiAgICAgICAgcGlwTm9TY3JvbGw6IGFueTtcbiAgICAgICAgcGlwU2tpcEhpZGRlbjogYW55O1xuICAgICAgICBwaXBUcmVlTGlzdDogYW55O1xuICAgICAgICBwaXBTZWxlY3RlZFdhdGNoOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgU2VsZWN0ZWRMaW5rIHtcbiAgICAgICAgcHJpdmF0ZSBpbmRleEdldHRlcjogYW55O1xuICAgICAgICBwcml2YXRlIGluZGV4U2V0dGVyOiBhbnk7XG4gICAgICAgIHByaXZhdGUgaWRTZXR0ZXI6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBpZEdldHRlcjogYW55O1xuICAgICAgICBwcml2YXRlIGNoYW5nZUdldHRlcjogYW55O1xuICAgICAgICBwcml2YXRlIGVudGVyU3BhY2VHZXR0ZXI6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBub1Njcm9sbDogYW55O1xuICAgICAgICBwcml2YXRlIG1vZGlmaWVyOiBhbnk7XG4gICAgICAgIHByaXZhdGUgY2xhc3NOYW1lOiBhbnk7XG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRJbmRleDogYW55O1xuICAgICAgICBwcml2YXRlIGN1cnJlbnRFbGVtZW50VGFiaW5leDogYW55O1xuICAgICAgICBwcml2YXRlIHBpcFNlbGVjdGVkV2F0Y2g6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBpc1Njcm9sbGVkOiBhbnk7XG4gICAgICAgIC8vIFZhcmlhYmxlcyBmb3IgdG91Y2ggZnVuY3Rpb25zXG4gICAgICAgIHByaXZhdGUgdG91Y2hTdGFydFg6IGFueTtcbiAgICAgICAgcHJpdmF0ZSB0b3VjaFN0YXJ0WTogYW55O1xuICAgICAgICBwcml2YXRlIHRyYWNraW5nQ2xpY2s6IGFueTtcbiAgICAgICAgcHJpdmF0ZSB0cmFja2luZ0NsaWNrU3RhcnQ6IGFueTtcbiAgICAgICAgcHJpdmF0ZSB0YXJnZXRFbGVtZW50OiBhbnk7XG4gICAgICAgIHByaXZhdGUgbGFzdENsaWNrVGltZTogYW55O1xuICAgICAgICBwcml2YXRlIGNhbmNlbE5leHRDbGljazogYW55O1xuICAgICAgICAvLyBDb25zdGFudHMgZm9yIHRvdWNoIGZ1bmN0aW9uc1xuICAgICAgICBwcml2YXRlIHRvdWNoQm91bmRhcnk6IG51bWJlciA9IDEwO1xuICAgICAgICBwcml2YXRlIHRhcGRlbGF5OiBudW1iZXIgPSAyMDA7XG4gICAgICAgIHByaXZhdGUgdGFwVGltZW91dDogbnVtYmVyID0gNzAwO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgJHBhcnNlOiBuZy5JUGFyc2VTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkbWRDb25zdGFudDogYW55LFxuICAgICAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IG5nLklTY29wZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgIHByaXZhdGUgJGF0dHJzOiBTZWxlY3RlZEF0dHJpYnV0ZXNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4R2V0dGVyID0gJGF0dHJzLnBpcFNlbGVjdGVkID8gJHBhcnNlKCRhdHRycy5waXBTZWxlY3RlZCkgOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5pbmRleFNldHRlciA9IHRoaXMuaW5kZXhHZXR0ZXIgPyB0aGlzLmluZGV4R2V0dGVyLmFzc2lnbiA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLmlkR2V0dGVyID0gJGF0dHJzLnBpcFNlbGVjdGVkSWQgPyAkcGFyc2UoJGF0dHJzLnBpcFNlbGVjdGVkSWQpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaWRTZXR0ZXIgPSB0aGlzLmlkR2V0dGVyID8gdGhpcy5pZEdldHRlci5hc3NpZ24gOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VHZXR0ZXIgPSAkYXR0cnMucGlwU2VsZWN0ID8gJHBhcnNlKCRhdHRycy5waXBTZWxlY3QpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZW50ZXJTcGFjZUdldHRlciA9ICRhdHRycy5waXBFbnRlclNwYWNlUHJlc3MgPyAkcGFyc2UoJGF0dHJzLnBpcEVudGVyU3BhY2VQcmVzcykgOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5ub1Njcm9sbCA9ICRhdHRycy5waXBOb1Njcm9sbDtcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZXIgPSAkYXR0cnMucGlwU2tpcEhpZGRlbiA/ICc6dmlzaWJsZScgOiAnJztcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJGF0dHJzLnBpcFRyZWVMaXN0ID8gJy5waXAtc2VsZWN0YWJsZS10cmVlJyA6ICcucGlwLXNlbGVjdGFibGUnO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5pbmRleEdldHRlcigkc2NvcGUpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RWxlbWVudFRhYmluZXggPSAkZWxlbWVudC5hdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICAgICAgdGhpcy5waXBTZWxlY3RlZFdhdGNoID0gJGF0dHJzLnBpcFNlbGVjdGVkV2F0Y2g7XG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgJGVsZW1lbnQuYXR0cigndGFiaW5kZXgnLCB0aGlzLmN1cnJlbnRFbGVtZW50VGFiaW5leCB8fCAwKTtcblxuICAgICAgICAgICAgJGVsZW1lbnQub24oJ2NsaWNrJywgdGhpcy5jbGFzc05hbWUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25DbGlja0V2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ3RvdWNoc3RhcnQnLCB0aGlzLmNsYXNzTmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRvdWNoU3RhcnQoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZWxlbWVudC5vbigndG91Y2htb3ZlJywgdGhpcy5jbGFzc05hbWUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub3VjaE1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZWxlbWVudC5vbigndG91Y2hlbmQnLCB0aGlzLmNsYXNzTmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRvdWNoRW5kKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ3RvdWNoY2FuY2VsJywgdGhpcy5jbGFzc05hbWUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub3VjaENhbmNlbChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbktleURvd24oZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZWxlbWVudC5vbignZm9jdXNpbicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Gb2N1c0luKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ2ZvY3Vzb3V0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZvY3VzT3V0KGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBXYXRjaCBzZWxlY3RlZCBpdGVtIGluZGV4XG4gICAgICAgICAgICBpZiAoISRhdHRycy5waXBUcmVlTGlzdCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2godGhpcy5pbmRleEdldHRlciwgKG5ld1NlbGVjdGVkSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JbmRleDogbmV3U2VsZWN0ZWRJbmRleFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCh0aGlzLmlkR2V0dGVyLCAobmV3U2VsZWN0ZWRJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogbmV3U2VsZWN0ZWRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZUV2ZW50OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFdhdGNoIHJlc3luYyBzZWxlY3Rpb25cbiAgICAgICAgICAgIGlmICh0aGlzLnBpcFNlbGVjdGVkV2F0Y2gpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKHRoaXMucGlwU2VsZWN0ZWRXYXRjaCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxheSB1cGRhdGUgdG8gYWxsb3cgbmctcmVwZWF0IHRvIHVwZGF0ZSBET01cbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5pbmRleEdldHRlcigkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtSW5kZXg6IHRoaXMuc2VsZWN0ZWRJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNlbGVjdCBpdGVtIGRlZmluZWQgYnkgaW5kZXhcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICAgICAgaXRlbUluZGV4OiB0aGlzLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgICAgICAgICAgaXRlbXM6ICRlbGVtZW50LmZpbmQodGhpcy5jbGFzc05hbWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgc2VsZWN0SXRlbShpdGVtUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1Njcm9sbGVkKSByZXR1cm47XG4gICAgICAgICAgICBsZXQgaXRlbUluZGV4ID0gaXRlbVBhcmFtcy5pdGVtSW5kZXgsXG4gICAgICAgICAgICAgICAgaXRlbUlkID0gaXRlbVBhcmFtcy5pdGVtSWQsXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtUGFyYW1zLml0ZW1zIHx8IHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLmNsYXNzTmFtZSArIHRoaXMubW9kaWZpZXIpLFxuICAgICAgICAgICAgICAgIGl0ZW1zTGVuZ3RoID0gaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGl0ZW0gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtUGFyYW1zLml0ZW0pIHJldHVybiBpdGVtUGFyYW1zLml0ZW07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtSW5kZXggPT09IHVuZGVmaW5lZCAmJiBpdGVtSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSW5kZXggPSBpdGVtcy5pbmRleChpdGVtcy5maWx0ZXIoJ1twaXAtaWQ9JyArIGl0ZW1JZCArICddJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtSW5kZXggPj0gMCAmJiBpdGVtSW5kZXggPCBpdGVtc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zW2l0ZW1JbmRleF1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJhaXNlRXZlbnQgPSBpdGVtUGFyYW1zLnJhaXNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0oKTtcbiAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKHRoaXMuY2xhc3NOYW1lKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQgbWQtZm9jdXNlZCcpO1xuICAgICAgICAgICAgICAgIGl0ZW0gPSA8YW55PmFuZ3VsYXIuZWxlbWVudChpdGVtKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NlbGVjdGVkIG1kLWZvY3VzZWQnKVxuICAgICAgICAgICAgICAgICAgICAuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubm9TY3JvbGwpIHRoaXMuc2Nyb2xsVG9JdGVtKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyYWlzZUV2ZW50KSB0aGlzLmRlZmluZVNlbGVjdGVkSW5kZXgoaXRlbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByaXZhdGUgZGVmaW5lU2VsZWN0ZWRJbmRleChpdGVtcykge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGlmICgkKGl0ZW1zW2luZGV4XSkuaGFzQ2xhc3MoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVJbmRleCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBhbmd1bGFyLmVsZW1lbnQoaXRlbXNbdGhpcy5zZWxlY3RlZEluZGV4XSksXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWQgPSBzZWxlY3RlZEl0ZW0uYXR0cigncGlwLWlkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbmRleFNldHRlcikgdGhpcy5pbmRleFNldHRlcih0aGlzLiRzY29wZSwgdGhpcy5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pZFNldHRlcikgdGhpcy5pZFNldHRlcih0aGlzLiRzY29wZSwgc2VsZWN0ZWRJZCk7XG4gICAgICAgICAgICAgICAgb25TZWxlY3QoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IG9uU2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IGFuZ3VsYXIuZWxlbWVudChpdGVtc1t0aGlzLnNlbGVjdGVkSW5kZXhdKSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJZCA9IHNlbGVjdGVkSXRlbS5hdHRyKCdwaXAtaWQnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5nZUdldHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUdldHRlcih0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLiRlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IHNlbGVjdGVkSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5zZWxlY3RlZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzZWxlY3RlZElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4OiB0aGlzLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkSW5kZXg6IG9sZFNlbGVjdGVkSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBFeGVjdXRlIGNhbGxiYWNrIHRvIG5vdGlmeSBhYm91dCBpdGVtIHNlbGVjdFxuICAgICAgICAgICAgaWYgKG9sZFNlbGVjdGVkSW5kZXggIT0gdGhpcy5zZWxlY3RlZEluZGV4ICYmIHRoaXMuc2VsZWN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4geyB1cGRhdGVJbmRleCgpOyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHsgb25TZWxlY3QoKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxUb0l0ZW0oJGl0ZW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vU2Nyb2xsIHx8ICEkaXRlbS5vZmZzZXQoKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclRvcCA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgY29udGFpbmVyQm90dG9tID0gY29udGFpbmVyVG9wICsgY29udGFpbmVySGVpZ2h0LFxuICAgICAgICAgICAgICAgIGl0ZW1Ub3AgPSAkaXRlbS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgaXRlbUhlaWdodCA9ICRpdGVtLm91dGVySGVpZ2h0KHRydWUpLFxuICAgICAgICAgICAgICAgIGl0ZW1Cb3R0b20gPSBpdGVtVG9wICsgaXRlbUhlaWdodCxcbiAgICAgICAgICAgICAgICBjb250YWluZXJTY3JvbGxUb3AgPSB0aGlzLiRlbGVtZW50LnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLmlzU2Nyb2xsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCAxMDApO1xuXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyVG9wID4gaXRlbVRvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuc2Nyb2xsVG9wKGNvbnRhaW5lclNjcm9sbFRvcCArIGl0ZW1Ub3AgLSBjb250YWluZXJUb3ApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXJCb3R0b20gPCBpdGVtQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5zY3JvbGxUb3AoY29udGFpbmVyU2Nyb2xsVG9wICsgaXRlbUJvdHRvbSAtIGNvbnRhaW5lckJvdHRvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBnZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBPbiBzb21lIG9sZGVyIGJyb3dzZXJzIHRoZSBldmVudCB0YXJnZXQgbWF5IGJlIGEgdGV4dCBub2RlLlxuICAgICAgICAgICAgaWYgKGV2ZW50VGFyZ2V0Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudFRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRUYXJnZXQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSB0b3VjaEhhc01vdmVkKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLFxuICAgICAgICAgICAgICAgIGJvdW5kYXJ5ID0gdGhpcy50b3VjaEJvdW5kYXJ5OyAvLyBUb3VjaG1vdmUgYm91bmRhcnksIGJleW9uZCB3aGljaCBhIGNsaWNrIHdpbGwgYmUgY2FuY2VsbGVkLlxuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModG91Y2gucGFnZVggLSB0aGlzLnRvdWNoU3RhcnRYKSA+IGJvdW5kYXJ5IHx8IE1hdGguYWJzKHRvdWNoLnBhZ2VZIC0gdGhpcy50b3VjaFN0YXJ0WSkgPiBib3VuZGFyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJpdmF0ZSBvbkNsaWNrRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICAgICAgaXRlbTogZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgICAgICByYWlzZUV2ZW50OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25Ub3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBldiA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICBpZiAoZXZbJ3RhcmdldFRvdWNoZXMnXS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2LnRhcmdldCksXG4gICAgICAgICAgICAgICAgdG91Y2ggPSBldlsndGFyZ2V0VG91Y2hlcyddWzBdO1xuXG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nQ2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFja2luZ0NsaWNrU3RhcnQgPSBldi50aW1lU3RhbXA7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50O1xuXG4gICAgICAgICAgICB0aGlzLnRvdWNoU3RhcnRYID0gdG91Y2gucGFnZVg7XG4gICAgICAgICAgICB0aGlzLnRvdWNoU3RhcnRZID0gdG91Y2gucGFnZVk7XG5cbiAgICAgICAgICAgIC8qaWYgKChldi50aW1lU3RhbXAgLSB0aGlzLmxhc3RDbGlja1RpbWUpIDwgdGhpcy50YXBkZWxheSkge1xuICAgICAgICAgICAgICAgIC8vICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvblRvdWNoTW92ZShldmVudCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyYWNraW5nQ2xpY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV2ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIC8vIElmIHRoZSB0b3VjaCBoYXMgbW92ZWQsIGNhbmNlbCB0aGUgY2xpY2sgdHJhY2tpbmdcbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldEVsZW1lbnQgIT09IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudEZyb21FdmVudFRhcmdldChldi50YXJnZXQpIHx8IHRoaXMudG91Y2hIYXNNb3ZlZChldikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25Ub3VjaEVuZChldmVudCkge1xuICAgICAgICAgICAgbGV0IGZvckVsZW1lbnQsIG5ld1RyYWNraW5nQ2xpY2tTdGFydCwgdGFyZ2V0VGFnTmFtZSwgc2Nyb2xsUGFyZW50LCB0b3VjaCwgbmV3dGFyZ2V0RWxlbWVudCA9IHRoaXMudGFyZ2V0RWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyYWNraW5nQ2xpY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV2ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgcGhhbnRvbSBjbGlja3Mgb24gZmFzdCBkb3VibGUtdGFwIFxuICAgICAgICAgICAgaWYgKChldi50aW1lU3RhbXAgLSB0aGlzLmxhc3RDbGlja1RpbWUpIDwgdGhpcy50YXBkZWxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsTmV4dENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKChldi50aW1lU3RhbXAgLSB0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCkgPiB0aGlzLnRhcFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmVzZXQgdG8gcHJldmVudCB3cm9uZyBjbGljayBjYW5jZWwgb24gaW5wdXQgXG4gICAgICAgICAgICB0aGlzLmNhbmNlbE5leHRDbGljayA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmxhc3RDbGlja1RpbWUgPSBldmVudC50aW1lU3RhbXA7XG5cbiAgICAgICAgICAgIG5ld1RyYWNraW5nQ2xpY2tTdGFydCA9IHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0O1xuICAgICAgICAgICAgdGhpcy50cmFja2luZ0NsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICAgICAgaXRlbTogZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgICAgICByYWlzZUV2ZW50OiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvblRvdWNoQ2FuY2VsKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBldmVudC53aGljaCB8fCBldmVudC5rZXlDb2RlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBjb250cm9sIGtleUNvZGVcbiAgICAgICAgICAgIGlmIChrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuRU5URVIgfHwga2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLlNQQUNFKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVudGVyU3BhY2VHZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRlclNwYWNlR2V0dGVyKHRoaXMuJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuJGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiB0aGlzLiRlbGVtZW50LmZpbmQoJy5zZWxlY3RlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1cgfHwga2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLlJJR0hUX0FSUk9XIHx8XG4gICAgICAgICAgICAgICAga2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLlVQX0FSUk9XIHx8IGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IG5leHQgc2VsZWN0YWJsZSBjb250cm9sIGluZGV4XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLiRlbGVtZW50LmZpbmQodGhpcy5jbGFzc05hbWUgKyB0aGlzLm1vZGlmaWVyKSxcbiAgICAgICAgICAgICAgICAgICAgaW5jID0gKGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVyB8fCBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVykgPyAxIDogLTEsXG4gICAgICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXggKyBpbmM7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgbmV4dCBjb250cm9sIGFzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUluZGV4OiBuZXdTZWxlY3RlZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIHJhaXNlRXZlbnQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25Gb2N1c0luKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBDaG9vc2Ugc2VsZWN0ZWQgZWxlbWVudFxuICAgICAgICAgICAgbGV0IGl0ZW1zLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLmNsYXNzTmFtZSArICcuc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtLmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBub3Qgc2VsZWN0ZWQgZWxlbWVudHMgdGhlbiBwaWNrIHRoZSBmaXJzdCBvbmVcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5pbmRleEdldHRlcih0aGlzLiRzY29wZSk7XG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLiRlbGVtZW50LmZpbmQodGhpcy5jbGFzc05hbWUgKyB0aGlzLm1vZGlmaWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSW5kZXg6IHRoaXMuc2VsZWN0ZWRJbmRleCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIHJhaXNlRXZlbnQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25Gb2N1c091dChldmVudCkge1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKHRoaXMuY2xhc3NOYW1lICsgJy5tZC1mb2N1c2VkJyArIHRoaXMubW9kaWZpZXIpLnJlbW92ZUNsYXNzKCdtZC1mb2N1c2VkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBTZWxlY3RlZCA9IGZ1bmN0aW9uIChcbiAgICAgICAgJHBhcnNlOiBuZy5JUGFyc2VTZXJ2aWNlLFxuICAgICAgICAkbWRDb25zdGFudDogYW55LFxuICAgICAgICAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlXG4gICAgKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgICRzY29wZTogbmcuSVNjb3BlLFxuICAgICAgICAgICAgICAgICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICAgICAgJGF0dHJzOiBTZWxlY3RlZEF0dHJpYnV0ZXNcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5ldyBTZWxlY3RlZExpbmsoJHBhcnNlLCAkbWRDb25zdGFudCwgJHRpbWVvdXQsICRzY29wZSwgJGVsZW1lbnQsICRhdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBTZWxlY3RlZFwiLCBbXSlcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwU2VsZWN0ZWQnLCBTZWxlY3RlZCk7XG59IiwiaW1wb3J0IHsgU2hvcnRjdXRPcHRpb25zIH0gZnJvbSBcIi4vU2hvcnRjdXRcIjtcblxuZXhwb3J0IGNsYXNzIFNob3J0Y3V0SXRlbSB7XG4gICAgLy8gU2hvcnRjdXQgY29tYmluYXRpb25cbiAgICBwdWJsaWMgc2hvcnRjdXQ6IHN0cmluZztcbiAgICAvLyBUYXJnZXQgb2JqZWN0IFxuICAgIHB1YmxpYyB0YXJnZXQ/OiBhbnk7XG4gICAgLy8gVGFyZ2V0IGVsZW1lbnQgYnkgSWRcbiAgICBwdWJsaWMgdGFyZ2V0SWQ/OiBzdHJpbmc7XG4gICAgLy8gVGFyZ2V0IGVsZW1lbnQgYnkgY2xhc3MgKGZpcnN0ZWxlbWVudD8/KVxuICAgIC8vIFB1YmxpYyB0YXJnZXRDbGFzcz86IHN0cmluZztcbiAgICAvLyBBY2Nlc3MgZnVuY3Rpb25cbiAgICBwdWJsaWMgYWNjZXNzPzogKGV2ZW50OiBKUXVlcnlFdmVudE9iamVjdCkgPT4gYm9vbGVhbjtcbiAgICAvLyBXaW5kb3cubG9jYXRpb24uaHJlZlxuICAgIHB1YmxpYyBocmVmPzogc3RyaW5nO1xuICAgIC8vICRsb2NhdGlvbi51cmxcbiAgICBwdWJsaWMgdXJsPzogc3RyaW5nO1xuICAgIC8vICRzdGF0ZS5nbyhzdGF0ZSwgc3RhdGVQYXJhbXMpXG4gICAgcHVibGljIHN0YXRlPzogc3RyaW5nO1xuICAgIC8vIFBhcmFtZXRlcnMgZm9yICRzdGF0ZS5nbyhzdGF0ZSwgc3RhdGVQYXJhbXMpXG4gICAgcHVibGljIHN0YXRlUGFyYW1zPzogYW55O1xuICAgIC8vICRyb290U2NvcGUuYnJvYWRjYXN0KGV2ZW50KVxuICAgIHB1YmxpYyBldmVudD86IHN0cmluZztcbiAgICAvLyBDbGljayBjYWxsYmFja1xuICAgIHB1YmxpYyBrZXlwcmVzcz86IChldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QpID0+IHZvaWQ7XG4gICAgLy8gRGVmYXVsdCBvcHRpb25zXG4gICAgcHVibGljIG9wdGlvbnM/OiBTaG9ydGN1dE9wdGlvbnM7ICAgIFxufVxuXG4vLyBleHBvcnQgY2xhc3MgU2hvcnRjdXRJdGVtIGV4dGVuZHMgU2ltcGxlU2hvcnRjdXRJdGVtIHtcbi8vICAgICBwdWJsaWMgc2hvcnRjdXRzOiBTaW1wbGVTaG9ydGN1dEl0ZW1bXTtcbi8vIH1cblxuZXhwb3J0IGNsYXNzIFNob3J0Y3V0c0NvbmZpZyB7XG4gICAgLy8gR2xvYmFsIHNob3J0Y3V0IFxuICAgIHB1YmxpYyBnbG9iYWxTaG9ydGN1dHM6IFNob3J0Y3V0SXRlbVtdID0gW107XG4gICAgLy8gTG9jYWwgc2hvcnRjdXQgXG4gICAgcHVibGljIGxvY2FsU2hvcnRjdXRzOiBTaG9ydGN1dEl0ZW1bXSA9IFtdO1xuICAgIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgIHB1YmxpYyBkZWZhdWx0T3B0aW9uczogU2hvcnRjdXRPcHRpb25zID0gbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2hvcnRjdXRzU2VydmljZSB7XG4gICAgcmVhZG9ubHkgY29uZmlnOiBTaG9ydGN1dHNDb25maWc7XG5cbiAgICBnbG9iYWxTaG9ydGN1dHM6IFNob3J0Y3V0SXRlbVtdO1xuICAgIGxvY2FsU2hvcnRjdXRzOiBTaG9ydGN1dEl0ZW1bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU2hvcnRjdXRzUHJvdmlkZXIgZXh0ZW5kcyBuZy5JU2VydmljZVByb3ZpZGVyIHtcbiAgICBjb25maWc6IFNob3J0Y3V0c0NvbmZpZztcbiAgICBcbiAgICBnbG9iYWxTaG9ydGN1dHM6IFNob3J0Y3V0SXRlbVtdO1xuICAgIGRlZmF1bHRPcHRpb25zOiBTaG9ydGN1dE9wdGlvbnM7XG59XG4iLCJleHBvcnQgY2xhc3MgS2V5Ym9hcmRFdmVudCB7XG4gICAgc3RhdGljIEtleWRvd246IHN0cmluZyA9ICdrZXlkb3duJztcbiAgICBzdGF0aWMgS2V5dXA6IHN0cmluZyA9ICdrZXl1cCc7XG4gICAgc3RhdGljIEtleXByZXNzOiBzdHJpbmcgPSAna2V5cHJlc3MnO1xufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRjdXRPcHRpb25zIHtcbiAgICBUeXBlOiBLZXlib2FyZEV2ZW50O1xuICAgIFByb3BhZ2F0ZTogYm9vbGVhbjtcbiAgICBEaXNhYmxlSW5JbnB1dDogYm9vbGVhbjtcbiAgICBUYXJnZXQ6IGFueTsgLy8gRXZlbnQgdGFyZ2V0IG9iamVjdFxuICAgIEtleWNvZGU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0Y3V0IHtcbiAgICBwcml2YXRlIHNoaWZ0X251bXMgPSB7XG4gICAgICAgIFwiYFwiOiBcIn5cIixcbiAgICAgICAgXCIxXCI6IFwiIVwiLFxuICAgICAgICBcIjJcIjogXCJAXCIsXG4gICAgICAgIFwiM1wiOiBcIiNcIixcbiAgICAgICAgXCI0XCI6IFwiJFwiLFxuICAgICAgICBcIjVcIjogXCIlXCIsXG4gICAgICAgIFwiNlwiOiBcIl5cIixcbiAgICAgICAgXCI3XCI6IFwiJlwiLFxuICAgICAgICBcIjhcIjogXCIqXCIsXG4gICAgICAgIFwiOVwiOiBcIihcIixcbiAgICAgICAgXCIwXCI6IFwiKVwiLFxuICAgICAgICBcIi1cIjogXCJfXCIsXG4gICAgICAgIFwiPVwiOiBcIitcIixcbiAgICAgICAgXCI7XCI6IFwiOlwiLFxuICAgICAgICBcIidcIjogXCJcXFwiXCIsXG4gICAgICAgIFwiLFwiOiBcIjxcIixcbiAgICAgICAgXCIuXCI6IFwiPlwiLFxuICAgICAgICBcIi9cIjogXCI/XCIsXG4gICAgICAgIFwiXFxcXFwiOiBcInxcIlxuICAgIH07XG5cbiAgICBwcml2YXRlIHNwZWNpYWxfa2V5cyA9IHtcbiAgICAgICAgJ2VzYyc6IDI3LFxuICAgICAgICAnZXNjYXBlJzogMjcsXG4gICAgICAgICd0YWInOiA5LFxuICAgICAgICAnc3BhY2UnOiAzMixcbiAgICAgICAgJ3JldHVybic6IDEzLFxuICAgICAgICAnZW50ZXInOiAxMyxcbiAgICAgICAgJ2JhY2tzcGFjZSc6IDgsXG5cbiAgICAgICAgJ3Njcm9sbGxvY2snOiAxNDUsXG4gICAgICAgICdzY3JvbGxfbG9jayc6IDE0NSxcbiAgICAgICAgJ3Njcm9sbCc6IDE0NSxcbiAgICAgICAgJ2NhcHNsb2NrJzogMjAsXG4gICAgICAgICdjYXBzX2xvY2snOiAyMCxcbiAgICAgICAgJ2NhcHMnOiAyMCxcbiAgICAgICAgJ251bWxvY2snOiAxNDQsXG4gICAgICAgICdudW1fbG9jayc6IDE0NCxcbiAgICAgICAgJ251bSc6IDE0NCxcblxuICAgICAgICAncGF1c2UnOiAxOSxcbiAgICAgICAgJ2JyZWFrJzogMTksXG5cbiAgICAgICAgJ2luc2VydCc6IDQ1LFxuICAgICAgICAnaG9tZSc6IDM2LFxuICAgICAgICAnZGVsZXRlJzogNDYsXG4gICAgICAgICdlbmQnOiAzNSxcblxuICAgICAgICAncGFnZXVwJzogMzMsXG4gICAgICAgICdwYWdlX3VwJzogMzMsXG4gICAgICAgICdwdSc6IDMzLFxuXG4gICAgICAgICdwYWdlZG93bic6IDM0LFxuICAgICAgICAncGFnZV9kb3duJzogMzQsXG4gICAgICAgICdwZCc6IDM0LFxuXG4gICAgICAgICdsZWZ0JzogMzcsXG4gICAgICAgICd1cCc6IDM4LFxuICAgICAgICAncmlnaHQnOiAzOSxcbiAgICAgICAgJ2Rvd24nOiA0MCxcblxuICAgICAgICAnZjEnOiAxMTIsXG4gICAgICAgICdmMic6IDExMyxcbiAgICAgICAgJ2YzJzogMTE0LFxuICAgICAgICAnZjQnOiAxMTUsXG4gICAgICAgICdmNSc6IDExNixcbiAgICAgICAgJ2Y2JzogMTE3LFxuICAgICAgICAnZjcnOiAxMTgsXG4gICAgICAgICdmOCc6IDExOSxcbiAgICAgICAgJ2Y5JzogMTIwLFxuICAgICAgICAnZjEwJzogMTIxLFxuICAgICAgICAnZjExJzogMTIyLFxuICAgICAgICAnZjEyJzogMTIzXG4gICAgfTtcblxuICAgIHByaXZhdGUgbW9kaWZpZXJzID0ge1xuICAgICAgICBzaGlmdDogeyB3YW50ZWQ6IGZhbHNlLCBwcmVzc2VkOiBmYWxzZSB9LFxuICAgICAgICBjdHJsOiB7IHdhbnRlZDogZmFsc2UsIHByZXNzZWQ6IGZhbHNlIH0sXG4gICAgICAgIGFsdDogeyB3YW50ZWQ6IGZhbHNlLCBwcmVzc2VkOiBmYWxzZSB9LFxuICAgICAgICBtZXRhOiB7IHdhbnRlZDogZmFsc2UsIHByZXNzZWQ6IGZhbHNlIH1cdC8vIE1ldGEgaXMgTWFjIHNwZWNpZmljXG4gICAgfTtcblxuICAgIHB1YmxpYyBldmVudENhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICBwdWJsaWMgdGFyZ2V0OiBhbnk7XG4gICAgcHVibGljIGV2ZW50OiBLZXlib2FyZEV2ZW50O1xuICAgIHB1YmxpYyBvcHRpb246IFNob3J0Y3V0T3B0aW9ucztcbiAgICBwdWJsaWMgc2hvcmN1dDogc3RyaW5nO1xuICAgIHB1YmxpYyBjYWxsYmFjazogRnVuY3Rpb247XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIGVsZW1lbnQ6IGFueSxcbiAgICAgICAgc2hvcmN1dENvbWJpbmF0aW9uOiBzdHJpbmcsXG4gICAgICAgIG9wdGlvbjogU2hvcnRjdXRPcHRpb25zLFxuICAgICAgICBjYWxsYmFjazogKGU/OiBKUXVlcnlFdmVudE9iamVjdCkgPT4gdm9pZFxuICAgICkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgdGhpcy50YXJnZXQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnNob3JjdXQgPSBzaG9yY3V0Q29tYmluYXRpb247XG4gICAgICAgIHRoaXMuZXZlbnQgPSBvcHRpb24uVHlwZTtcbiAgICAgICAgdGhpcy5vcHRpb24gPSBvcHRpb247XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2sgPSAoZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgZTogSlF1ZXJ5RXZlbnRPYmplY3QgPSBldmVudCB8fCA8SlF1ZXJ5RXZlbnRPYmplY3Q+d2luZG93LmV2ZW50O1xuICAgICAgICAgICAgbGV0IGNvZGU6IG51bWJlcjtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uLkRpc2FibGVJbklucHV0KSB7IC8vIERpc2FibGUgc2hvcnRjdXQga2V5cyBpbiBJbnB1dCwgVGV4dGFyZWEgZmllbGRzXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuc3JjRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZS5zcmNFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSAnSU5QVVQnIHx8IGVsZW1lbnQudGFnTmFtZSA9PSAnVEVYVEFSRUEnKSByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaW5kIFdoaWNoIGtleSBpcyBwcmVzc2VkXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS53aGljaCkge1xuICAgICAgICAgICAgICAgIGNvZGUgPSBlLndoaWNoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2hhcmFjdGVyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICBpZiAoY29kZSA9PSAxODgpIGNoYXJhY3RlciA9IFwiLFwiOyAvLyBJZiB0aGUgdXNlciBwcmVzc2VzLCB3aGVuIHRoZSB0eXBlIGlzIG9ua2V5ZG93blxuICAgICAgICAgICAgaWYgKGNvZGUgPT0gMTkwKSBjaGFyYWN0ZXIgPSBcIi5cIjsgLy8gSWYgdGhlIHVzZXIgcHJlc3Nlcywgd2hlbiB0aGUgdHlwZSBpcyBvbmtleWRvd25cblxuICAgICAgICAgICAgbGV0IGtleXM6IHN0cmluZ1tdID0gdGhpcy5zaG9yY3V0LnNwbGl0KFwiK1wiKTtcbiAgICAgICAgICAgIC8vIEtleSBQcmVzc2VkIC0gY291bnRzIHRoZSBudW1iZXIgb2YgdmFsaWQga2V5cHJlc3NlcyAtIGlmIGl0IGlzIHNhbWUgYXMgdGhlIG51bWJlciBvZiBrZXlzLCB0aGUgc2hvcnRjdXQgZnVuY3Rpb24gaXMgaW52b2tlZFxuICAgICAgICAgICAgbGV0IGtwOiBudW1iZXIgPSAwO1xuXG4gICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB0aGlzLm1vZGlmaWVycy5jdHJsLnByZXNzZWQgPSBlLmN0cmxLZXk7XG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkgdGhpcy5tb2RpZmllcnMuc2hpZnQucHJlc3NlZCA9IGUuc2hpZnRLZXk7XG4gICAgICAgICAgICBpZiAoZS5hbHRLZXkpIHRoaXMubW9kaWZpZXJzLmFsdC5wcmVzc2VkID0gZS5hbHRLZXk7XG4gICAgICAgICAgICBpZiAoZS5tZXRhS2V5KSB0aGlzLm1vZGlmaWVycy5tZXRhLnByZXNzZWQgPSBlLm1ldGFLZXk7XG5cbiAgICAgICAgICAgIGxldCBpOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgazogc3RyaW5nID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICAvLyBNb2RpZmllcnNcbiAgICAgICAgICAgICAgICBpZiAoayA9PSAnY3RybCcgfHwgayA9PSAnY29udHJvbCcpIHtcbiAgICAgICAgICAgICAgICAgICAga3ArKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuY3RybC53YW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoayA9PSAnc2hpZnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGtwKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLnNoaWZ0LndhbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrID09ICdhbHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGtwKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLmFsdC53YW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoayA9PSAnbWV0YScpIHtcbiAgICAgICAgICAgICAgICAgICAga3ArKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMubWV0YS53YW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoay5sZW5ndGggPiAxKSB7IC8vIElmIGl0IGlzIGEgc3BlY2lhbCBrZXlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3BlY2lhbF9rZXlzW2tdID09IGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtwKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9uLktleWNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uLktleWNvZGUgPT0gY29kZSkga3ArKztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBUaGUgc3BlY2lhbCBrZXlzIGRpZCBub3QgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlciA9PSBrKSBrcCsrO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNoaWZ0X251bXNbY2hhcmFjdGVyXSAmJiBlLnNoaWZ0S2V5KSB7IC8vIFN0dXBpZCBTaGlmdCBrZXkgYnVnIGNyZWF0ZWQgYnkgdXNpbmcgbG93ZXJjYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcmFjdGVyID0gdGhpcy5zaGlmdF9udW1zW2NoYXJhY3Rlcl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlciA9PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtwKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoa3AgPT0ga2V5cy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5jdHJsLnByZXNzZWQgPT0gdGhpcy5tb2RpZmllcnMuY3RybC53YW50ZWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5zaGlmdC5wcmVzc2VkID09IHRoaXMubW9kaWZpZXJzLnNoaWZ0LndhbnRlZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLmFsdC5wcmVzc2VkID09IHRoaXMubW9kaWZpZXJzLmFsdC53YW50ZWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5tZXRhLnByZXNzZWQgPT0gdGhpcy5tb2RpZmllcnMubWV0YS53YW50ZWQpIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9uLlByb3BhZ2F0ZSkgeyAvLyBTdG9wIHRoZSBldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyBlLmNhbmNlbEJ1YmJsZSBpcyBzdXBwb3J0ZWQgYnkgSUUgLSB0aGlzIHdpbGwga2lsbCB0aGUgYnViYmxpbmcgcHJvY2Vzcy5cbiAgICAgICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZS5zdG9wUHJvcGFnYXRpb24gd29ya3MgaW4gRmlyZWZveC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLmN0cmwucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuc2hpZnQucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuYWx0LnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLm1ldGEucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFNob3J0Y3V0LCBTaG9ydGN1dE9wdGlvbnMsIEtleWJvYXJkRXZlbnQgfSBmcm9tIFwiLi9TaG9ydGN1dFwiO1xuaW1wb3J0IHsgSUtleWJvYXJkU2hvcnRjdXRzLCBJU2hvcnRjdXRCaW5kaW5nU2VydmljZSwgSVNob3J0Y3V0QmluZGluZ1Byb3ZpZGVyIH0gZnJvbSAnLi9JU2hvcnRjdXRCaW5kaW5nU2VydmljZSc7XG5cbntcbiAgICBjbGFzcyBTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlIGltcGxlbWVudHMgSVNob3J0Y3V0QmluZGluZ1NlcnZpY2Uge1xuICAgICAgICBwcml2YXRlIF9sb2c6IG5nLklMb2dTZXJ2aWNlO1xuICAgICAgICBwcml2YXRlIF9kZWZhdWx0T3B0aW9uOiBTaG9ydGN1dE9wdGlvbnM7XG4gICAgICAgIHByaXZhdGUgX3Nob3J0Y3V0czogSUtleWJvYXJkU2hvcnRjdXRzID0ge307XG5cbiAgICAgICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgJGxvZzogbmcuSUxvZ1NlcnZpY2UsXG4gICAgICAgICAgICBvcHRpb246IFNob3J0Y3V0T3B0aW9uc1xuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgICAgIHRoaXMuX2xvZyA9ICRsb2c7XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0T3B0aW9uID0gb3B0aW9uID8gXy5kZWZhdWx0cyhvcHRpb24sIHRoaXMuZ2V0RGVmYXVsdE9wdGlvbigpKSA6IHRoaXMuZ2V0RGVmYXVsdE9wdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBnZXREZWZhdWx0T3B0aW9uKCk6IFNob3J0Y3V0T3B0aW9ucyB7XG4gICAgICAgICAgICBsZXQgZGVmYXVsdE9wdGlvbjogU2hvcnRjdXRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIFR5cGU6IEtleWJvYXJkRXZlbnQuS2V5ZG93bixcbiAgICAgICAgICAgICAgICBQcm9wYWdhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIERpc2FibGVJbklucHV0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBUYXJnZXQ6IGRvY3VtZW50LFxuICAgICAgICAgICAgICAgIEtleWNvZGU6IG51bGxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0T3B0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldCBzaG9ydGN1dHMoKTogSUtleWJvYXJkU2hvcnRjdXRzIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaG9ydGN1dHM7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgYWRkKHNob3J0Y3V0OiBzdHJpbmcsIGNhbGxiYWNrOiAoZTogSlF1ZXJ5RXZlbnRPYmplY3QpID0+IHZvaWQsIG9wdGlvbjogU2hvcnRjdXRPcHRpb25zKTogdm9pZCB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShzaG9ydGN1dCk7XG4gICAgICAgICAgICBsZXQgc2hvcnRjdXRPcHRpb246IFNob3J0Y3V0T3B0aW9ucyA9IG9wdGlvbiA/IF8uZGVmYXVsdHMob3B0aW9uLCB0aGlzLl9kZWZhdWx0T3B0aW9uKSA6IHRoaXMuX2RlZmF1bHRPcHRpb247XG4gICAgICAgICAgICBsZXQgc2hvcnRjdXRDb21iaW5hdGlvbjogc3RyaW5nID0gc2hvcnRjdXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gc2hvcnRjdXRPcHRpb24uVGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNob3J0Y3V0T3B0aW9uLlRhcmdldCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzaG9ydGN1dE9wdGlvbi5UYXJnZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gc2hvcnRjdXRPcHRpb24uVGFyZ2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoJ1JlZ2lzdGVyIHNob3J0Y3V0OiBlbGVtZW50IHVuZGVudGlmaWVkIScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzaG9ydGN1dENvbWJpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKCdSZWdpc3RlciBzaG9ydGN1dDogc2hvcnRjdXQgY29tYmluYXRpb24gdW5kZW50aWZpZWQhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmVycm9yKCdSZWdpc3RlciBzaG9ydGN1dDogc2hvcmN1dCBjYWxsYmFjayB1bmRlbnRpZmllZCEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBuZXdLZXlib2FyZFNob3J0Y3V0ID0gbmV3IFNob3J0Y3V0KGVsZW1lbnQsIHNob3J0Y3V0Q29tYmluYXRpb24sIHNob3J0Y3V0T3B0aW9uLCBjYWxsYmFjayk7XG5cbiAgICAgICAgICAgIHRoaXMuX3Nob3J0Y3V0c1tzaG9ydGN1dENvbWJpbmF0aW9uXSA9IG5ld0tleWJvYXJkU2hvcnRjdXQ7XG5cbiAgICAgICAgICAgIC8vQXR0YWNoIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBldmVudFxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihzaG9ydGN1dE9wdGlvbi5UeXBlLCBuZXdLZXlib2FyZFNob3J0Y3V0LmV2ZW50Q2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIHNob3J0Y3V0T3B0aW9uLlR5cGUsIG5ld0tleWJvYXJkU2hvcnRjdXQuZXZlbnRDYWxsYmFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQub24oc2hvcnRjdXRPcHRpb24uVHlwZSwgbmV3S2V5Ym9hcmRTaG9ydGN1dC5ldmVudENhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyByZW1vdmUoc2hvcmN1dDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgICAgICBsZXQgc2hvcnRjdXRDb21iaW5hdGlvbiA9IHNob3JjdXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGxldCBiaW5kaW5nOiBTaG9ydGN1dCA9IHRoaXMuX3Nob3J0Y3V0c1tzaG9ydGN1dENvbWJpbmF0aW9uXTtcblxuICAgICAgICAgICAgZGVsZXRlKHRoaXMuX3Nob3J0Y3V0c1tzaG9ydGN1dENvbWJpbmF0aW9uXSlcbiAgICAgICAgICAgIGlmICghYmluZGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICBsZXQgdHlwZSA9IGJpbmRpbmcuZXZlbnQ7XG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IGJpbmRpbmcudGFyZ2V0O1xuICAgICAgICAgICAgbGV0IGNhbGxiYWNrID0gYmluZGluZy5ldmVudENhbGxiYWNrO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kZXRhY2hFdmVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRbJ29uJyArIHR5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5vZmYodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xhc3MgU2hvcnRjdXRCaW5kaW5nUHJvdmlkZXIgaW1wbGVtZW50cyBJU2hvcnRjdXRCaW5kaW5nUHJvdmlkZXIge1xuICAgICAgICBwcml2YXRlIF9zZXJ2aWNlOiBTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlO1xuICAgICAgICBwcml2YXRlIF9vcHRpb246IFNob3J0Y3V0T3B0aW9ucztcblxuICAgICAgICBwdWJsaWMgZ2V0IG9wdGlvbigpOiBTaG9ydGN1dE9wdGlvbnMge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBzZXQgb3B0aW9uKHZhbHVlOiBTaG9ydGN1dE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbiA9IHZhbHVlIHx8IG5ldyBTaG9ydGN1dE9wdGlvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyAkZ2V0KFxuICAgICAgICAgICAgJGxvZzogbmcuSUxvZ1NlcnZpY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZXJ2aWNlID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlKCRsb2csIHRoaXMuX29wdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdwaXBTaG9ydGN1dHMnKVxuICAgICAgICAucHJvdmlkZXIoJ3BpcFNob3J0Y3V0QmluZGluZycsIFNob3J0Y3V0QmluZGluZ1Byb3ZpZGVyKTtcbn0iLCJpbXBvcnQgeyBTaG9ydGN1dE9wdGlvbnMgfSBmcm9tIFwiLi9TaG9ydGN1dFwiO1xuaW1wb3J0IHsgSVNob3J0Y3V0QmluZGluZ1NlcnZpY2UgfSBmcm9tIFwiLi9JU2hvcnRjdXRCaW5kaW5nU2VydmljZVwiO1xuXG5pbnRlcmZhY2UgU2hvcnRjdXRBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgIHBpcFNob3J0Y3V0QWN0aW9uOiBhbnk7XG4gICAgcGlwU2hvcnRjdXROYW1lOiBhbnk7XG4gICAgcGlwU2hvcmN1dE9wdGlvbnM6IFNob3J0Y3V0T3B0aW9ucztcbn1cblxuY2xhc3MgU2hvcnRjdXRDb250cm9sbGVyIGltcGxlbWVudHMgbmcuSUNvbnRyb2xsZXIgIHtcbiAgICBwcml2YXRlIGFjdGlvblNob3J0Y3V0czogRnVuY3Rpb247XG4gICAgcHJpdmF0ZSBuYW1lU2hvcnRjdXRzOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBvcHRpb25zOiBTaG9ydGN1dE9wdGlvbnM7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgJGF0dHJzOiBTaG9ydGN1dEF0dHJpYnV0ZXMsXG4gICAgICAgICRzY29wZTogbmcuSVNjb3BlLFxuICAgICAgICAkbG9nOiBuZy5JTG9nU2VydmljZSxcbiAgICAgICAgJHBhcnNlOiBuZy5JUGFyc2VTZXJ2aWNlLFxuICAgICAgICBwaXBTaG9ydGN1dEJpbmRpbmc6IElTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICBpZiAoJGF0dHJzLnBpcFNob3J0Y3V0QWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvblNob3J0Y3V0cyA9ICRwYXJzZSgkYXR0cnMucGlwU2hvcnRjdXRBY3Rpb24pO1xuICAgICAgICAgICAgLy8gdGhpcy5hY3Rpb25TaG9ydGN1dHMoJHNjb3BlLCB7JGV2ZW50OiB7fX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGxvZy5lcnJvcignU2hvcnRjdXQgYWN0aW9uIGRvZXMgbm90IHNldC4nKTtcblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJGF0dHJzLnBpcFNob3J0Y3V0TmFtZSAmJiBfLmlzU3RyaW5nKCRhdHRycy5waXBTaG9ydGN1dE5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWVTaG9ydGN1dHMgPSAkYXR0cnMucGlwU2hvcnRjdXROYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGxvZy5lcnJvcignU2hvcnRjdXQgbmFtZSBkb2VzIG5vdCBzZXQuJyk7XG5cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gJGF0dHJzLnBpcFNob3JjdXRPcHRpb25zID8gPFNob3J0Y3V0T3B0aW9ucz4kYXR0cnMucGlwU2hvcmN1dE9wdGlvbnMgOiA8U2hvcnRjdXRPcHRpb25zPnt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMuVGFyZ2V0ID0gJGVsZW1lbnQ7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWdpc3RyYXRpb24gb2Yga2V5Ym9yZCBzaG9ydGN1dHNcbiAgICAgICAgcGlwU2hvcnRjdXRCaW5kaW5nLmFkZCh0aGlzLm5hbWVTaG9ydGN1dHMsIChlPzogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvblNob3J0Y3V0cygkc2NvcGUsIHskZXZlbnQ6IHsnZSc6IGV9fSk7ICAgICAgICAgIFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIHByaXZhdGUga2V5cHJlc3NTaG9ydGN1dChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5hY3Rpb25TaG9ydGN1dHMoKTtcbiAgICB9XG59XG5cbi8vIFByZXZlbnQganVuayBmcm9tIGdvaW5nIGludG8gdHlwZXNjcmlwdCBkZWZpbml0aW9uc1xue1xuICAgIGNvbnN0IHNob3J0Y3V0c0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCk6IG5nLklEaXJlY3RpdmUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHNjb3BlOiBmYWxzZSwgICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFNob3J0Y3V0Q29udHJvbGxlclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgncGlwU2hvcnRjdXRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwU2hvcnRjdXQnLCBzaG9ydGN1dHNEaXJlY3RpdmUpO1xufSIsImltcG9ydCB7IElTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlIH0gZnJvbSBcIi4vSVNob3J0Y3V0QmluZGluZ1NlcnZpY2VcIlxuaW1wb3J0IHsgU2hvcnRjdXQsIFNob3J0Y3V0T3B0aW9ucywgS2V5Ym9hcmRFdmVudCB9IGZyb20gXCIuL1Nob3J0Y3V0XCI7XG5pbXBvcnQgeyBTaG9ydGN1dHNDb25maWcsIFNob3J0Y3V0SXRlbSwgSVNob3J0Y3V0c1NlcnZpY2UsIElTaG9ydGN1dHNQcm92aWRlciB9IGZyb20gJy4vSVNob3J0Y3V0c1NlcnZpY2UnO1xuXG5leHBvcnQgbGV0IFNob3J0Y3V0c0NoYW5nZWRFdmVudCA9ICdwaXBTaG9ydGN1dHNDaGFuZ2VkJztcblxuY2xhc3MgU2hvcnRjdXRzU2VydmljZSBpbXBsZW1lbnRzIElTaG9ydGN1dHNTZXJ2aWNlIHtcbiAgICBwcml2YXRlIF9vbGRDb25maWc6IFNob3J0Y3V0c0NvbmZpZztcbiAgICBwcml2YXRlIF9jb25maWc6IFNob3J0Y3V0c0NvbmZpZztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgY29uZmlnOiBTaG9ydGN1dHNDb25maWcsXG4gICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsIFxuICAgICAgICBwcml2YXRlICRsb2NhdGlvbjogbmcuSUxvY2F0aW9uU2VydmljZSwgXG4gICAgICAgIHByaXZhdGUgJGluamVjdG9yOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcGlwU2hvcnRjdXRCaW5kaW5nOiBJU2hvcnRjdXRCaW5kaW5nU2VydmljZVxuICAgICkge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX29sZENvbmZpZyA9IF8uY2xvbmVEZWVwKHRoaXMuX2NvbmZpZyk7XG5cbiAgICAgICAgLy8gQWRkIHNob3J0Y3V0c1xuICAgICAgICB0aGlzLmFkZFNob3J0Y3V0cyh0aGlzLl9jb25maWcuZ2xvYmFsU2hvcnRjdXRzKTtcbiAgICAgICAgdGhpcy5hZGRTaG9ydGN1dHModGhpcy5fY29uZmlnLmxvY2FsU2hvcnRjdXRzKTsgICAgICAgIFxuICAgIH1cblxuICAgIC8vIERlc2NyaWJlIHByaXZhdGUgZnVuY3Rpb25zXG4gICAgcHJpdmF0ZSBzZW5kQ2hhbmdlRXZlbnQoKSB7XG4gICAgICAgIC8vIFJlbW92ZSBzaG9ydGN1dHNcbiAgICAgICAgdGhpcy5yZW1vdmVTaG9ydGN1dHModGhpcy5fb2xkQ29uZmlnLmdsb2JhbFNob3J0Y3V0cyk7XG4gICAgICAgIHRoaXMucmVtb3ZlU2hvcnRjdXRzKHRoaXMuX29sZENvbmZpZy5sb2NhbFNob3J0Y3V0cyk7XG5cbiAgICAgICAgLy8gQWRkIHNob3J0Y3V0c1xuICAgICAgICB0aGlzLmFkZFNob3J0Y3V0cyh0aGlzLmNvbmZpZy5nbG9iYWxTaG9ydGN1dHMpO1xuICAgICAgICB0aGlzLmFkZFNob3J0Y3V0cyh0aGlzLmNvbmZpZy5sb2NhbFNob3J0Y3V0cyk7XG5cbiAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRlbWl0KFNob3J0Y3V0c0NoYW5nZWRFdmVudCwgdGhpcy5jb25maWcpO1xuXG4gICAgICAgIC8vIFNhdmUgY3VycmVudCBjb25maWcgdG8gb2xkQ29uZmlnXG4gICAgICAgIHRoaXMuX29sZENvbmZpZyA9IF8uY2xvbmVEZWVwKHRoaXMuY29uZmlnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZVNob3J0Y3V0cyhjb2xsZWN0aW9uOiBTaG9ydGN1dEl0ZW1bXSk6IHZvaWQge1xuICAgICAgICBfLmVhY2goY29sbGVjdGlvbiwgKGspID0+IHtcbiAgICAgICAgICAgIHRoaXMucGlwU2hvcnRjdXRCaW5kaW5nLnJlbW92ZShrLnNob3J0Y3V0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBrZXlwcmVzc1Nob3J0Y3V0KGl0ZW06IFNob3J0Y3V0SXRlbSwgZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0KSB7XG4gICAgICAgIGlmIChpdGVtLmFjY2VzcyAmJiBfLmlzRnVuY3Rpb24oaXRlbS5hY2Nlc3MpKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0uYWNjZXNzKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcblxuICAgICAgICBpZiAoaXRlbS5rZXlwcmVzcykge1xuICAgICAgICAgICAgaXRlbS5rZXlwcmVzcyhldmVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbS5ocmVmKSB7XG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGl0ZW0uaHJlZjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLnVybCkge1xuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24udXJsKGl0ZW0udXJsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLnN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kaW5qZWN0b3IuaGFzKCckc3RhdGUnKSkge1xuICAgICAgICAgICAgICAgIHZhciAkc3RhdGUgPSB0aGlzLiRpbmplY3Rvci5nZXQoJyRzdGF0ZScpO1xuICAgICAgICAgICAgICAgICRzdGF0ZVsnZ28nXShpdGVtLnN0YXRlLCBpdGVtLnN0YXRlUGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLmV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGJyb2FkY2FzdChpdGVtLmV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSByYWlzZSBub3RpZmljYXRpb25cbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdwaXBTaG9ydGN1dEtleXByZXNzJywgaXRlbS5zaG9ydGN1dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFNob3J0Y3V0cyhjb2xsZWN0aW9uOiBTaG9ydGN1dEl0ZW1bXSk6IHZvaWQge1xuICAgICAgICBsZXQgZ2VuZXJhbE9wdGlvbnM6IFNob3J0Y3V0T3B0aW9ucyA9IHRoaXMuY29uZmlnLmRlZmF1bHRPcHRpb25zID8gdGhpcy5jb25maWcuZGVmYXVsdE9wdGlvbnMgOiA8U2hvcnRjdXRPcHRpb25zPnt9O1xuICAgICAgICBcbiAgICAgICAgXy5lYWNoKGNvbGxlY3Rpb24sIChrKSA9PiB7XG4gICAgICAgICAgICBsZXQgb3B0aW9uOiBTaG9ydGN1dE9wdGlvbnMgPSBrLm9wdGlvbnMgPyBrLm9wdGlvbnMgOiBnZW5lcmFsT3B0aW9ucztcbiAgICAgICAgICAgIGxldCB0YXJnZXQ6IGFueTtcblxuICAgICAgICAgICAgdGFyZ2V0ID0gay50YXJnZXQgPyBrLnRhcmdldCA6IGsudGFyZ2V0SWQ7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7IFxuICAgICAgICAgICAgICAgIG9wdGlvbi5UYXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWdpc3RyYXRpb24gb2Yga2V5Ym9hcmQgc2hvcnRjdXRcbiAgICAgICAgICAgIHRoaXMucGlwU2hvcnRjdXRCaW5kaW5nLmFkZChrLnNob3J0Y3V0LCAoZT86IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5cHJlc3NTaG9ydGN1dChrLCBlKTsgICAgICAgIFxuICAgICAgICAgICAgfSwgb3B0aW9uKTsgICAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZXNjcmliZSBwdWJsaWMgZnVuY3Rpb25zIFxuICAgIHB1YmxpYyBnZXQgY29uZmlnKCk6IFNob3J0Y3V0c0NvbmZpZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkZWZhdWx0T3B0aW9ucygpOiBTaG9ydGN1dE9wdGlvbnMge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmRlZmF1bHRPcHRpb25zO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZGVmYXVsdE9wdGlvbnModmFsdWU6IFNob3J0Y3V0T3B0aW9ucykge1xuICAgICAgICB0aGlzLl9jb25maWcuZGVmYXVsdE9wdGlvbnMgPSB2YWx1ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLnNlbmRDaGFuZ2VFdmVudCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZ2xvYmFsU2hvcnRjdXRzKCk6IFNob3J0Y3V0SXRlbVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5nbG9iYWxTaG9ydGN1dHM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBnbG9iYWxTaG9ydGN1dHModmFsdWU6IFNob3J0Y3V0SXRlbVtdKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5nbG9iYWxTaG9ydGN1dHMgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgdGhpcy5zZW5kQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxvY2FsU2hvcnRjdXRzKCk6IFNob3J0Y3V0SXRlbVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5sb2NhbFNob3J0Y3V0cztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGxvY2FsU2hvcnRjdXRzKHZhbHVlOiBTaG9ydGN1dEl0ZW1bXSkge1xuICAgICAgICB0aGlzLl9jb25maWcubG9jYWxTaG9ydGN1dHMgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgdGhpcy5zZW5kQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG59XG5cbmNsYXNzIFNob3J0Y3V0c1Byb3ZpZGVyIGltcGxlbWVudHMgSVNob3J0Y3V0c1Byb3ZpZGVyIHtcbiAgICBwcml2YXRlIF9jb25maWc6IFNob3J0Y3V0c0NvbmZpZyA9IG5ldyBTaG9ydGN1dHNDb25maWcoKTtcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBTaG9ydGN1dHNTZXJ2aWNlO1xuXG4gICAgcHVibGljIGdldCBjb25maWcoKTogU2hvcnRjdXRzQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbmZpZyh2YWx1ZTogU2hvcnRjdXRzQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHZhbHVlIHx8IG5ldyBTaG9ydGN1dHNDb25maWcoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRlZmF1bHRPcHRpb25zKCk6IFNob3J0Y3V0T3B0aW9ucyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuZGVmYXVsdE9wdGlvbnM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBkZWZhdWx0T3B0aW9ucyh2YWx1ZTogU2hvcnRjdXRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5kZWZhdWx0T3B0aW9ucyA9IHZhbHVlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBnbG9iYWxTaG9ydGN1dHMoKTogU2hvcnRjdXRJdGVtW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmdsb2JhbFNob3J0Y3V0cztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGdsb2JhbFNob3J0Y3V0cyh2YWx1ZTogU2hvcnRjdXRJdGVtW10pIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLmdsb2JhbFNob3J0Y3V0cyA9IHZhbHVlIHx8IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyAkZ2V0KFxuICAgICAgICAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSwgXG4gICAgICAgICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLCBcbiAgICAgICAgJGxvY2F0aW9uOiBuZy5JTG9jYXRpb25TZXJ2aWNlLCBcbiAgICAgICAgJGluamVjdG9yOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2UsXG4gICAgICAgIHBpcFNob3J0Y3V0QmluZGluZzogSVNob3J0Y3V0QmluZGluZ1NlcnZpY2VcbiAgICApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgICAgIGlmICh0aGlzLl9zZXJ2aWNlID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IFNob3J0Y3V0c1NlcnZpY2UodGhpcy5fY29uZmlnLCAkcm9vdFNjb3BlLCAkd2luZG93LCAkbG9jYXRpb24sICRpbmplY3RvciwgcGlwU2hvcnRjdXRCaW5kaW5nKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcFNob3J0Y3V0cycpXG4gICAgLnByb3ZpZGVyKCdwaXBTaG9ydGN1dHMnLCBTaG9ydGN1dHNQcm92aWRlcik7XG5cbiIsImFuZ3VsYXIubW9kdWxlKCdwaXBTaG9ydGN1dHMnLCBbJ25nTWF0ZXJpYWwnLCAndWkucm91dGVyJ10pO1xuXG5pbXBvcnQgJy4vU2hvcnRjdXRCaW5kaW5nU2VydmljZSc7XG5pbXBvcnQgJy4vU2hvcnRjdXRzU2VydmljZSc7XG5pbXBvcnQgJy4vU2hvcnRjdXREaXJlY3RpdmUnO1xuXG5leHBvcnQgKiBmcm9tICcuL0lTaG9ydGN1dHNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vSVNob3J0Y3V0QmluZGluZ1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9TaG9ydGN1dHNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vU2hvcnRjdXRCaW5kaW5nU2VydmljZSc7Iiwie1xuICAgIGludGVyZmFjZSBVbnNhdmVkQ2hhbmdlc1Njb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcbiAgICAgICAgdW5zYXZlZENoYW5nZXNBdmFpbGFibGU6IEZ1bmN0aW9uO1xuICAgICAgICB1bnNhdmVkQ2hhbmdlc01lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgY2FuY2VsTGVhdmU6IEZ1bmN0aW9uO1xuICAgICAgICBhZnRlckxlYXZlOiBGdW5jdGlvbjtcbiAgICB9XG5cbiAgICBjbGFzcyBVbnNhdmVkQ2hhbmdlc0xpbmsge1xuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICRzY29wZTogVW5zYXZlZENoYW5nZXNTY29wZSxcbiAgICAgICAgICAgICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgJHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnVuc2F2ZWRDaGFuZ2VzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS51bnNhdmVkQ2hhbmdlc01lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdW5iaW5kRnVuYyA9ICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS51bnNhdmVkQ2hhbmdlc0F2YWlsYWJsZSgpICYmICEkd2luZG93LmNvbmZpcm0oJHNjb3BlLnVuc2F2ZWRDaGFuZ2VzTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKCRzY29wZS5jYW5jZWxMZWF2ZSkgJiYgJHNjb3BlLmNhbmNlbExlYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKCRzY29wZS5hZnRlckxlYXZlKSAmJiAkc2NvcGUuYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAkd2luZG93Lm9uYmVmb3JldW5sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB1bmJpbmRGdW5jKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFVuc2F2ZWRDaGFuZ2VzID0gZnVuY3Rpb24gKCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0FFJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgdW5zYXZlZENoYW5nZXNBdmFpbGFibGU6ICcmcGlwVW5zYXZlZENoYW5nZXNBdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgIHVuc2F2ZWRDaGFuZ2VzTWVzc2FnZTogJ0BwaXBVbnNhdmVkQ2hhbmdlc01lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIGFmdGVyTGVhdmU6ICcmcGlwVW5zYXZlZENoYW5nZXNBZnRlckxlYXZlJyxcbiAgICAgICAgICAgICAgICBjYW5jZWxMZWF2ZTogJyZwaXBVbnNhdmVkQ2hhbmdlc0NhbmNlbExlYXZlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGU6IFVuc2F2ZWRDaGFuZ2VzU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgVW5zYXZlZENoYW5nZXNMaW5rKCRzY29wZSwgJHdpbmRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwicGlwVW5zYXZlZENoYW5nZXNcIiwgW10pXG4gICAgICAgIC5kaXJlY3RpdmUoXCJwaXBVbnNhdmVkQ2hhbmdlc1wiLCBVbnNhdmVkQ2hhbmdlcyk7XG59Il19"}