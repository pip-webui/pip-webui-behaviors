{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/draggable/CancelDrag.ts","src/draggable/Drag.ts","src/draggable/DraggableService.ts","src/draggable/Drop.ts","src/draggable/PreventDrag.ts","src/draggable/index.ts","src/focused/focused.ts","src/index.ts","src/infinite_scroll/infiniteScroll.ts","src/selected/selected.ts","src/shortcuts/IShortcutsService.ts","src/shortcuts/Shortcut.ts","src/shortcuts/ShortcutBindingService.ts","src/shortcuts/ShortcutDirective.ts","src/shortcuts/ShortcutsService.ts","src/shortcuts/index.ts","src/unsaved_changes/unsavedChanges.ts"],"names":[],"mappings":"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","file":"pip-webui-behaviors.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","{\n    class CancelDragLink {\n        constructor(\n            $element: JQuery\n        ) {\n            $element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\n        }\n    }\n\n    const CancelDrag = function (): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: ng.IAttributes\n            ) {\n                new CancelDragLink($element);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipCancelDrag', CancelDrag);\n}","import { IDraggableService } from './DraggableService';\n\n{\n    interface IDragLinkScope extends ng.IScope {\n        value: any;\n    }\n\n    interface IDragLinkAttributes extends ng.IAttributes {\n        ngDrag: any;\n        pipDragStart: any;\n        pipDragStop: any;\n        pipDragSuccess: any;\n        allowTransform: any;\n        pipDragData: any;\n        pipVerticalScroll: any;\n        pipHorizontalScroll: any;\n        pipActivationDistance: any;\n        pipScrollContainer: any;\n        pipDrag: any;\n        pipCenterAnchor: any;\n    }\n\n    class DragLink {\n        private LONG_PRESS: number = 50; // 50ms for longpress\n        private offset: any;\n        private _centerAnchor: boolean = false;\n        private _mx: number;\n        private _my: number;\n        private _tx: number;\n        private _ty: number;\n        private _mrx: number;\n        private _mry: number;\n        private _hasTouch: boolean = ('ontouchstart' in window) || ( < any > window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\n        private _pressEvents: string = 'touchstart mousedown';\n        private _moveEvents: string = 'touchmove mousemove';\n        private _releaseEvents: string = 'touchend mouseup';\n        private _dragHandle: any;\n\n        // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\n        private _myid: string | number;\n        private _data: any = null;\n\n        private _dragOffset: any = null;\n\n        private _dragEnabled: boolean = false;\n\n        private _pressTimer: any = null;\n\n        private _elementStyle: any = {};\n\n        private onDragStartCallback: Function;\n        private onDragStopCallback: Function;\n        private onDragSuccessCallback: Function;\n        private allowTransform: boolean;\n\n        private getDragData: any;\n        private verticalScroll: boolean;\n        private horizontalScroll: boolean;\n        private activationDistance: number;\n        private scrollDistance: number;\n        private scrollParent: boolean = false;\n\n        private scrollContainer: JQuery = angular.element(window);\n        private scrollContainerGetter: any;\n\n        // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\n        private _deregisterRootMoveListener: Function = angular.noop;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $parse: ng.IParseService,\n            private $document: ng.IDocumentService,\n            private $window: ng.IWindowService,\n            private pipDraggable: IDraggableService,\n            private $scope: IDragLinkScope,\n            private $element: JQuery,\n            private $attrs: IDragLinkAttributes\n        ) {\n            $scope.value = $attrs.ngDrag;\n            this._myid = $scope.$id;\n            this.onDragStartCallback = $parse($attrs.pipDragStart) || null;\n            this.onDragStopCallback = $parse($attrs.pipDragStop) || null;\n            this.onDragSuccessCallback = $parse($attrs.pipDragSuccess) || null;\n            this.allowTransform = angular.isDefined($attrs.allowTransform) ? $scope.$eval($attrs.allowTransform) : false;\n\n            this.getDragData = $parse($attrs.pipDragData);\n            this.verticalScroll = $attrs.pipVerticalScroll || true;\n            this.horizontalScroll = $attrs.pipHorizontalScroll || true;\n            this.activationDistance = parseFloat($attrs.pipActivationDistance) || 75;\n            this.scrollDistance = parseFloat($attrs.pipActivationDistance) || 50;\n            this.scrollContainerGetter = $parse($attrs.pipScrollContainer);\n\n            this.$element.css('cursor', 'move');\n            this.initialize();\n        }\n\n        private initialize() {\n            this.$element.attr('pip-draggable', 'false'); // prevent native drag\n            // check to see if drag handle(s) was specified\n            // if querySelectorAll is available, we use this instead of find\n            // as JQLite find is limited to tagnames\n            let dragHandles: any;\n            if (this.$element[0].querySelectorAll) {\n                dragHandles = angular.element(this.$element[0].querySelectorAll('[pip-drag-handle]'));\n            } else {\n                dragHandles = this.$element.find('[pip-drag-handle]');\n            }\n            if (dragHandles.length) {\n                this._dragHandle = dragHandles;\n            }\n            this.toggleListeners(true);\n\n            // Initialize scroll container\n            if (this.scrollParent) {\n                this.scrollContainer = angular.element(this.$element.parent());\n            } else if (this.$attrs.pipScrollContainer) {\n                this.scrollContainer = angular.element(this.scrollContainerGetter(this.$scope));\n            } else {\n                this.scrollContainer = angular.element(window);\n            }\n        }\n\n        private toggleListeners(enable) {\n            if (!enable) return;\n            // add listeners.\n\n            this.$scope.$on('$destroy', () => {\n                this.onDestroy(enable);\n            });\n            this.$scope.$watch(this.$attrs.pipDrag, (newVal, oldVal) => {\n                this.onEnableChange(newVal, oldVal);\n            });\n            this.$scope.$watch(this.$attrs.pipCenterAnchor, (newVal, oldVal) => {\n                this.onCenterAnchor(newVal, oldVal);\n            });\n            // wire up touch events\n            if (this._dragHandle) {\n                // handle(s) specified, use those to initiate drag\n                this._dragHandle.on(this._pressEvents, (event) => {\n                    this.onpress(event);\n                });\n            } else {\n                // no handle(s) specified, use the element as the handle\n                this.$element.on(this._pressEvents, (event) => {\n                    this.onpress(event);\n                });\n            }\n            if (!this._hasTouch && this.$element[0].nodeName.toLowerCase() == \"img\") {\n                this.$element.on('mousedown', () => {\n                    return false;\n                }); // prevent native drag for images\n            }\n        }\n\n        private onDestroy(enable) {\n            this.toggleListeners(false);\n        }\n\n        private onEnableChange(newVal, oldVal) {\n            this._dragEnabled = (newVal);\n        }\n\n        private onCenterAnchor(newVal, oldVal) {\n            if (angular.isDefined(newVal))\n                this._centerAnchor = (newVal || 'true');\n        }\n\n        private isClickableElement(evt) {\n            return (\n                angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\n            );\n        }\n\n        /*\n         * When the element is clicked start the drag behaviour\n         * On touch devices as a small delay so as not to prevent native window scrolling\n         */\n        private onpress(evt) {\n            if (!this._dragEnabled) return;\n\n            if (this.isClickableElement(evt)) {\n                return;\n            }\n\n            if (evt.type == \"mousedown\" && evt.button != 0) {\n                // Do not start dragging on right-click\n                return;\n            }\n\n            this.saveElementStyles();\n\n            if (this._hasTouch) {\n                this.cancelPress();\n                this._pressTimer = setTimeout(() => {\n                    this.cancelPress();\n                    this.onlongpress(evt);\n                }, this.LONG_PRESS);\n                this.$document.on(this._moveEvents, () => {\n                    this.cancelPress();\n                });\n                this.$document.on(this._releaseEvents, () => {\n                    this.cancelPress();\n                });\n            } else {\n                this.onlongpress(evt);\n            }\n        }\n\n        private saveElementStyles() {\n            this._elementStyle.left = this.$element.css('css') || 0;\n            this._elementStyle.top = this.$element.css('top') || 0;\n            this._elementStyle.position = this.$element.css('position');\n            this._elementStyle.width = this.$element.css('width');\n        }\n\n        private cancelPress() {\n            clearTimeout(this._pressTimer);\n            this.$document.off(this._moveEvents, () => {\n                this.cancelPress();\n            });\n            this.$document.off(this._releaseEvents, () => {\n                this.cancelPress();\n            });\n        }\n\n        private onlongpress(evt) {\n            if (!this._dragEnabled) return;\n            evt.preventDefault();\n\n            this.offset = this.$element[0].getBoundingClientRect();\n            if (this.allowTransform)\n                this._dragOffset = this.offset;\n            else {\n                this._dragOffset = {\n                    left: document.body.scrollLeft,\n                    top: document.body.scrollTop\n                };\n            }\n\n\n            ( < any > this.$element).centerX = this.$element[0].offsetWidth / 2;\n            ( < any > this.$element).centerY = this.$element[0].offsetHeight / 2;\n\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\n            this._mrx = this._mx - this.offset.left;\n            this._mry = this._my - this.offset.top;\n            if (this._centerAnchor) {\n                this._tx = this._mx - ( < any > this.$element).centerX - this.$window.pageXOffset;\n                this._ty = this._my - ( < any > this.$element).centerY - this.$window.pageYOffset;\n            } else {\n                this._tx = this._mx - this._mrx - this.$window.pageXOffset;\n                this._ty = this._my - this._mry - this.$window.pageYOffset;\n            }\n\n            this.$document.on(this._moveEvents, (event) => {\n                this.onmove(event);\n            });\n            this.$document.on(this._releaseEvents, (event) => {\n                this.onrelease(event);\n            });\n            // This event is used to receive manually triggered mouse move events\n            // jqLite unfortunately only supports triggerHandler(...)\n            // See http://api.jquery.com/triggerHandler/\n            // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\n            this._deregisterRootMoveListener = this.$rootScope.$on('draggable:_triggerHandlerMove', (event, origEvent) => {\n                this.onmove(origEvent);\n            });\n        }\n\n        private onmove(evt) {\n            if (!this._dragEnabled) return;\n            evt.preventDefault();\n            if (!this.$element.hasClass('pip-dragging')) {\n                this._data = this.getDragData(this.$scope);\n                this.$element.addClass('pip-dragging');\n                this.$rootScope.$broadcast('draggable:start', {\n                    x: this._mx,\n                    y: this._my,\n                    tx: this._tx,\n                    ty: this._ty,\n                    event: evt,\n                    element: this.$element,\n                    data: this._data\n                });\n\n                if (this.onDragStartCallback) {\n                    this.$scope.$apply(() => {\n                        this.onDragStartCallback(this.$scope, {\n                            $data: this._data,\n                            $event: evt\n                        });\n                    });\n                }\n            }\n\n            this._mx = this.pipDraggable.inputEvent(evt).pageX;\n            this._my = this.pipDraggable.inputEvent(evt).pageY;\n\n            if (this.horizontalScroll || this.verticalScroll) {\n                this.dragToScroll();\n            }\n\n            if (this._centerAnchor) {\n                this._tx = this._mx - ( < any > this.$element).centerX - this._dragOffset.left;\n                this._ty = this._my - ( < any > this.$element).centerY - this._dragOffset.top;\n            } else {\n                this._tx = this._mx - this._mrx - this._dragOffset.left;\n                this._ty = this._my - this._mry - this._dragOffset.top;\n            }\n\n            this.moveElement(this._tx, this._ty);\n\n            this.$rootScope.$broadcast('draggable:move', {\n                x: this._mx,\n                y: this._my,\n                tx: this._tx,\n                ty: this._ty,\n                event: evt,\n                element: this.$element,\n                data: this._data,\n                uid: this._myid,\n                dragOffset: this._dragOffset\n            });\n        }\n\n        private onrelease(evt) {\n            if (!this._dragEnabled)\n                return;\n            evt.preventDefault();\n            this.$rootScope.$broadcast('draggable:end', {\n                x: this._mx,\n                y: this._my,\n                tx: this._tx,\n                ty: this._ty,\n                event: evt,\n                element: this.$element,\n                data: this._data,\n                callback: this.onDragComplete,\n                uid: this._myid\n            });\n            this.$element.removeClass('pip-dragging');\n            this.$element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\n            this.reset();\n            this.$document.off(this._moveEvents);\n            this.$document.off(this._releaseEvents);\n            if (this.onDragStopCallback) {\n                this.$scope.$apply(() => {\n                    this.onDragStopCallback(this.$scope, {\n                        $data: this._data,\n                        $event: evt\n                    });\n                });\n            }\n\n            this._deregisterRootMoveListener();\n        }\n\n        private onDragComplete(evt) {\n            if (!this.onDragSuccessCallback) return;\n\n            this.$scope.$apply(() => {\n                this.onDragSuccessCallback(this.$scope, {\n                    $data: this._data,\n                    $event: evt\n                });\n            });\n        }\n\n        private reset() {\n            if (this.allowTransform)\n                this.$element.css({\n                    transform: '',\n                    'z-index': '',\n                    '-webkit-transform': '',\n                    '-ms-transform': ''\n                });\n            else {\n                this.$element.css({\n                    position: this._elementStyle.position,\n                    top: this._elementStyle.top,\n                    left: this._elementStyle.left,\n                    'z-index': '',\n                    width: this._elementStyle.width\n                });\n            }\n        }\n\n        private moveElement(x, y) {\n            const eWidth = this.$element.css('width');\n            if (this.allowTransform) {\n                this.$element.css({\n                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                    'z-index': 99999,\n                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n                });\n            } else {\n                this.$element.css({\n                    'left': x + 'px',\n                    'top': y + 'px',\n                    'position': 'fixed',\n                    'z-index': 100,\n                    width: eWidth\n                });\n            }\n        }\n\n        private dragToScroll() {\n            let scrollX = 0,\n                scrollY = 0,\n                offset = (element) => {\n                    return element.offset() || {\n                        left: 0,\n                        top: 0\n                    };\n                };\n\n            if (this.horizontalScroll) {\n                const\n                    containerLeft = offset(this.scrollContainer).left,\n                    containerWidth = this.scrollContainer.innerWidth(),\n                    containerRight = containerLeft + containerWidth;\n\n                if ((this._mx - containerLeft) < this.activationDistance) {\n                    scrollX = -this.scrollDistance;\n                } else if ((containerRight - this._mx) < this.activationDistance) {\n                    scrollX = this.scrollDistance;\n                }\n            }\n\n            if (this.verticalScroll) {\n                const\n                    containerTop = offset(this.scrollContainer).top,\n                    containerHeight = this.scrollContainer.innerHeight(),\n                    containerBottom = containerTop + containerHeight;\n\n                if ((this._my - containerTop) < this.activationDistance) {\n                    scrollY = -this.scrollDistance + 30;\n                } else if ((containerBottom - this._my) < this.activationDistance) {\n                    scrollY = this.scrollDistance - 30;\n                }\n            }\n            if (scrollX !== 0 || scrollY !== 0) {\n                const\n                    containerScrollLeft = this.scrollContainer.scrollLeft(),\n                    containerScrollTop = this.scrollContainer.scrollTop();\n\n                this.scrollContainer.scrollLeft(containerScrollLeft + scrollX);\n                this.scrollContainer.scrollTop(containerScrollTop + scrollY);\n            }\n\n        }\n\n    }\n\n    const Drag = function (\n        $rootScope: ng.IRootScopeService,\n        $parse: ng.IParseService,\n        $document: ng.IDocumentService,\n        $window: ng.IWindowService,\n        pipDraggable: IDraggableService,\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: IDragLinkScope,\n                $element: JQuery,\n                $attrs: IDragLinkAttributes\n            ) {\n                new DragLink($rootScope, $parse, $document, $window, pipDraggable, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipDrag', Drag);\n}","export interface IDraggableService {\n    inputEvent(event: any);\n}\n\nclass DraggableService implements IDraggableService {\n    public inputEvent(event) {\n        if (angular.isDefined(event.touches)) {\n            return event.touches[0];\n        }\n        //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\n        else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\n            return event.originalEvent.touches[0];\n        }\n        return event;\n    };\n}\n\nangular\n    .module(\"pipDraggable\")\n    .service('pipDraggable', DraggableService);\n    ","import { IDraggableService } from './DraggableService';\n\n{\n    interface IDropLinkScope extends ng.IScope {\n        value: any;\n        isTouching: any;\n    }\n\n    interface IDropLinkAttributes extends ng.IAttributes {\n        pipDrop: any;\n        pipDropSuccess: any;\n        pipDragStart: any;\n        pipDragStop: any;\n        pipDragMove: any;\n    }\n\n    class DropLink {\n\n        private _lastDropTouch: any;\n        private _myid: number | string;\n        private _dropEnabled: boolean;\n\n        private onDropCallback: Function; // || function(){};\n        private onDragStartCallback: Function;\n        private onDragStopCallback: Function;\n        private onDragMoveCallback: Function;\n\n        constructor(\n            private $parse: ng.IParseService,\n            private $document: ng.IDocumentService,\n            private $timeout: ng.ITimeoutService,\n            private pipDraggable: IDraggableService,\n            private $scope: IDropLinkScope,\n            private $element: JQuery,\n            private $attrs: IDropLinkAttributes\n        ) {\n            $scope.value = $attrs.pipDrop;\n            $scope.isTouching = false;\n\n            this._myid = $scope.$id;\n            this.onDropCallback = $parse($attrs.pipDropSuccess); // || function(){};\n            this.onDragStartCallback = $parse($attrs.pipDragStart);\n            this.onDragStopCallback = $parse($attrs.pipDragStop);\n            this.onDragMoveCallback = $parse($attrs.pipDragMove);\n\n            this.initialize();\n        }\n\n        private initialize() {\n            this.toggleListeners(true);\n        }\n\n        private toggleListeners(enable) {\n            // remove listeners\n            if (!enable) return;\n            // add listeners.\n            this.$scope.$watch(this.$attrs.pipDrop, (newVal, oldVal) => {\n                this.onEnableChange(newVal, oldVal);\n            });\n            this.$scope.$on('$destroy', (event) => {\n                this.onDestroy(event);\n            });\n            this.$scope.$on('draggable:start', (evt, obj) => {\n                this.onDragStart(evt, obj);\n            });\n            this.$scope.$on('draggable:move', (evt, obj) => {\n                this.onDragMove(evt, obj);\n            });\n            this.$scope.$on('draggable:end', (evt, obj) => {\n                this.onDragEnd(evt, obj);\n            });\n        }\n\n        private onDestroy(enable) {\n            this.toggleListeners(false);\n        }\n\n        private onEnableChange(newVal, oldVal) {\n            this._dropEnabled = newVal;\n        }\n\n        private onDragStart(evt, obj) {\n            if (!this._dropEnabled) return;\n            this.isTouching(obj.x, obj.y, obj.element);\n\n            if (this.$attrs.pipDragStart) {\n                this.$timeout(() => {\n                    this.onDragStartCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n        }\n\n        private onDragMove(evt, obj) {\n            if (!this._dropEnabled) return;\n            this.isTouching(obj.x, obj.y, obj.element);\n\n            if (this.$attrs.pipDragMove) {\n                this.$timeout(() => {\n                    this.onDragMoveCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n        }\n\n        private onDragEnd(evt, obj) {\n            // don't listen to drop events if this is the element being dragged\n            // only update the styles and return\n            if (!this._dropEnabled || this._myid === obj.uid) {\n                this.updateDragStyles(false, obj.element);\n                return;\n            }\n\n            if (this.isTouching(obj.x, obj.y, obj.element)) {\n                // call the pipDraggable pipDragSuccess element callback\n                if (obj.callback) {\n                    obj.callback(obj);\n                }\n\n                if (this.$attrs.pipDropSuccess) {\n                    this.$timeout(() => {\n                        this.onDropCallback(this.$scope, {\n                            $data: obj.data,\n                            $event: obj,\n                            $target: this.$scope.$eval(this.$scope.value)\n                        });\n                    });\n                }\n            }\n\n            if (this.$attrs.pipDragStop) {\n                this.$timeout(() => {\n                    this.onDragStopCallback(this.$scope, {\n                        $data: obj.data,\n                        $event: obj\n                    });\n                });\n            }\n\n            this.updateDragStyles(false, obj.element);\n        }\n\n        private isTouching(mouseX, mouseY, dragElement) {\n            const touching = this.hitTest(mouseX, mouseY);\n            this.$scope.isTouching = touching;\n            if (touching) {\n                this._lastDropTouch = this.$element;\n            }\n            this.updateDragStyles(touching, dragElement);\n            return touching;\n        }\n\n        private updateDragStyles(touching, dragElement) {\n            if (touching) {\n                this.$element.addClass('pip-drag-enter');\n                dragElement.addClass('pip-drag-over');\n            } else if (this._lastDropTouch == this.$element) {\n                this._lastDropTouch = null;\n                this.$element.removeClass('pip-drag-enter');\n                dragElement.removeClass('pip-drag-over');\n            }\n        };\n\n        private hitTest(x, y) {\n            const bounds = this.$element[0].getBoundingClientRect();\n            x -= this.$document[0].body.scrollLeft + this.$document[0].documentElement.scrollLeft;\n            y -= this.$document[0].body.scrollTop + this.$document[0].documentElement.scrollTop;\n            return x >= bounds.left &&\n                x <= bounds.right &&\n                y <= bounds.bottom &&\n                y >= bounds.top;\n        }\n    }\n\n    const Drop = function (\n        $parse: ng.IParseService,\n        $document: ng.IDocumentService,\n        $timeout: ng.ITimeoutService,\n        pipDraggable: IDraggableService,\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: IDropLinkScope,\n                $element: JQuery,\n                $attrs: IDropLinkAttributes\n            ) {\n                new DropLink($parse, $document, $timeout, pipDraggable, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipDrop', Drop);\n}","{\n\n    class PreventDragLink {\n        constructor(\n            private $element: JQuery\n        ) {\n            this.initialize();\n        }\n\n        private initialize() {\n            this.$element.attr('pip-draggable', 'false');\n            this.toggleListeners(true);\n        }\n\n        private toggleListeners(enable) {\n            // remove listeners\n            if (!enable) return;\n            // add listeners.\n            this.$element.on('mousedown touchstart touchmove touchend touchcancel', (event) => { this.absorbEvent_(event); });\n        }\n\n        private absorbEvent_(event) {\n            const e = event.originalEvent;\n            e.preventDefault && e.preventDefault();\n            e.stopPropagation && e.stopPropagation();\n            e.cancelBubble = true;\n            e.returnValue = false;\n            return false;\n        }\n\n    }\n\n    const PreventDrag = function (): ng.IDirective {\n        return {\n            restrict: 'A',\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: ng.IAttributes\n            ) {\n                new PreventDragLink($element);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipDraggable\")\n        .directive('pipPreventDrag', PreventDrag);\n}","angular.module(\"pipDraggable\", []);\n\nimport './DraggableService';\nimport './Drag';\nimport './Drop';\nimport './PreventDrag';\nimport './CancelDrag';\n","{\n    interface FocusedScope extends ng.IScope {\n        pipFocusedColor: Function;\n        pipFocusedClass: Function;\n        pipFocusedRebind: Function;\n        pipFocusedTabindex: Function;\n        pipFocusedOpacity: Function;\n        pipFocusedData: Function;\n        pipWithHidden: Function;\n        pipRebind: Function;\n    }\n\n    interface FocusedAttributes extends ng.IAttributes {\n        ngModel: any;\n        pipFocusedData: any;\n    }\n\n    class FocusedLink implements ng.IDirective {\n        private controls: JQuery;\n        private controlsLength: number;\n        private color: string;\n        private opacityDelta: number = 0.4;\n        private opacityLimit: number = 0.5;\n        private oldBackgroundColor: string;\n        private onFocusClass: string;\n\n        constructor(\n            private $scope: FocusedScope,\n            private $element: JQuery,\n            $attrs: FocusedAttributes,\n            private $timeout: ng.ITimeoutService,\n            private $mdConstant: any,\n            private $window: ng.IWindowService\n        ) {\n\n            $element.on('keydown', (e) => {\n                this.keydownListener(e);\n            });\n\n            $timeout(() => {\n                this.init();\n            });\n\n            if ($attrs.ngModel) {\n                $scope.$watch('ngModel', function () {\n                    $timeout(this.init);\n                }, true);\n            }\n\n            if ($attrs.pipFocusedData) {\n                $scope.$watch('pipFocusedData', function () {\n                    $timeout(this.init);\n                }, true);\n            }\n        }\n\n        private init() {\n            const selector = this.$scope.pipWithHidden && this.$scope.pipWithHidden() ? '.pip-focusable' : '.pip-focusable:visible';\n            this.onFocusClass = this.$scope.pipFocusedClass ? this.$scope.pipFocusedClass() : '';\n            this.controls = this.$element.find(selector);\n            this.controlsLength = this.controls.length;\n            this.checkTabindex(this.controls);\n            // Add event listeners\n            this.controls.on('focus', (event) => {\n                const target = event.currentTarget;\n                if ($(target).hasClass('md-focused')) {\n                    return;\n                }\n                if (this.$scope.pipRebind && this.$scope.pipRebind()) {\n                    this.init();\n                }\n                this.$element.addClass('pip-focused-container');\n                $(target).addClass(this.onFocusClass);\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\n\n                    this.color = $(target).css('backgroundColor');\n                    this.oldBackgroundColor = this.color;\n                    $(target).css('backgroundColor', this.rgba(this.color));\n                    $(target).addClass('md-focused');\n                } else {\n                    $(target).addClass('md-focused md-focused-opacity');\n                }\n\n            }).on('focusout', (event) => {\n                const target = event.currentTarget;\n                if (!$(target).hasClass('md-focused')) {\n                    return;\n                }\n                this.$element.removeClass('pip-focused-container');\n                $(target).removeClass(this.onFocusClass);\n                if (!this.$scope.pipFocusedOpacity || !this.$scope.pipFocusedOpacity()) {\n                    $(target).css('backgroundColor', this.oldBackgroundColor);\n                    $(target).removeClass('md-focused md-focused-opacity');\n                } else {\n                    $(target).removeClass('md-focused');\n                }\n            });\n        }\n\n        private rgba(color) {\n            if (this.$scope.pipFocusedColor && this.$scope.pipFocusedColor()) {\n                return this.$scope.pipFocusedColor();\n            }\n\n            const arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\n\n            if (!arr || arr.length < 3) {\n                return ''\n            }\n\n            let red, blue, green, opacity;\n\n            opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\n            red = arr[0];\n            blue = arr[1];\n            green = arr[2];\n\n            if (opacity < this.opacityLimit) {\n                opacity += this.opacityDelta;\n            } else {\n                opacity -= this.opacityDelta;\n            }\n\n            return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\n        }\n\n        private setTabindex(element, value) {\n            element.attr('tabindex', value);\n        }\n\n        private checkTabindex(controls) {\n            const index = _.findIndex(controls, (c) => {\n                return c['tabindex'] > -1;\n            });\n\n            if (index == -1 && controls.length > 0 && this.$scope.pipFocusedTabindex) {\n                this.setTabindex(angular.element(controls[0]), this.$scope.pipFocusedTabindex());\n            }\n        }\n\n        private keydownListener(e) {\n            const keyCode = e.which || e.keyCode;\n            // Check control keyCode\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\n            ) {\n                e.preventDefault();\n\n                const\n                    increment = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                    moveToControl = this.controls.index(this.controls.filter(\".md-focused\")) + increment;\n                // Move focus to next control\n                if (moveToControl >= 0 && moveToControl < this.controlsLength) {\n                    this.controls[moveToControl].focus();\n                }\n            }\n        }\n    }\n\n    const Focused = function ($timeout: ng.ITimeoutService, \n        $mdConstant: any, \n        $window: ng.IWindowService\n    ): ng.IDirective {\n        return {\n            scope: {\n                pipFocusedColor: '&?',\n                pipFocusedClass: '&?',\n                pipFocusedRebind: '&?',\n                pipFocusedTabindex: '&?',\n                pipFocusedOpacity: '&?',\n                pipFocusedData: '&?',\n                pipWithHidden: '&?',\n                pipRebind: '&?'\n            },\n            link: function($scope: FocusedScope, $element: JQuery, $attrs: FocusedAttributes) {\n                new FocusedLink($scope, $element, $attrs, $timeout, $mdConstant, $window);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipFocused\", [])\n        .directive('pipFocused', Focused);\n}","﻿import './unsaved_changes/unsavedChanges';\nimport './shortcuts/index';\nimport './focused/focused';\nimport './draggable/index';\nimport './selected/selected';\nimport './infinite_scroll/infiniteScroll';\n\nangular.module('pipBehaviors', [\n    'pipFocused',\n    'pipSelected',\n    'pipInfiniteScroll',\n    'pipUnsavedChanges',\n    'pipDraggable',\n    'pipShortcuts'\n]);\n\nexport * from './shortcuts/index';\n","{\n    interface InfiniteScrollScope extends ng.IScope {\n        pipInfiniteScroll: Function;\n        pipScrollContainer: JQuery;\n        pipScrollDistance: number | string;\n        pipScrollDisabled: boolean;\n        pipScrollUseDocumentBottom: boolean;\n        pipScrollListenForEvent: string;\n    }\n\n    interface InfiniteScrollAttributes extends ng.IAttributes {\n        pipScrollParent: any;\n        pipScrolImmediateCheck: any;\n    }\n\n    class InfiniteScrollLink {\n        private THROTTLE_MILLISECONDS: number = 500;\n        private checkWhenEnabled = null;\n        private scrollContainer = null;\n        private immediateCheck = true;\n        private scrollDistance = null;\n        private scrollEnabled = null;\n        private unregisterEventListener = null;\n        private useDocumentBottom = false;\n        private windowElement = null;\n        private onContainerScrollThrottle: Function;\n\n        constructor(\n            private $rootScope: ng.IRootScopeService,\n            private $window: ng.IWindowService,\n            private $interval: ng.IIntervalService,\n            private $scope: InfiniteScrollScope,\n            private $element: JQuery,\n            private $attrs: InfiniteScrollAttributes\n        ) {\n            this.windowElement = angular.element($window);\n\n            this.onContainerScrollThrottle = _.throttle(() => {\n                this.onContainerScroll();\n            }, this.THROTTLE_MILLISECONDS);\n\n            $scope.$on('$destroy', () => {\n                this.scrollContainer.unbind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n                if (this.unregisterEventListener !== null) {\n                    this.unregisterEventListener();\n                    return this.unregisterEventListener = null;\n                }\n            });\n\n            $scope.$watch('pipScrollDistance', (v) => {\n                this.handleScrollDistance(v);\n            });\n            this.handleScrollDistance($scope.pipScrollDistance);\n\n            $scope.$watch('pipScrollDisabled', (v) => {\n                this.handleScrollDisabled(v);\n            });\n            this.handleScrollDisabled($scope.pipScrollDisabled);\n\n            $scope.$watch('pipScrollUseDocumentBottom', (v) => {\n                this.handleScrollUseDocumentBottom(v);\n            });\n            this.handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\n\n            this.changeContainer(this.windowElement);\n            if ($scope.pipScrollListenForEvent) {\n                this.unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n\n            $scope.$watch('pipScrollContainer', (newContainer) => {\n                if (newContainer != this.scrollContainer)\n                    this.handleScrollContainer(newContainer);\n            });\n            this.handleScrollContainer($scope.pipScrollContainer || []);\n\n            if ($attrs.pipScrollParent !== null) {\n                this.changeContainer(angular.element($element.parent()));\n            }\n            if ($attrs.pipScrolImmediateCheck !== null) {\n                this.immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\n            }\n\n            $interval((function () {\n                if (this.immediateCheck) {\n                    return this.onContainerScrollThrottle();\n                }\n            }), 0, 1);\n        }\n\n        private height(element) {\n            element = element[0] || element;\n            if (isNaN(element.offsetHeight)) {\n                return element.document.documentElement.clientHeight;\n            } else {\n                return element.offsetHeight;\n            }\n        }\n\n        private offsetTop(element) {\n            if (!element[0].getBoundingClientRect || element.css('none')) {\n                return;\n            }\n            return element[0].getBoundingClientRect().top + this.pageYOffset(element);\n        }\n\n        private pageYOffset(element) {\n            element = element[0] || element;\n            if (isNaN(window.pageYOffset)) {\n                return element.document.documentElement.scrollTop;\n            } else {\n                return element.ownerDocument.defaultView.pageYOffset;\n            }\n        }\n\n        private onContainerScroll() {\n            let containerBottom,\n                containerTopOffset,\n                elementBottom,\n                remaining,\n                shouldScroll;\n\n            if (this.scrollContainer === this.windowElement) {\n                containerBottom = this.height(this.scrollContainer) + this.pageYOffset(this.scrollContainer[0].document.documentElement);\n                elementBottom = this.offsetTop(this.$element) + this.height(this.$element);\n            } else {\n                containerBottom = this.height(this.scrollContainer);\n                containerTopOffset = 0;\n                if (this.offsetTop(this.scrollContainer) !== void 0) {\n                    containerTopOffset = this.offsetTop(this.scrollContainer);\n                }\n                elementBottom = this.offsetTop(this.$element) - containerTopOffset + this.height(this.$element);\n            }\n\n            if (this.useDocumentBottom) {\n                elementBottom = this.height((this.$element[0].ownerDocument || ( < any > this.$element[0]).document).documentElement);\n            }\n\n            remaining = elementBottom - containerBottom;\n            shouldScroll = remaining <= this.height(this.scrollContainer) * this.scrollDistance + 1;\n\n            if (shouldScroll) {\n                this.checkWhenEnabled = true;\n                if (this.scrollEnabled) {\n                    if (this.$scope.$$phase || this.$rootScope.$$phase) {\n                        return this.$scope.pipInfiniteScroll();\n                    } else {\n                        return this.$scope.$apply(() => {\n                            this.$scope.pipInfiniteScroll();\n                        });\n                    }\n                }\n            } else {\n                return this.checkWhenEnabled = false;\n            }\n        }\n\n        private handleScrollDistance(v) {\n            return this.scrollDistance = parseFloat(v) || 0;\n        }\n\n        private handleScrollDisabled(v) {\n            this.scrollEnabled = !v;\n            if (this.scrollEnabled && this.checkWhenEnabled) {\n                this.checkWhenEnabled = false;\n                this.onContainerScrollThrottle();\n            }\n        }\n\n        private handleScrollUseDocumentBottom(v) {\n            return this.useDocumentBottom = v;\n        }\n\n        private changeContainer(newContainer) {\n            if (this.scrollContainer) {\n                this.scrollContainer.unbind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n\n            this.scrollContainer = newContainer;\n            if (newContainer) {\n                return this.scrollContainer.bind('scroll', () => {\n                    this.onContainerScrollThrottle();\n                });\n            }\n        }\n\n        private handleScrollContainer(newContainer) {\n            if ((newContainer == null) || newContainer.length === 0) {\n                return;\n            }\n            if (newContainer instanceof HTMLElement) {\n                newContainer = angular.element(newContainer);\n            } else if (typeof newContainer.append === 'function') {\n                newContainer = angular.element(newContainer[newContainer.length - 1]);\n            } else if (typeof newContainer === 'string') {\n                newContainer = this.$element.parents().find(newContainer);\n            }\n\n            if (newContainer != null && (!Array.isArray(newContainer) ||\n                    (Array.isArray(newContainer) && newContainer.length > 0))) {\n                return this.changeContainer(newContainer);\n            } else {\n                throw new Error(\"Invalid pip-scroll-container attribute.\");\n            }\n        }\n\n    }\n\n    const InfiniteScroll = function (\n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $interval: ng.IIntervalService\n    ): ng.IDirective {\n        return {\n            scope: {\n                pipInfiniteScroll: '&',\n                pipScrollContainer: '=',\n                pipScrollDistance: '=',\n                pipScrollDisabled: '=',\n                pipScrollUseDocumentBottom: '=',\n                pipScrollListenForEvent: '@'\n            },\n            link: function (\n                $scope: InfiniteScrollScope,\n                $element: JQuery,\n                $attrs: InfiniteScrollAttributes\n            ) {\n                new InfiniteScrollLink($rootScope, $window, $interval, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipInfiniteScroll\", [])\n        .directive('pipInfiniteScroll', InfiniteScroll);\n}","{\n    interface SelectedAttributes extends ng.IAttributes {\n        pipSelected: any;\n        pipSelectedId: any;\n        pipSelect: any;\n        pipEnterSpacePress: any;\n        pipNoScroll: any;\n        pipSkipHidden: any;\n        pipTreeList: any;\n        pipSelectedWatch: any;\n    }\n\n    class SelectedLink {\n        private indexGetter: any;\n        private indexSetter: any;\n        private idSetter: any;\n        private idGetter: any;\n        private changeGetter: any;\n        private enterSpaceGetter: any;\n        private noScroll: any;\n        private modifier: any;\n        private className: any;\n        private selectedIndex: any;\n        private currentElementTabinex: any;\n        private pipSelectedWatch: any;\n        private isScrolled: any;\n        // Variables for touch functions\n        private touchStartX: any;\n        private touchStartY: any;\n        private trackingClick: any;\n        private trackingClickStart: any;\n        private targetElement: any;\n        private lastClickTime: any;\n        private cancelNextClick: any;\n        // Constants for touch functions\n        private touchBoundary: number = 10;\n        private tapdelay: number = 200;\n        private tapTimeout: number = 700;\n\n        constructor(\n            $parse: ng.IParseService,\n            private $mdConstant: any,\n            private $timeout: ng.ITimeoutService,\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs: SelectedAttributes\n        ) {\n            this.indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null;\n            this.indexSetter = this.indexGetter ? this.indexGetter.assign : null;\n            this.idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null;\n            this.idSetter = this.idGetter ? this.idGetter.assign : null;\n            this.changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null;\n            this.enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null;\n            this.noScroll = $attrs.pipNoScroll;\n            this.modifier = $attrs.pipSkipHidden ? ':visible' : '';\n            this.className = $attrs.pipTreeList ? '.pip-selectable-tree' : '.pip-selectable';\n            this.selectedIndex = this.indexGetter($scope);\n            this.currentElementTabinex = $element.attr('tabindex');\n            this.pipSelectedWatch = $attrs.pipSelectedWatch;\n            this.isScrolled = false;\n\n            $element.attr('tabindex', this.currentElementTabinex || 0);\n\n            $element.on('click', this.className, (event) => {\n                this.onClickEvent(event);\n            });\n            $element.on('touchstart', this.className, (event) => {\n                this.onTouchStart(event);\n            });\n            $element.on('touchmove', this.className, (event) => {\n                this.onTouchMove(event);\n            });\n            $element.on('touchend', this.className, (event) => {\n                this.onTouchEnd(event);\n            });\n            $element.on('touchcancel', this.className, (event) => {\n                this.onTouchCancel(event);\n            });\n            $element.on('keydown', (event) => {\n                this.onKeyDown(event);\n            });\n            $element.on('focusin', (event) => {\n                this.onFocusIn(event);\n            });\n            $element.on('focusout', (event) => {\n                this.onFocusOut(event);\n            });\n\n            // Watch selected item index\n            if (!$attrs.pipTreeList) {\n                $scope.$watch(this.indexGetter, (newSelectedIndex) => {\n                    this.selectItem({\n                        itemIndex: newSelectedIndex\n                    });\n                });\n            } else {\n                $scope.$watch(this.idGetter, (newSelectedId) => {\n                    $timeout(() => {\n                        this.selectItem({\n                            itemId: newSelectedId,\n                            raiseEvent: true\n                        });\n                    }, 0);\n                });\n            }\n\n            // Watch resync selection\n            if (this.pipSelectedWatch) {\n                $scope.$watch(this.pipSelectedWatch, () => {\n                    // Delay update to allow ng-repeat to update DOM\n                    $timeout(() => {\n                        this.selectedIndex = this.indexGetter($scope);\n                        this.selectItem({\n                            itemIndex: this.selectedIndex\n                        });\n                    }, 100);\n                });\n            }\n\n            // Select item defined by index\n            this.selectItem({\n                itemIndex: this.selectedIndex,\n                items: $element.find(this.className)\n            });\n        }\n\n        private selectItem(itemParams) {\n            if (this.isScrolled) return;\n            let itemIndex = itemParams.itemIndex,\n                itemId = itemParams.itemId,\n                items = itemParams.items || this.$element.find(this.className + this.modifier),\n                itemsLength = items.length,\n                item = () => {\n                    if (itemParams.item) return itemParams.item;\n                    if (itemIndex === undefined && itemIndex === -1) {\n                        itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\n                    }\n                    if (itemIndex >= 0 && itemIndex < itemsLength) {\n                        return items[itemIndex]\n                    }\n\n                    return false;\n                },\n                raiseEvent = itemParams.raiseEvent;\n                item = item();\n            if (item) {\n                this.$element.find(this.className).removeClass('selected md-focused');\n                item = <any>angular.element(item)\n                    .addClass('selected md-focused')\n                    .focus();\n                if (!this.noScroll) this.scrollToItem(item);\n                if (raiseEvent) this.defineSelectedIndex(items);\n            }\n        };\n\n        private defineSelectedIndex(items) {\n            const oldSelectedIndex = this.selectedIndex;\n            this.selectedIndex = -1;\n            for (var index = 0; index < items.length; index++) {\n                if ($(items[index]).hasClass('selected')) {\n                    this.selectedIndex = index;\n\n                    break;\n                }\n            }\n\n            // Execute callback to notify about item select\n            if (oldSelectedIndex != this.selectedIndex && this.selectedIndex !== -1) {\n                this.$scope.$apply(updateIndex);\n            } else {\n                this.$scope.$apply(onSelect);\n            }\n\n            function updateIndex() {\n                const selectedItem = angular.element(items[this.selectedIndex]),\n                    selectedId = selectedItem.attr('pip-id');\n\n                if (this.indexSetter) this.indexSetter(this.$scope, this.selectedIndex);\n                if (this.idSetter) this.idSetter(this.$scope, selectedId);\n                onSelect();\n            };\n\n            function onSelect() {\n                const selectedItem = angular.element(items[this.selectedIndex]),\n                    selectedId = selectedItem.attr('pip-id');\n\n                if (this.changeGetter) {\n                    this.changeGetter(this.$scope, {\n                        $event: {\n                            target: this.$element,\n                            item: selectedItem,\n                            index: this.selectedIndex,\n                            id: selectedId,\n                            newIndex: this.selectedIndex,\n                            oldIndex: oldSelectedIndex\n                        }\n                    });\n                }\n            }\n        };\n\n        private scrollToItem($item) {\n            if (this.noScroll || !$item.offset()) return;\n\n            const\n                containerTop = this.$element.offset().top,\n                containerHeight = this.$element.height(),\n                containerBottom = containerTop + containerHeight,\n                itemTop = $item.offset().top,\n                itemHeight = $item.outerHeight(true),\n                itemBottom = itemTop + itemHeight,\n                containerScrollTop = this.$element.scrollTop();\n\n            this.isScrolled = true;\n            this.$timeout(() => {\n                this.isScrolled = false;\n            }, 100);\n\n            if (containerTop > itemTop) {\n                this.$element.scrollTop(containerScrollTop + itemTop - containerTop);\n            } else if (containerBottom < itemBottom) {\n                this.$element.scrollTop(containerScrollTop + itemBottom - containerBottom);\n            }\n        };\n\n        private getTargetElementFromEventTarget(eventTarget) {\n            // On some older browsers the event target may be a text node.\n            if (eventTarget.nodeType === Node.TEXT_NODE) {\n                return eventTarget.parentNode;\n            }\n\n            return eventTarget;\n        };\n\n        private touchHasMoved(event) {\n            const touch = event.changedTouches[0],\n                boundary = this.touchBoundary; // Touchmove boundary, beyond which a click will be cancelled.\n\n            if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n                return true;\n            }\n\n            return false;\n        };\n\n        private onClickEvent(event) {\n            this.selectItem({\n                item: event.currentTarget,\n                raiseEvent: true\n            });\n        }\n\n        private onTouchStart(event) {\n            const ev = event.originalEvent;\n            if (ev['targetTouches'].length > 1) {\n                return true;\n            }\n            const targetElement = this.getTargetElementFromEventTarget(ev.target),\n                touch = ev['targetTouches'][0];\n\n            this.trackingClick = true;\n            this.trackingClickStart = ev.timeStamp;\n            this.targetElement = targetElement;\n\n            this.touchStartX = touch.pageX;\n            this.touchStartY = touch.pageY;\n\n            /*if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\n                //  event.preventDefault();\n            }*/\n\n            return true;\n        }\n\n        private onTouchMove(event) {\n            if (!this.trackingClick) {\n                return true;\n            }\n            const ev = event.originalEvent;\n            // If the touch has moved, cancel the click tracking\n            if (this.targetElement !== this.getTargetElementFromEventTarget(ev.target) || this.touchHasMoved(ev)) {\n                this.trackingClick = false;\n                this.targetElement = null;\n            }\n\n            return true;\n        }\n\n        private onTouchEnd(event) {\n            let forElement, newTrackingClickStart, targetTagName, scrollParent, touch, newtargetElement = this.targetElement;\n\n            if (!this.trackingClick) {\n                return true;\n            }\n            const ev = event.originalEvent;\n            // Prevent phantom clicks on fast double-tap \n            if ((ev.timeStamp - this.lastClickTime) < this.tapdelay) {\n                this.cancelNextClick = true;\n                return true;\n            }\n\n            if ((ev.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n                return true;\n            }\n\n            // Reset to prevent wrong click cancel on input \n            this.cancelNextClick = false;\n\n            this.lastClickTime = event.timeStamp;\n\n            newTrackingClickStart = this.trackingClickStart;\n            this.trackingClick = false;\n            this.trackingClickStart = 0;\n\n            this.selectItem({\n                item: event.currentTarget,\n                raiseEvent: true\n            });\n\n            return false;\n        }\n\n        private onTouchCancel(event) {\n            this.trackingClick = false;\n            this.targetElement = null;\n        }\n\n        private onKeyDown(event) {\n            var keyCode = event.which || event.keyCode;\n\n            // Check control keyCode\n            if (keyCode == this.$mdConstant.KEY_CODE.ENTER || keyCode == this.$mdConstant.KEY_CODE.SPACE) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                if (this.enterSpaceGetter) {\n                    this.enterSpaceGetter(this.$scope, {\n                        $event: {\n                            target: this.$element,\n                            index: this.selectedIndex,\n                            item: this.$element.find('.selected')\n                        }\n                    });\n                }\n\n            } else\n            if (keyCode == this.$mdConstant.KEY_CODE.LEFT_ARROW || keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW ||\n                keyCode == this.$mdConstant.KEY_CODE.UP_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW\n            ) {\n                event.preventDefault();\n                event.stopPropagation();\n\n                // Get next selectable control index\n                const items = this.$element.find(this.className + this.modifier),\n                    inc = (keyCode == this.$mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == this.$mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                    newSelectedIndex = this.selectedIndex + inc;\n\n                // Set next control as selected\n                this.selectItem({\n                    itemIndex: newSelectedIndex,\n                    items: items,\n                    raiseEvent: true\n                });\n            }\n        }\n\n        private onFocusIn(event) {\n            // Choose selected element\n            let items,\n                selectedItem = this.$element.find(this.className + '.selected');\n\n            selectedItem.addClass('md-focused');\n\n            // If there are not selected elements then pick the first one\n            if (selectedItem.length === 0) {\n                this.selectedIndex = this.indexGetter(this.$scope);\n                items = this.$element.find(this.className + this.modifier);\n                this.selectItem({\n                    itemIndex: this.selectedIndex || 0,\n                    items: items,\n                    raiseEvent: true\n                });\n            }\n        }\n\n        private onFocusOut(event) {\n            this.$element.find(this.className + '.md-focused' + this.modifier).removeClass('md-focused');\n        }\n    }\n\n    const Selected = function (\n        $parse: ng.IParseService,\n        $mdConstant: any,\n        $timeout: ng.ITimeoutService\n    ): ng.IDirective {\n        return {\n            restrict: 'A',\n            scope: false,\n            link: function (\n                $scope: ng.IScope,\n                $element: JQuery,\n                $attrs: SelectedAttributes\n            ) {\n                new SelectedLink($parse, $mdConstant, $timeout, $scope, $element, $attrs);\n            }\n        }\n    }\n\n    angular\n        .module(\"pipSelected\", [])\n        .directive('pipSelected', Selected);\n}","import { ShortcutOptions } from \"./Shortcut\";\n\nexport class ShortcutItem {\n    // Shortcut combination\n    public shortcut: string;\n    // Target object \n    public target?: any;\n    // Target element by Id\n    public targetId?: string;\n    // Target element by class (firstelement??)\n    // Public targetClass?: string;\n    // Access function\n    public access?: (event: JQueryEventObject) => boolean;\n    // Window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public keypress?: (event: JQueryEventObject) => void;\n    // Default options\n    public options?: ShortcutOptions;    \n}\n\n// export class ShortcutItem extends SimpleShortcutItem {\n//     public shortcuts: SimpleShortcutItem[];\n// }\n\nexport class ShortcutsConfig {\n    // Global shortcut \n    public globalShortcuts: ShortcutItem[] = [];\n    // Local shortcut \n    public localShortcuts: ShortcutItem[] = [];\n    // Default options\n    public defaultOptions: ShortcutOptions = null;\n}\n\nexport interface IShortcutsService {\n    readonly config: ShortcutsConfig;\n\n    globalShortcuts: ShortcutItem[];\n    localShortcuts: ShortcutItem[];\n}\n\nexport interface IShortcutsProvider extends ng.IServiceProvider {\n    config: ShortcutsConfig;\n    \n    globalShortcuts: ShortcutItem[];\n    defaultOptions: ShortcutOptions;\n}\n","export class KeyboardEvent {\n    static Keydown: string = 'keydown';\n    static Keyup: string = 'keyup';\n    static Keypress: string = 'keypress';\n}\n\nexport class ShortcutOptions {\n    Type: KeyboardEvent;\n    Propagate: boolean;\n    DisableInInput: boolean;\n    Target: any; // Event target object\n    Keycode: number;\n}\n\nexport class Shortcut {\n    private shift_nums = {\n        \"`\": \"~\",\n        \"1\": \"!\",\n        \"2\": \"@\",\n        \"3\": \"#\",\n        \"4\": \"$\",\n        \"5\": \"%\",\n        \"6\": \"^\",\n        \"7\": \"&\",\n        \"8\": \"*\",\n        \"9\": \"(\",\n        \"0\": \")\",\n        \"-\": \"_\",\n        \"=\": \"+\",\n        \";\": \":\",\n        \"'\": \"\\\"\",\n        \",\": \"<\",\n        \".\": \">\",\n        \"/\": \"?\",\n        \"\\\\\": \"|\"\n    };\n\n    private special_keys = {\n        'esc': 27,\n        'escape': 27,\n        'tab': 9,\n        'space': 32,\n        'return': 13,\n        'enter': 13,\n        'backspace': 8,\n\n        'scrolllock': 145,\n        'scroll_lock': 145,\n        'scroll': 145,\n        'capslock': 20,\n        'caps_lock': 20,\n        'caps': 20,\n        'numlock': 144,\n        'num_lock': 144,\n        'num': 144,\n\n        'pause': 19,\n        'break': 19,\n\n        'insert': 45,\n        'home': 36,\n        'delete': 46,\n        'end': 35,\n\n        'pageup': 33,\n        'page_up': 33,\n        'pu': 33,\n\n        'pagedown': 34,\n        'page_down': 34,\n        'pd': 34,\n\n        'left': 37,\n        'up': 38,\n        'right': 39,\n        'down': 40,\n\n        'f1': 112,\n        'f2': 113,\n        'f3': 114,\n        'f4': 115,\n        'f5': 116,\n        'f6': 117,\n        'f7': 118,\n        'f8': 119,\n        'f9': 120,\n        'f10': 121,\n        'f11': 122,\n        'f12': 123\n    };\n\n    private modifiers = {\n        shift: { wanted: false, pressed: false },\n        ctrl: { wanted: false, pressed: false },\n        alt: { wanted: false, pressed: false },\n        meta: { wanted: false, pressed: false }\t// Meta is Mac specific\n    };\n\n    public eventCallback: Function;\n    public target: any;\n    public event: KeyboardEvent;\n    public option: ShortcutOptions;\n    public shorcut: string;\n    public callback: Function;\n\n    public constructor(\n        element: any,\n        shorcutCombination: string,\n        option: ShortcutOptions,\n        callback: (e?: JQueryEventObject) => void\n    ) {\n        \"ngInject\";\n\n        this.target = element;\n        this.shorcut = shorcutCombination;\n        this.event = option.Type;\n        this.option = option;\n        this.callback = callback;\n\n        this.eventCallback = (event: JQueryEventObject) => {\n            let e: JQueryEventObject = event || <JQueryEventObject>window.event;\n            let code: number;\n\n            if (this.option.DisableInInput) { // Disable shortcut keys in Input, Textarea fields\n                let element;\n                if (e.target) {\n                    element = e.target;\n                } else if (e.srcElement) {\n                    element = e.srcElement;\n                }\n\n                if (element.nodeType == 3) {\n                    element = element.parentNode;\n                }\n                if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') return;\n            }\n            // Find Which key is pressed\n            if (e.keyCode) {\n                code = e.keyCode;\n            } else if (e.which) {\n                code = e.which;\n            }\n\n            let character = String.fromCharCode(code).toLowerCase();\n\n            if (code == 188) character = \",\"; // If the user presses, when the type is onkeydown\n            if (code == 190) character = \".\"; // If the user presses, when the type is onkeydown\n\n            let keys: string[] = this.shorcut.split(\"+\");\n            // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\n            let kp: number = 0;\n\n            if (e.ctrlKey) this.modifiers.ctrl.pressed = e.ctrlKey;\n            if (e.shiftKey) this.modifiers.shift.pressed = e.shiftKey;\n            if (e.altKey) this.modifiers.alt.pressed = e.altKey;\n            if (e.metaKey) this.modifiers.meta.pressed = e.metaKey;\n\n            let i: number = 0;\n            for (i = 0; i < keys.length; i++) {\n                let k: string = keys[i];\n                // Modifiers\n                if (k == 'ctrl' || k == 'control') {\n                    kp++;\n                    this.modifiers.ctrl.wanted = true;\n                } else if (k == 'shift') {\n                    kp++;\n                    this.modifiers.shift.wanted = true;\n                } else if (k == 'alt') {\n                    kp++;\n                    this.modifiers.alt.wanted = true;\n                } else if (k == 'meta') {\n                    kp++;\n                    this.modifiers.meta.wanted = true;\n                } else if (k.length > 1) { // If it is a special key\n                    if (this.special_keys[k] == code) {\n                        kp++;\n                    }\n                } else if (this.option.Keycode) {\n                    if (this.option.Keycode == code) kp++;\n                } else { // The special keys did not match\n                    if (character == k) kp++;\n                    else {\n                        if (this.shift_nums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\n                            character = this.shift_nums[character];\n                            if (character == k) {\n                                kp++;\n                            }\n                        }\n                    }\n                }\n            }\n            \n            if (kp == keys.length &&\n                this.modifiers.ctrl.pressed == this.modifiers.ctrl.wanted &&\n                this.modifiers.shift.pressed == this.modifiers.shift.wanted &&\n                this.modifiers.alt.pressed == this.modifiers.alt.wanted &&\n                this.modifiers.meta.pressed == this.modifiers.meta.wanted) {\n\n                this.callback(e);\n\n                if (!this.option.Propagate) { // Stop the event\n                    // e.cancelBubble is supported by IE - this will kill the bubbling process.\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n\n                    // e.stopPropagation works in Firefox.\n                    if (e.stopPropagation) {\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }\n\n                    return false;\n                }\n            }\n            this.modifiers.ctrl.pressed = false;\n            this.modifiers.shift.pressed = false;\n            this.modifiers.alt.pressed = false;\n            this.modifiers.meta.pressed = false;\n        };\n    }\n}\n","import { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\nimport { IKeyboardShortcuts, IShortcutBindingService, IShortcutBindingProvider } from './IShortcutBindingService';\n\n{\n    class ShortcutBindingService implements IShortcutBindingService {\n        private _log: ng.ILogService;\n        private _defaultOption: ShortcutOptions;\n        private _shortcuts: IKeyboardShortcuts = {};\n\n        public constructor(\n            $log: ng.ILogService,\n            option: ShortcutOptions\n        ) {\n            \"ngInject\";\n            this._log = $log;\n            this._defaultOption = option ? _.defaults(option, this.getDefaultOption()) : this.getDefaultOption();\n        }\n\n        private getDefaultOption(): ShortcutOptions {\n            let defaultOption: ShortcutOptions = {\n                Type: KeyboardEvent.Keydown,\n                Propagate: false,\n                DisableInInput: false,\n                Target: document,\n                Keycode: null\n            };\n\n            return defaultOption;\n        }\n\n        public get shortcuts(): IKeyboardShortcuts {\n            return this._shortcuts;\n        }\n\n        public add(shortcut: string, callback: (e: JQueryEventObject) => void, option: ShortcutOptions): void {\n            this.remove(shortcut);\n            let shortcutOption: ShortcutOptions = option ? _.defaults(option, this._defaultOption) : this._defaultOption;\n            let shortcutCombination: string = shortcut.toLowerCase();\n            let element = shortcutOption.Target;\n\n            if (typeof shortcutOption.Target == 'string') {\n                element = document.getElementById(shortcutOption.Target);\n            } else {\n                element = shortcutOption.Target;\n            }\n\n            if (!element) {\n                this._log.error('Register shortcut: element undentified!');\n                return;\n            }\n\n            if (!shortcutCombination) {\n                this._log.error('Register shortcut: shortcut combination undentified!');\n                return;\n            }\n\n            if (!callback) {\n                this._log.error('Register shortcut: shorcut callback undentified!');\n                return;\n            }\n\n            let newKeyboardShortcut = new Shortcut(element, shortcutCombination, shortcutOption, callback);\n\n            this._shortcuts[shortcutCombination] = newKeyboardShortcut;\n\n            //Attach the function with the event\n            if (element.addEventListener) {\n                element.addEventListener(shortcutOption.Type, newKeyboardShortcut.eventCallback, false);\n            } else if (element.attachEvent) {\n                element.attachEvent('on' + shortcutOption.Type, newKeyboardShortcut.eventCallback);\n            } else {\n                element.on(shortcutOption.Type, newKeyboardShortcut.eventCallback);\n            }\n        }\n\n        public remove(shorcut: string): void {\n            let shortcutCombination = shorcut.toLowerCase();\n            let binding: Shortcut = this._shortcuts[shortcutCombination];\n\n            delete(this._shortcuts[shortcutCombination])\n            if (!binding) return;\n\n            let type = binding.event;\n            let element = binding.target;\n            let callback = binding.eventCallback;\n\n            if (element.detachEvent) {\n                element.detachEvent('on' + type, callback);\n            } else if (element.removeEventListener) {\n                element.removeEventListener(type, callback, false);\n            } else {\n                // element['on' + type] = false;\n                element.off(type, callback);\n            }\n        }\n    }\n\n    class ShortcutBindingProvider implements IShortcutBindingProvider {\n        private _service: ShortcutBindingService;\n        private _option: ShortcutOptions;\n\n        public get option(): ShortcutOptions {\n            return this._option;\n        }\n\n        public set option(value: ShortcutOptions) {\n            this._option = value || new ShortcutOptions();\n        }\n\n        public $get(\n            $log: ng.ILogService\n        ) {\n            \"ngInject\";\n\n            if (this._service == null)\n                this._service = new ShortcutBindingService($log, this._option);\n\n            return this._service;\n        }\n    }\n\n    angular\n        .module('pipShortcuts')\n        .provider('pipShortcutBinding', ShortcutBindingProvider);\n}","import { ShortcutOptions } from \"./Shortcut\";\nimport { IShortcutBindingService } from \"./IShortcutBindingService\";\n\ninterface ShortcutAttributes extends ng.IAttributes {\n    pipShortcutAction: any;\n    pipShortcutName: any;\n    pipShorcutOptions: ShortcutOptions;\n}\n\nclass ShortcutController implements ng.IController  {\n    private actionShortcuts: Function;\n    private nameShortcuts: string;\n    private options: ShortcutOptions;\n\n    constructor(\n        $element: JQuery,\n        $attrs: ShortcutAttributes,\n        $scope: ng.IScope,\n        $log: ng.ILogService,\n        $parse: ng.IParseService,\n        pipShortcutBinding: IShortcutBindingService\n    ) {\n        \"ngInject\";\n\n        if ($attrs.pipShortcutAction) {\n            this.actionShortcuts = $parse($attrs.pipShortcutAction);\n            this.actionShortcuts($scope, {$event: {}});\n        } else {\n            $log.error('Shortcut action does not set.');\n\n            return\n        }\n\n        if ($attrs.pipShortcutName && _.isString($attrs.pipShortcutName)) {\n            this.nameShortcuts = $attrs.pipShortcutName;\n        } else {\n            $log.error('Shortcut name does not set.');\n\n            return\n        }\n\n        this.options = $attrs.pipShorcutOptions ? <ShortcutOptions>$attrs.pipShorcutOptions : <ShortcutOptions>{};\n        this.options.Target = $element;\n        \n        // Registration of keybord shortcuts\n        pipShortcutBinding.add(this.nameShortcuts, (e?: any) => {\n            this.actionShortcuts($scope, {$event: {'e': e}});          \n        }, this.options);\n    }\n\n    private keypressShortcut(action) {\n        this.actionShortcuts();\n    }\n}\n\n// Prevent junk from going into typescript definitions\n{\n    const shortcutsDirective = function(): ng.IDirective {\n        return {\n            restrict: 'A',\n            scope: false,            \n            controller: ShortcutController\n        };\n    }\n\n    angular\n        .module('pipShortcuts')\n        .directive('pipShortcut', shortcutsDirective);\n}","import { IShortcutBindingService } from \"./IShortcutBindingService\"\nimport { Shortcut, ShortcutOptions, KeyboardEvent } from \"./Shortcut\";\nimport { ShortcutsConfig, ShortcutItem, IShortcutsService, IShortcutsProvider } from './IShortcutsService';\n\nexport let ShortcutsChangedEvent = 'pipShortcutsChanged';\n\nclass ShortcutsService implements IShortcutsService {\n    private _oldConfig: ShortcutsConfig;\n    private _config: ShortcutsConfig;\n\n    public constructor(\n        config: ShortcutsConfig,\n        private $rootScope: ng.IRootScopeService,\n        private $window: ng.IWindowService, \n        private $location: ng.ILocationService, \n        private $injector: ng.auto.IInjectorService,\n        private pipShortcutBinding: IShortcutBindingService\n    ) {\n        this._config = config;\n        this._oldConfig = _.cloneDeep(this._config);\n\n        // Add shortcuts\n        this.addShortcuts(this._config.globalShortcuts);\n        this.addShortcuts(this._config.localShortcuts);        \n    }\n\n    // Describe private functions\n    private sendChangeEvent() {\n        // Remove shortcuts\n        this.removeShortcuts(this._oldConfig.globalShortcuts);\n        this.removeShortcuts(this._oldConfig.localShortcuts);\n\n        // Add shortcuts\n        this.addShortcuts(this.config.globalShortcuts);\n        this.addShortcuts(this.config.localShortcuts);\n\n        this.$rootScope.$emit(ShortcutsChangedEvent, this.config);\n\n        // Save current config to oldConfig\n        this._oldConfig = _.cloneDeep(this.config);\n    }\n\n    private removeShortcuts(collection: ShortcutItem[]): void {\n        _.each(collection, (k) => {\n            this.pipShortcutBinding.remove(k.shortcut);\n        });\n    }\n\n    private keypressShortcut(item: ShortcutItem, event: JQueryEventObject) {\n        if (item.access && _.isFunction(item.access)) {\n            if (!item.access(event)) {\n                return;\n            }\n        } \n\n        if (item.keypress) {\n            item.keypress(event);\n            return;\n        }\n\n        if (item.href) {\n            this.$window.location.href = item.href;\n            return;\n        }\n\n        if (item.url) {\n            this.$location.url(item.url);\n            return;\n        }\n\n        if (item.state) {\n            if (this.$injector.has('$state')) {\n                var $state = this.$injector.get('$state');\n                $state['go'](item.state, item.stateParams);\n            }\n            return;\n        }\n\n        if (item.event) {\n            this.$rootScope.$broadcast(item.event);\n        } else {\n            // Otherwise raise notification\n            this.$rootScope.$broadcast('pipShortcutKeypress', item.shortcut);\n        }\n    }\n\n    private addShortcuts(collection: ShortcutItem[]): void {\n        let generalOptions: ShortcutOptions = this.config.defaultOptions ? this.config.defaultOptions : <ShortcutOptions>{};\n        \n        _.each(collection, (k) => {\n            let option: ShortcutOptions = k.options ? k.options : generalOptions;\n            let target: any;\n\n            target = k.target ? k.target : k.targetId;\n            option.Target = target;\n            // Registration of keyboard shortcut\n            this.pipShortcutBinding.add(k.shortcut, (e?: any) => {\n                this.keypressShortcut(k, e);        \n            }, option);              \n        });\n    }\n\n    // Describe public functions \n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public get defaultOptions(): ShortcutOptions {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOptions) {\n        this._config.defaultOptions = value || null;\n        this.sendChangeEvent();\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get localShortcuts(): ShortcutItem[] {\n        return this._config.localShortcuts;\n    }\n\n    public set localShortcuts(value: ShortcutItem[]) {\n        this._config.localShortcuts = value || [];\n        this.sendChangeEvent();\n    }\n}\n\nclass ShortcutsProvider implements IShortcutsProvider {\n    private _config: ShortcutsConfig = new ShortcutsConfig();\n    private _service: ShortcutsService;\n\n    public get config(): ShortcutsConfig {\n        return this._config;\n    }\n\n    public set config(value: ShortcutsConfig) {\n        this._config = value || new ShortcutsConfig();\n    }\n\n    public get defaultOptions(): ShortcutOptions {\n        return this._config.defaultOptions;\n    }\n\n    public set defaultOptions(value: ShortcutOptions) {\n        this._config.defaultOptions = value || null;\n    }\n\n    public get globalShortcuts(): ShortcutItem[] {\n        return this._config.globalShortcuts;\n    }\n\n    public set globalShortcuts(value: ShortcutItem[]) {\n        this._config.globalShortcuts = value || [];\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService, \n        $window: ng.IWindowService, \n        $location: ng.ILocationService, \n        $injector: ng.auto.IInjectorService,\n        pipShortcutBinding: IShortcutBindingService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ShortcutsService(this._config, $rootScope, $window, $location, $injector, pipShortcutBinding);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipShortcuts')\n    .provider('pipShortcuts', ShortcutsProvider);\n\n","angular.module('pipShortcuts', ['ngMaterial', 'ui.router']);\n\nimport './ShortcutBindingService';\nimport './ShortcutsService';\nimport './ShortcutDirective';\n\nexport * from './IShortcutsService';\nexport * from './IShortcutBindingService';\nexport * from './ShortcutsService';\nexport * from './ShortcutBindingService';","{\n    interface UnsavedChangesScope extends ng.IScope {\n        unsavedChangesAvailable: Function;\n        unsavedChangesMessage: string;\n        cancelLeave: Function;\n        afterLeave: Function;\n    }\n\n    class UnsavedChangesLink {\n        constructor(\n            $scope: UnsavedChangesScope,\n            $window: ng.IWindowService\n        ) {\n            $window.onbeforeunload = () => {\n                if ($scope.unsavedChangesAvailable()) {\n                    return $scope.unsavedChangesMessage;\n                }\n            };\n\n            const unbindFunc = $scope.$on('$stateChangeStart', (event) => {\n                if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\n                    _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\n                    event.preventDefault();\n                } else {\n                    _.isFunction($scope.afterLeave) && $scope.afterLeave();\n                }\n            });\n\n            $scope.$on('$destroy', () => {\n                $window.onbeforeunload = null;\n                unbindFunc();\n            });\n        }\n    }\n\n    const UnsavedChanges = function ($window: ng.IWindowService) {\n        return {\n            restrict: 'AE',\n            scope: {\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\n                afterLeave: '&pipUnsavedChangesAfterLeave',\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\n            },\n            link: function ($scope: UnsavedChangesScope) {\n                new UnsavedChangesLink($scope, $window);\n            }\n        };\n    }\n\n    angular\n        .module(\"pipUnsavedChanges\", [])\n        .directive(\"pipUnsavedChanges\", UnsavedChanges);\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZHJhZ2dhYmxlL0NhbmNlbERyYWcudHMiLCJzcmMvZHJhZ2dhYmxlL0RyYWcudHMiLCJzcmMvZHJhZ2dhYmxlL0RyYWdnYWJsZVNlcnZpY2UudHMiLCJzcmMvZHJhZ2dhYmxlL0Ryb3AudHMiLCJzcmMvZHJhZ2dhYmxlL1ByZXZlbnREcmFnLnRzIiwic3JjL2RyYWdnYWJsZS9pbmRleC50cyIsInNyYy9mb2N1c2VkL2ZvY3VzZWQudHMiLCJzcmMvaW5kZXgudHMiLCJzcmMvaW5maW5pdGVfc2Nyb2xsL2luZmluaXRlU2Nyb2xsLnRzIiwic3JjL3NlbGVjdGVkL3NlbGVjdGVkLnRzIiwic3JjL3Nob3J0Y3V0cy9JU2hvcnRjdXRzU2VydmljZS50cyIsInNyYy9zaG9ydGN1dHMvU2hvcnRjdXQudHMiLCJzcmMvc2hvcnRjdXRzL1Nob3J0Y3V0QmluZGluZ1NlcnZpY2UudHMiLCJzcmMvc2hvcnRjdXRzL1Nob3J0Y3V0RGlyZWN0aXZlLnRzIiwic3JjL3Nob3J0Y3V0cy9TaG9ydGN1dHNTZXJ2aWNlLnRzIiwic3JjL3Nob3J0Y3V0cy9pbmRleC50cyIsInNyYy91bnNhdmVkX2NoYW5nZXMvdW5zYXZlZENoYW5nZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxDQUFDO0lBQ0c7UUFDSSwwQkFDSSxRQUFnQjtZQUVoQixRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2xFLENBQUM7UUFDTCx1QkFBQztJQUFELENBTkEsQUFNQyxJQUFBO0lBRUQsSUFBTSxVQUFVLEdBQUc7UUFDZixNQUFNLENBQUM7WUFDSCxRQUFRLEVBQUUsR0FBRztZQUNiLElBQUksRUFBRSxVQUNGLE1BQWlCLEVBQ2pCLFFBQWdCLEVBQ2hCLE1BQXNCO2dCQUV0QixJQUFJLGdCQUFjLENBQUMs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QUM7Z0JBQzNELENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFO2dCQUNuQixPQUFPLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztnQkFDOUIsVUFBVSxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBQ0wsMkJBQUM7SUFBRCxDQXpCQSxBQXlCQyxJQUFBO0lBRUQsSUFBTSxjQUFjLEdBQUcsVUFBVSxPQUEwQjtRQUN2RCxNQUFNLENBQUM7WUFDSCxRQUFRLEVBQUUsSUFBSTtZQUNkLEtBQUssRUFBRTtnQkFDSCx1QkFBdUIsRUFBRSw2QkFBNkI7Z0JBQ3RELHFCQUFxQixFQUFFLDJCQUEyQjtnQkFDbEQsVUFBVSxFQUFFLDhCQUE4QjtnQkFDMUMsV0FBVyxFQUFFLCtCQUErQjthQUMvQztZQUNELElBQUksRUFBRSxVQUFVLE1BQTJCO2dCQUN2QyxJQUFJLG9CQUFrQixDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztZQUM1QyxDQUFDO1NBQ0osQ0FBQztJQUNOLENBQUMsQ0FBQTtJQUVELE9BQU87U0FDRixNQUFNLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxDQUFDO1NBQy9CLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN4RCxDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIntcbiAgICBjbGFzcyBDYW5jZWxEcmFnTGluayB7XG4gICAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgJGVsZW1lbnQ6IEpRdWVyeVxuICAgICAgICApIHtcbiAgICAgICAgICAgICRlbGVtZW50LmZpbmQoJyonKS5hdHRyKCdwaXAtY2FuY2VsLWRyYWcnLCAncGlwLWNhbmNlbC1kcmFnJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBDYW5jZWxEcmFnID0gZnVuY3Rpb24gKCk6IG5nLklEaXJlY3RpdmUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChcbiAgICAgICAgICAgICAgICAkc2NvcGU6IG5nLklTY29wZSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgICAgICRhdHRyczogbmcuSUF0dHJpYnV0ZXNcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG5ldyBDYW5jZWxEcmFnTGluaygkZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIilcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwQ2FuY2VsRHJhZycsIENhbmNlbERyYWcpO1xufSIsImltcG9ydCB7IElEcmFnZ2FibGVTZXJ2aWNlIH0gZnJvbSAnLi9EcmFnZ2FibGVTZXJ2aWNlJztcblxue1xuICAgIGludGVyZmFjZSBJRHJhZ0xpbmtTY29wZSBleHRlbmRzIG5nLklTY29wZSB7XG4gICAgICAgIHZhbHVlOiBhbnk7XG4gICAgfVxuXG4gICAgaW50ZXJmYWNlIElEcmFnTGlua0F0dHJpYnV0ZXMgZXh0ZW5kcyBuZy5JQXR0cmlidXRlcyB7XG4gICAgICAgIG5nRHJhZzogYW55O1xuICAgICAgICBwaXBEcmFnU3RhcnQ6IGFueTtcbiAgICAgICAgcGlwRHJhZ1N0b3A6IGFueTtcbiAgICAgICAgcGlwRHJhZ1N1Y2Nlc3M6IGFueTtcbiAgICAgICAgYWxsb3dUcmFuc2Zvcm06IGFueTtcbiAgICAgICAgcGlwRHJhZ0RhdGE6IGFueTtcbiAgICAgICAgcGlwVmVydGljYWxTY3JvbGw6IGFueTtcbiAgICAgICAgcGlwSG9yaXpvbnRhbFNjcm9sbDogYW55O1xuICAgICAgICBwaXBBY3RpdmF0aW9uRGlzdGFuY2U6IGFueTtcbiAgICAgICAgcGlwU2Nyb2xsQ29udGFpbmVyOiBhbnk7XG4gICAgICAgIHBpcERyYWc6IGFueTtcbiAgICAgICAgcGlwQ2VudGVyQW5jaG9yOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgRHJhZ0xpbmsge1xuICAgICAgICBwcml2YXRlIExPTkdfUFJFU1M6IG51bWJlciA9IDUwOyAvLyA1MG1zIGZvciBsb25ncHJlc3NcbiAgICAgICAgcHJpdmF0ZSBvZmZzZXQ6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBfY2VudGVyQW5jaG9yOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgX214OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX215OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX3R4OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX3R5OiBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX21yeDogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIF9tcnk6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBfaGFzVG91Y2g6IGJvb2xlYW4gPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCAoIDwgYW55ID4gd2luZG93KS5Eb2N1bWVudFRvdWNoOyAvLyAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2g7IC8vIERvY3VtZW50VG91Y2ggaXMgbm90IGRlZmluZWQhXG4gICAgICAgIHByaXZhdGUgX3ByZXNzRXZlbnRzOiBzdHJpbmcgPSAndG91Y2hzdGFydCBtb3VzZWRvd24nO1xuICAgICAgICBwcml2YXRlIF9tb3ZlRXZlbnRzOiBzdHJpbmcgPSAndG91Y2htb3ZlIG1vdXNlbW92ZSc7XG4gICAgICAgIHByaXZhdGUgX3JlbGVhc2VFdmVudHM6IHN0cmluZyA9ICd0b3VjaGVuZCBtb3VzZXVwJztcbiAgICAgICAgcHJpdmF0ZSBfZHJhZ0hhbmRsZTogYW55O1xuXG4gICAgICAgIC8vIHRvIGlkZW50aWZ5IHRoZSBlbGVtZW50IGluIG9yZGVyIHRvIHByZXZlbnQgZ2V0dGluZyBzdXBlcmZsb3VzIGV2ZW50cyB3aGVuIGEgc2luZ2xlIGVsZW1lbnQgaGFzIGJvdGggZHJhZyBhbmQgZHJvcCBkaXJlY3RpdmVzIG9uIGl0LlxuICAgICAgICBwcml2YXRlIF9teWlkOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgICAgIHByaXZhdGUgX2RhdGE6IGFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfZHJhZ09mZnNldDogYW55ID0gbnVsbDtcblxuICAgICAgICBwcml2YXRlIF9kcmFnRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgX3ByZXNzVGltZXI6IGFueSA9IG51bGw7XG5cbiAgICAgICAgcHJpdmF0ZSBfZWxlbWVudFN0eWxlOiBhbnkgPSB7fTtcblxuICAgICAgICBwcml2YXRlIG9uRHJhZ1N0YXJ0Q2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgICAgICBwcml2YXRlIG9uRHJhZ1N0b3BDYWxsYmFjazogRnVuY3Rpb247XG4gICAgICAgIHByaXZhdGUgb25EcmFnU3VjY2Vzc0NhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICAgICAgcHJpdmF0ZSBhbGxvd1RyYW5zZm9ybTogYm9vbGVhbjtcblxuICAgICAgICBwcml2YXRlIGdldERyYWdEYXRhOiBhbnk7XG4gICAgICAgIHByaXZhdGUgdmVydGljYWxTY3JvbGw6IGJvb2xlYW47XG4gICAgICAgIHByaXZhdGUgaG9yaXpvbnRhbFNjcm9sbDogYm9vbGVhbjtcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmF0aW9uRGlzdGFuY2U6IG51bWJlcjtcbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxEaXN0YW5jZTogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIHNjcm9sbFBhcmVudDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHByaXZhdGUgc2Nyb2xsQ29udGFpbmVyOiBKUXVlcnkgPSBhbmd1bGFyLmVsZW1lbnQod2luZG93KTtcbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxDb250YWluZXJHZXR0ZXI6IGFueTtcblxuICAgICAgICAvLyBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgbW91c2UgbW92ZSBldmVudHMgaW4gJHJvb3RTY29wZSB0cmlnZ2VyZWQgYnkganFMaXRlIHRyaWdnZXIgaGFuZGxlclxuICAgICAgICBwcml2YXRlIF9kZXJlZ2lzdGVyUm9vdE1vdmVMaXN0ZW5lcjogRnVuY3Rpb24gPSBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRkb2N1bWVudDogbmcuSURvY3VtZW50U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIHBpcERyYWdnYWJsZTogSURyYWdnYWJsZVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRzY29wZTogSURyYWdMaW5rU2NvcGUsXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICBwcml2YXRlICRhdHRyczogSURyYWdMaW5rQXR0cmlidXRlc1xuICAgICAgICApIHtcbiAgICAgICAgICAgICRzY29wZS52YWx1ZSA9ICRhdHRycy5uZ0RyYWc7XG4gICAgICAgICAgICB0aGlzLl9teWlkID0gJHNjb3BlLiRpZDtcbiAgICAgICAgICAgIHRoaXMub25EcmFnU3RhcnRDYWxsYmFjayA9ICRwYXJzZSgkYXR0cnMucGlwRHJhZ1N0YXJ0KSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdG9wQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdG9wKSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdTdWNjZXNzQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdWNjZXNzKSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5hbGxvd1RyYW5zZm9ybSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbGxvd1RyYW5zZm9ybSkgPyAkc2NvcGUuJGV2YWwoJGF0dHJzLmFsbG93VHJhbnNmb3JtKSA6IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmdldERyYWdEYXRhID0gJHBhcnNlKCRhdHRycy5waXBEcmFnRGF0YSk7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsU2Nyb2xsID0gJGF0dHJzLnBpcFZlcnRpY2FsU2Nyb2xsIHx8IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxTY3JvbGwgPSAkYXR0cnMucGlwSG9yaXpvbnRhbFNjcm9sbCB8fCB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0aW9uRGlzdGFuY2UgPSBwYXJzZUZsb2F0KCRhdHRycy5waXBBY3RpdmF0aW9uRGlzdGFuY2UpIHx8IDc1O1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxEaXN0YW5jZSA9IHBhcnNlRmxvYXQoJGF0dHJzLnBpcEFjdGl2YXRpb25EaXN0YW5jZSkgfHwgNTA7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lckdldHRlciA9ICRwYXJzZSgkYXR0cnMucGlwU2Nyb2xsQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ2N1cnNvcicsICdtb3ZlJyk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cigncGlwLWRyYWdnYWJsZScsICdmYWxzZScpOyAvLyBwcmV2ZW50IG5hdGl2ZSBkcmFnXG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgZHJhZyBoYW5kbGUocykgd2FzIHNwZWNpZmllZFxuICAgICAgICAgICAgLy8gaWYgcXVlcnlTZWxlY3RvckFsbCBpcyBhdmFpbGFibGUsIHdlIHVzZSB0aGlzIGluc3RlYWQgb2YgZmluZFxuICAgICAgICAgICAgLy8gYXMgSlFMaXRlIGZpbmQgaXMgbGltaXRlZCB0byB0YWduYW1lc1xuICAgICAgICAgICAgbGV0IGRyYWdIYW5kbGVzOiBhbnk7XG4gICAgICAgICAgICBpZiAodGhpcy4kZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgICAgICAgICAgICAgZHJhZ0hhbmRsZXMgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdbcGlwLWRyYWctaGFuZGxlXScpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJhZ0hhbmRsZXMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ1twaXAtZHJhZy1oYW5kbGVdJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHJhZ0hhbmRsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZSA9IGRyYWdIYW5kbGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0ZW5lcnModHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgc2Nyb2xsIGNvbnRhaW5lclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQodGhpcy4kZWxlbWVudC5wYXJlbnQoKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJGF0dHJzLnBpcFNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KHRoaXMuc2Nyb2xsQ29udGFpbmVyR2V0dGVyKHRoaXMuJHNjb3BlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KHdpbmRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHRvZ2dsZUxpc3RlbmVycyhlbmFibGUpIHtcbiAgICAgICAgICAgIGlmICghZW5hYmxlKSByZXR1cm47XG4gICAgICAgICAgICAvLyBhZGQgbGlzdGVuZXJzLlxuXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25EZXN0cm95KGVuYWJsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiR3YXRjaCh0aGlzLiRhdHRycy5waXBEcmFnLCAobmV3VmFsLCBvbGRWYWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRW5hYmxlQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4kc2NvcGUuJHdhdGNoKHRoaXMuJGF0dHJzLnBpcENlbnRlckFuY2hvciwgKG5ld1ZhbCwgb2xkVmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNlbnRlckFuY2hvcihuZXdWYWwsIG9sZFZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdpcmUgdXAgdG91Y2ggZXZlbnRzXG4gICAgICAgICAgICBpZiAodGhpcy5fZHJhZ0hhbmRsZSkge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZShzKSBzcGVjaWZpZWQsIHVzZSB0aG9zZSB0byBpbml0aWF0ZSBkcmFnXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZS5vbih0aGlzLl9wcmVzc0V2ZW50cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25wcmVzcyhldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vIGhhbmRsZShzKSBzcGVjaWZpZWQsIHVzZSB0aGUgZWxlbWVudCBhcyB0aGUgaGFuZGxlXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vbih0aGlzLl9wcmVzc0V2ZW50cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25wcmVzcyhldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hhc1RvdWNoICYmIHRoaXMuJGVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSBcImltZ1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vbignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7IC8vIHByZXZlbnQgbmF0aXZlIGRyYWcgZm9yIGltYWdlc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRlc3Ryb3koZW5hYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3RlbmVycyhmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uRW5hYmxlQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnRW5hYmxlZCA9IChuZXdWYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkNlbnRlckFuY2hvcihuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld1ZhbCkpXG4gICAgICAgICAgICAgICAgdGhpcy5fY2VudGVyQW5jaG9yID0gKG5ld1ZhbCB8fCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpc0NsaWNrYWJsZUVsZW1lbnQoZXZ0KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuaXNEZWZpbmVkKGFuZ3VsYXIuZWxlbWVudChldnQudGFyZ2V0KS5hdHRyKFwicGlwLWNhbmNlbC1kcmFnXCIpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgY2xpY2tlZCBzdGFydCB0aGUgZHJhZyBiZWhhdmlvdXJcbiAgICAgICAgICogT24gdG91Y2ggZGV2aWNlcyBhcyBhIHNtYWxsIGRlbGF5IHNvIGFzIG5vdCB0byBwcmV2ZW50IG5hdGl2ZSB3aW5kb3cgc2Nyb2xsaW5nXG4gICAgICAgICAqL1xuICAgICAgICBwcml2YXRlIG9ucHJlc3MoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RyYWdFbmFibGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ2xpY2thYmxlRWxlbWVudChldnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZ0LnR5cGUgPT0gXCJtb3VzZWRvd25cIiAmJiBldnQuYnV0dG9uICE9IDApIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc3RhcnQgZHJhZ2dpbmcgb24gcmlnaHQtY2xpY2tcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2F2ZUVsZW1lbnRTdHlsZXMoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc1RvdWNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQcmVzcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ubG9uZ3ByZXNzKGV2dCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5MT05HX1BSRVNTKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vbih0aGlzLl9tb3ZlRXZlbnRzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUHJlc3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vbih0aGlzLl9yZWxlYXNlRXZlbnRzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUHJlc3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmxvbmdwcmVzcyhldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzYXZlRWxlbWVudFN0eWxlcygpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRTdHlsZS5sZWZ0ID0gdGhpcy4kZWxlbWVudC5jc3MoJ2NzcycpIHx8IDA7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50U3R5bGUudG9wID0gdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcpIHx8IDA7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50U3R5bGUucG9zaXRpb24gPSB0aGlzLiRlbGVtZW50LmNzcygncG9zaXRpb24nKTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRTdHlsZS53aWR0aCA9IHRoaXMuJGVsZW1lbnQuY3NzKCd3aWR0aCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBjYW5jZWxQcmVzcygpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9wcmVzc1RpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuJGRvY3VtZW50Lm9mZih0aGlzLl9tb3ZlRXZlbnRzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQcmVzcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vZmYodGhpcy5fcmVsZWFzZUV2ZW50cywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsUHJlc3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbmxvbmdwcmVzcyhldnQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ0VuYWJsZWQpIHJldHVybjtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB0aGlzLm9mZnNldCA9IHRoaXMuJGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd1RyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnT2Zmc2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnT2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogZG9jdW1lbnQuYm9keS5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICggPCBhbnkgPiB0aGlzLiRlbGVtZW50KS5jZW50ZXJYID0gdGhpcy4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgICAgICAoIDwgYW55ID4gdGhpcy4kZWxlbWVudCkuY2VudGVyWSA9IHRoaXMuJGVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0IC8gMjtcblxuICAgICAgICAgICAgdGhpcy5fbXggPSB0aGlzLnBpcERyYWdnYWJsZS5pbnB1dEV2ZW50KGV2dCkucGFnZVg7XG4gICAgICAgICAgICB0aGlzLl9teSA9IHRoaXMucGlwRHJhZ2dhYmxlLmlucHV0RXZlbnQoZXZ0KS5wYWdlWTtcbiAgICAgICAgICAgIHRoaXMuX21yeCA9IHRoaXMuX214IC0gdGhpcy5vZmZzZXQubGVmdDtcbiAgICAgICAgICAgIHRoaXMuX21yeSA9IHRoaXMuX215IC0gdGhpcy5vZmZzZXQudG9wO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NlbnRlckFuY2hvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3R4ID0gdGhpcy5fbXggLSAoIDwgYW55ID4gdGhpcy4kZWxlbWVudCkuY2VudGVyWCAtIHRoaXMuJHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICAgICAgICAgICAgICB0aGlzLl90eSA9IHRoaXMuX215IC0gKCA8IGFueSA+IHRoaXMuJGVsZW1lbnQpLmNlbnRlclkgLSB0aGlzLiR3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3R4ID0gdGhpcy5fbXggLSB0aGlzLl9tcnggLSB0aGlzLiR3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHkgPSB0aGlzLl9teSAtIHRoaXMuX21yeSAtIHRoaXMuJHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kZG9jdW1lbnQub24odGhpcy5fbW92ZUV2ZW50cywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbm1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vbih0aGlzLl9yZWxlYXNlRXZlbnRzLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ucmVsZWFzZShldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFRoaXMgZXZlbnQgaXMgdXNlZCB0byByZWNlaXZlIG1hbnVhbGx5IHRyaWdnZXJlZCBtb3VzZSBtb3ZlIGV2ZW50c1xuICAgICAgICAgICAgLy8ganFMaXRlIHVuZm9ydHVuYXRlbHkgb25seSBzdXBwb3J0cyB0cmlnZ2VySGFuZGxlciguLi4pXG4gICAgICAgICAgICAvLyBTZWUgaHR0cDovL2FwaS5qcXVlcnkuY29tL3RyaWdnZXJIYW5kbGVyL1xuICAgICAgICAgICAgLy8gX2RlcmVnaXN0ZXJSb290TW92ZUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJ2RyYWdnYWJsZTpfdHJpZ2dlckhhbmRsZXJNb3ZlJywgb25tb3ZlKTtcbiAgICAgICAgICAgIHRoaXMuX2RlcmVnaXN0ZXJSb290TW92ZUxpc3RlbmVyID0gdGhpcy4kcm9vdFNjb3BlLiRvbignZHJhZ2dhYmxlOl90cmlnZ2VySGFuZGxlck1vdmUnLCAoZXZlbnQsIG9yaWdFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25tb3ZlKG9yaWdFdmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25tb3ZlKGV2dCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3BpcC1kcmFnZ2luZycpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IHRoaXMuZ2V0RHJhZ0RhdGEodGhpcy4kc2NvcGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ3BpcC1kcmFnZ2luZycpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdkcmFnZ2FibGU6c3RhcnQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuX214LFxuICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLl9teSxcbiAgICAgICAgICAgICAgICAgICAgdHg6IHRoaXMuX3R4LFxuICAgICAgICAgICAgICAgICAgICB0eTogdGhpcy5fdHksXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldnQsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuJGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuX2RhdGFcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uRHJhZ1N0YXJ0Q2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25EcmFnU3RhcnRDYWxsYmFjayh0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDogZXZ0XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9teCA9IHRoaXMucGlwRHJhZ2dhYmxlLmlucHV0RXZlbnQoZXZ0KS5wYWdlWDtcbiAgICAgICAgICAgIHRoaXMuX215ID0gdGhpcy5waXBEcmFnZ2FibGUuaW5wdXRFdmVudChldnQpLnBhZ2VZO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsU2Nyb2xsIHx8IHRoaXMudmVydGljYWxTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYWdUb1Njcm9sbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fY2VudGVyQW5jaG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHggPSB0aGlzLl9teCAtICggPCBhbnkgPiB0aGlzLiRlbGVtZW50KS5jZW50ZXJYIC0gdGhpcy5fZHJhZ09mZnNldC5sZWZ0O1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5ID0gdGhpcy5fbXkgLSAoIDwgYW55ID4gdGhpcy4kZWxlbWVudCkuY2VudGVyWSAtIHRoaXMuX2RyYWdPZmZzZXQudG9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90eCA9IHRoaXMuX214IC0gdGhpcy5fbXJ4IC0gdGhpcy5fZHJhZ09mZnNldC5sZWZ0O1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5ID0gdGhpcy5fbXkgLSB0aGlzLl9tcnkgLSB0aGlzLl9kcmFnT2Zmc2V0LnRvcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5tb3ZlRWxlbWVudCh0aGlzLl90eCwgdGhpcy5fdHkpO1xuXG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGJyb2FkY2FzdCgnZHJhZ2dhYmxlOm1vdmUnLCB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5fbXgsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5fbXksXG4gICAgICAgICAgICAgICAgdHg6IHRoaXMuX3R4LFxuICAgICAgICAgICAgICAgIHR5OiB0aGlzLl90eSxcbiAgICAgICAgICAgICAgICBldmVudDogZXZ0LFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuJGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5fZGF0YSxcbiAgICAgICAgICAgICAgICB1aWQ6IHRoaXMuX215aWQsXG4gICAgICAgICAgICAgICAgZHJhZ09mZnNldDogdGhpcy5fZHJhZ09mZnNldFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9ucmVsZWFzZShldnQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ0VuYWJsZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGJyb2FkY2FzdCgnZHJhZ2dhYmxlOmVuZCcsIHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLl9teCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLl9teSxcbiAgICAgICAgICAgICAgICB0eDogdGhpcy5fdHgsXG4gICAgICAgICAgICAgICAgdHk6IHRoaXMuX3R5LFxuICAgICAgICAgICAgICAgIGV2ZW50OiBldnQsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogdGhpcy4kZWxlbWVudCxcbiAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLm9uRHJhZ0NvbXBsZXRlLFxuICAgICAgICAgICAgICAgIHVpZDogdGhpcy5fbXlpZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdwaXAtZHJhZ2dpbmcnKTtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQucGFyZW50KCkuZmluZCgnLnBpcC1kcmFnLWVudGVyJykucmVtb3ZlQ2xhc3MoJ3BpcC1kcmFnLWVudGVyJyk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vZmYodGhpcy5fbW92ZUV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLiRkb2N1bWVudC5vZmYodGhpcy5fcmVsZWFzZUV2ZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkRyYWdTdG9wQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ1N0b3BDYWxsYmFjayh0aGlzLiRzY29wZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IGV2dFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGVyZWdpc3RlclJvb3RNb3ZlTGlzdGVuZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25EcmFnQ29tcGxldGUoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMub25EcmFnU3VjY2Vzc0NhbGxiYWNrKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdWNjZXNzQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgJGRhdGE6IHRoaXMuX2RhdGEsXG4gICAgICAgICAgICAgICAgICAgICRldmVudDogZXZ0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgcmVzZXQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd1RyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJycsXG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogJycsXG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLl9lbGVtZW50U3R5bGUucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5fZWxlbWVudFN0eWxlLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5fZWxlbWVudFN0eWxlLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICd6LWluZGV4JzogJycsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLl9lbGVtZW50U3R5bGUud2lkdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgbW92ZUVsZW1lbnQoeCwgeSkge1xuICAgICAgICAgICAgY29uc3QgZVdpZHRoID0gdGhpcy4kZWxlbWVudC5jc3MoJ3dpZHRoJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd1RyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnbWF0cml4M2QoMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgJyArIHggKyAnLCAnICsgeSArICcsIDAsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgJ3otaW5kZXgnOiA5OTk5OSxcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ21hdHJpeDNkKDEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDAsICcgKyB4ICsgJywgJyArIHkgKyAnLCAwLCAxKScsXG4gICAgICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ21hdHJpeCgxLCAwLCAwLCAxLCAnICsgeCArICcsICcgKyB5ICsgJyknXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiB4ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgJ3RvcCc6IHkgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgICAgICAgICAgICAgICAnei1pbmRleCc6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVXaWR0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBkcmFnVG9TY3JvbGwoKSB7XG4gICAgICAgICAgICBsZXQgc2Nyb2xsWCA9IDAsXG4gICAgICAgICAgICAgICAgc2Nyb2xsWSA9IDAsXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0KCkgfHwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWxTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJMZWZ0ID0gb2Zmc2V0KHRoaXMuc2Nyb2xsQ29udGFpbmVyKS5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJXaWR0aCA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyLmlubmVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyUmlnaHQgPSBjb250YWluZXJMZWZ0ICsgY29udGFpbmVyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX214IC0gY29udGFpbmVyTGVmdCkgPCB0aGlzLmFjdGl2YXRpb25EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxYID0gLXRoaXMuc2Nyb2xsRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoY29udGFpbmVyUmlnaHQgLSB0aGlzLl9teCkgPCB0aGlzLmFjdGl2YXRpb25EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxYID0gdGhpcy5zY3JvbGxEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyVG9wID0gb2Zmc2V0KHRoaXMuc2Nyb2xsQ29udGFpbmVyKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyLmlubmVySGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lclRvcCArIGNvbnRhaW5lckhlaWdodDtcblxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5fbXkgLSBjb250YWluZXJUb3ApIDwgdGhpcy5hY3RpdmF0aW9uRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWSA9IC10aGlzLnNjcm9sbERpc3RhbmNlICsgMzA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoY29udGFpbmVyQm90dG9tIC0gdGhpcy5fbXkpIDwgdGhpcy5hY3RpdmF0aW9uRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWSA9IHRoaXMuc2Nyb2xsRGlzdGFuY2UgLSAzMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2Nyb2xsWCAhPT0gMCB8fCBzY3JvbGxZICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyU2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsQ29udGFpbmVyLnNjcm9sbExlZnQoKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyU2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0KGNvbnRhaW5lclNjcm9sbExlZnQgKyBzY3JvbGxYKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AoY29udGFpbmVyU2Nyb2xsVG9wICsgc2Nyb2xsWSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgRHJhZyA9IGZ1bmN0aW9uIChcbiAgICAgICAgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgICAgICRwYXJzZTogbmcuSVBhcnNlU2VydmljZSxcbiAgICAgICAgJGRvY3VtZW50OiBuZy5JRG9jdW1lbnRTZXJ2aWNlLFxuICAgICAgICAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcbiAgICAgICAgcGlwRHJhZ2dhYmxlOiBJRHJhZ2dhYmxlU2VydmljZSxcbiAgICApOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgJHNjb3BlOiBJRHJhZ0xpbmtTY29wZSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgICAgICRhdHRyczogSURyYWdMaW5rQXR0cmlidXRlc1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbmV3IERyYWdMaW5rKCRyb290U2NvcGUsICRwYXJzZSwgJGRvY3VtZW50LCAkd2luZG93LCBwaXBEcmFnZ2FibGUsICRzY29wZSwgJGVsZW1lbnQsICRhdHRycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIilcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwRHJhZycsIERyYWcpO1xufSIsImV4cG9ydCBpbnRlcmZhY2UgSURyYWdnYWJsZVNlcnZpY2Uge1xuICAgIGlucHV0RXZlbnQoZXZlbnQ6IGFueSk7XG59XG5cbmNsYXNzIERyYWdnYWJsZVNlcnZpY2UgaW1wbGVtZW50cyBJRHJhZ2dhYmxlU2VydmljZSB7XG4gICAgcHVibGljIGlucHV0RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGV2ZW50LnRvdWNoZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgfVxuICAgICAgICAvL0NoZWNraW5nIGJvdGggaXMgbm90IHJlZHVuZGVudC4gSWYgb25seSBjaGVjayBpZiB0b3VjaGVzIGlzRGVmaW5lZCwgYW5ndWxhcmpzIGlzRGVmbmllZCB3aWxsIHJldHVybiBlcnJvciBhbmQgc3RvcCB0aGUgcmVtYWluaW5nIHNjcmlwdHkgaWYgZXZlbnQub3JpZ2luYWxFdmVudCBpcyBub3QgZGVmaW5lZC5cbiAgICAgICAgZWxzZSBpZiAoYW5ndWxhci5pc0RlZmluZWQoZXZlbnQub3JpZ2luYWxFdmVudCkgJiYgYW5ndWxhci5pc0RlZmluZWQoZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIilcbiAgICAuc2VydmljZSgncGlwRHJhZ2dhYmxlJywgRHJhZ2dhYmxlU2VydmljZSk7XG4gICAgIiwiaW1wb3J0IHsgSURyYWdnYWJsZVNlcnZpY2UgfSBmcm9tICcuL0RyYWdnYWJsZVNlcnZpY2UnO1xuXG57XG4gICAgaW50ZXJmYWNlIElEcm9wTGlua1Njb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcbiAgICAgICAgdmFsdWU6IGFueTtcbiAgICAgICAgaXNUb3VjaGluZzogYW55O1xuICAgIH1cblxuICAgIGludGVyZmFjZSBJRHJvcExpbmtBdHRyaWJ1dGVzIGV4dGVuZHMgbmcuSUF0dHJpYnV0ZXMge1xuICAgICAgICBwaXBEcm9wOiBhbnk7XG4gICAgICAgIHBpcERyb3BTdWNjZXNzOiBhbnk7XG4gICAgICAgIHBpcERyYWdTdGFydDogYW55O1xuICAgICAgICBwaXBEcmFnU3RvcDogYW55O1xuICAgICAgICBwaXBEcmFnTW92ZTogYW55O1xuICAgIH1cblxuICAgIGNsYXNzIERyb3BMaW5rIHtcblxuICAgICAgICBwcml2YXRlIF9sYXN0RHJvcFRvdWNoOiBhbnk7XG4gICAgICAgIHByaXZhdGUgX215aWQ6IG51bWJlciB8IHN0cmluZztcbiAgICAgICAgcHJpdmF0ZSBfZHJvcEVuYWJsZWQ6IGJvb2xlYW47XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRyb3BDYWxsYmFjazogRnVuY3Rpb247IC8vIHx8IGZ1bmN0aW9uKCl7fTtcbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdTdGFydENhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdTdG9wQ2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgICAgICBwcml2YXRlIG9uRHJhZ01vdmVDYWxsYmFjazogRnVuY3Rpb247XG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRwYXJzZTogbmcuSVBhcnNlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGRvY3VtZW50OiBuZy5JRG9jdW1lbnRTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSBwaXBEcmFnZ2FibGU6IElEcmFnZ2FibGVTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IElEcm9wTGlua1Njb3BlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgcHJpdmF0ZSAkYXR0cnM6IElEcm9wTGlua0F0dHJpYnV0ZXNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsdWUgPSAkYXR0cnMucGlwRHJvcDtcbiAgICAgICAgICAgICRzY29wZS5pc1RvdWNoaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX215aWQgPSAkc2NvcGUuJGlkO1xuICAgICAgICAgICAgdGhpcy5vbkRyb3BDYWxsYmFjayA9ICRwYXJzZSgkYXR0cnMucGlwRHJvcFN1Y2Nlc3MpOyAvLyB8fCBmdW5jdGlvbigpe307XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0Q2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdTdGFydCk7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ1N0b3BDYWxsYmFjayA9ICRwYXJzZSgkYXR0cnMucGlwRHJhZ1N0b3ApO1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdNb3ZlQ2FsbGJhY2sgPSAkcGFyc2UoJGF0dHJzLnBpcERyYWdNb3ZlKTtcblxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3RlbmVycyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdG9nZ2xlTGlzdGVuZXJzKGVuYWJsZSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICAgICAgaWYgKCFlbmFibGUpIHJldHVybjtcbiAgICAgICAgICAgIC8vIGFkZCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kd2F0Y2godGhpcy4kYXR0cnMucGlwRHJvcCwgKG5ld1ZhbCwgb2xkVmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVuYWJsZUNoYW5nZShuZXdWYWwsIG9sZFZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRvbignJGRlc3Ryb3knLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGVzdHJveShldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRvbignZHJhZ2dhYmxlOnN0YXJ0JywgKGV2dCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdGFydChldnQsIG9iaik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLiRvbignZHJhZ2dhYmxlOm1vdmUnLCAoZXZ0LCBvYmopID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ01vdmUoZXZ0LCBvYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kb24oJ2RyYWdnYWJsZTplbmQnLCAoZXZ0LCBvYmopID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ0VuZChldnQsIG9iaik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25EZXN0cm95KGVuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVMaXN0ZW5lcnMoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkVuYWJsZUNoYW5nZShuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICAgICAgdGhpcy5fZHJvcEVuYWJsZWQgPSBuZXdWYWw7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uRHJhZ1N0YXJ0KGV2dCwgb2JqKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Ryb3BFbmFibGVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzVG91Y2hpbmcob2JqLngsIG9iai55LCBvYmouZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRhdHRycy5waXBEcmFnU3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdGFydENhbGxiYWNrKHRoaXMuJHNjb3BlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZGF0YTogb2JqLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQ6IG9ialxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25EcmFnTW92ZShldnQsIG9iaikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcm9wRW5hYmxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pc1RvdWNoaW5nKG9iai54LCBvYmoueSwgb2JqLmVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kYXR0cnMucGlwRHJhZ01vdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdNb3ZlQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDogb2JqXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkRyYWdFbmQoZXZ0LCBvYmopIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGxpc3RlbiB0byBkcm9wIGV2ZW50cyBpZiB0aGlzIGlzIHRoZSBlbGVtZW50IGJlaW5nIGRyYWdnZWRcbiAgICAgICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSBzdHlsZXMgYW5kIHJldHVyblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcm9wRW5hYmxlZCB8fCB0aGlzLl9teWlkID09PSBvYmoudWlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEcmFnU3R5bGVzKGZhbHNlLCBvYmouZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1RvdWNoaW5nKG9iai54LCBvYmoueSwgb2JqLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsbCB0aGUgcGlwRHJhZ2dhYmxlIHBpcERyYWdTdWNjZXNzIGVsZW1lbnQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAob2JqLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5jYWxsYmFjayhvYmopO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRhdHRycy5waXBEcm9wU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Ecm9wQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZGF0YTogb2JqLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50OiBvYmosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldDogdGhpcy4kc2NvcGUuJGV2YWwodGhpcy4kc2NvcGUudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy4kYXR0cnMucGlwRHJhZ1N0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWdTdG9wQ2FsbGJhY2sodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDogb2JqXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURyYWdTdHlsZXMoZmFsc2UsIG9iai5lbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaXNUb3VjaGluZyhtb3VzZVgsIG1vdXNlWSwgZHJhZ0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdWNoaW5nID0gdGhpcy5oaXRUZXN0KG1vdXNlWCwgbW91c2VZKTtcbiAgICAgICAgICAgIHRoaXMuJHNjb3BlLmlzVG91Y2hpbmcgPSB0b3VjaGluZztcbiAgICAgICAgICAgIGlmICh0b3VjaGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3REcm9wVG91Y2ggPSB0aGlzLiRlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVEcmFnU3R5bGVzKHRvdWNoaW5nLCBkcmFnRWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gdG91Y2hpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHVwZGF0ZURyYWdTdHlsZXModG91Y2hpbmcsIGRyYWdFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodG91Y2hpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdwaXAtZHJhZy1lbnRlcicpO1xuICAgICAgICAgICAgICAgIGRyYWdFbGVtZW50LmFkZENsYXNzKCdwaXAtZHJhZy1vdmVyJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2xhc3REcm9wVG91Y2ggPT0gdGhpcy4kZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3REcm9wVG91Y2ggPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3BpcC1kcmFnLWVudGVyJyk7XG4gICAgICAgICAgICAgICAgZHJhZ0VsZW1lbnQucmVtb3ZlQ2xhc3MoJ3BpcC1kcmFnLW92ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIGhpdFRlc3QoeCwgeSkge1xuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy4kZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHggLT0gdGhpcy4kZG9jdW1lbnRbMF0uYm9keS5zY3JvbGxMZWZ0ICsgdGhpcy4kZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICB5IC09IHRoaXMuJGRvY3VtZW50WzBdLmJvZHkuc2Nyb2xsVG9wICsgdGhpcy4kZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIHJldHVybiB4ID49IGJvdW5kcy5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgeCA8PSBib3VuZHMucmlnaHQgJiZcbiAgICAgICAgICAgICAgICB5IDw9IGJvdW5kcy5ib3R0b20gJiZcbiAgICAgICAgICAgICAgICB5ID49IGJvdW5kcy50b3A7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBEcm9wID0gZnVuY3Rpb24gKFxuICAgICAgICAkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UsXG4gICAgICAgICRkb2N1bWVudDogbmcuSURvY3VtZW50U2VydmljZSxcbiAgICAgICAgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgcGlwRHJhZ2dhYmxlOiBJRHJhZ2dhYmxlU2VydmljZSxcbiAgICApOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgJHNjb3BlOiBJRHJvcExpbmtTY29wZSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgICAgICRhdHRyczogSURyb3BMaW5rQXR0cmlidXRlc1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbmV3IERyb3BMaW5rKCRwYXJzZSwgJGRvY3VtZW50LCAkdGltZW91dCwgcGlwRHJhZ2dhYmxlLCAkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwicGlwRHJhZ2dhYmxlXCIpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3BpcERyb3AnLCBEcm9wKTtcbn0iLCJ7XG5cbiAgICBjbGFzcyBQcmV2ZW50RHJhZ0xpbmsge1xuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgIHByaXZhdGUgJGVsZW1lbnQ6IEpRdWVyeVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdwaXAtZHJhZ2dhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpc3RlbmVycyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgdG9nZ2xlTGlzdGVuZXJzKGVuYWJsZSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICAgICAgaWYgKCFlbmFibGUpIHJldHVybjtcbiAgICAgICAgICAgIC8vIGFkZCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdtb3VzZWRvd24gdG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLCAoZXZlbnQpID0+IHsgdGhpcy5hYnNvcmJFdmVudF8oZXZlbnQpOyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgYWJzb3JiRXZlbnRfKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY29uc3QgUHJldmVudERyYWcgPSBmdW5jdGlvbiAoKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgICRzY29wZTogbmcuSVNjb3BlLFxuICAgICAgICAgICAgICAgICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICAgICAgJGF0dHJzOiBuZy5JQXR0cmlidXRlc1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbmV3IFByZXZlbnREcmFnTGluaygkZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIilcbiAgICAgICAgLmRpcmVjdGl2ZSgncGlwUHJldmVudERyYWcnLCBQcmV2ZW50RHJhZyk7XG59IiwiYW5ndWxhci5tb2R1bGUoXCJwaXBEcmFnZ2FibGVcIiwgW10pO1xuXG5pbXBvcnQgJy4vRHJhZ2dhYmxlU2VydmljZSc7XG5pbXBvcnQgJy4vRHJhZyc7XG5pbXBvcnQgJy4vRHJvcCc7XG5pbXBvcnQgJy4vUHJldmVudERyYWcnO1xuaW1wb3J0ICcuL0NhbmNlbERyYWcnO1xuIiwie1xuICAgIGludGVyZmFjZSBGb2N1c2VkU2NvcGUgZXh0ZW5kcyBuZy5JU2NvcGUge1xuICAgICAgICBwaXBGb2N1c2VkQ29sb3I6IEZ1bmN0aW9uO1xuICAgICAgICBwaXBGb2N1c2VkQ2xhc3M6IEZ1bmN0aW9uO1xuICAgICAgICBwaXBGb2N1c2VkUmViaW5kOiBGdW5jdGlvbjtcbiAgICAgICAgcGlwRm9jdXNlZFRhYmluZGV4OiBGdW5jdGlvbjtcbiAgICAgICAgcGlwRm9jdXNlZE9wYWNpdHk6IEZ1bmN0aW9uO1xuICAgICAgICBwaXBGb2N1c2VkRGF0YTogRnVuY3Rpb247XG4gICAgICAgIHBpcFdpdGhIaWRkZW46IEZ1bmN0aW9uO1xuICAgICAgICBwaXBSZWJpbmQ6IEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBGb2N1c2VkQXR0cmlidXRlcyBleHRlbmRzIG5nLklBdHRyaWJ1dGVzIHtcbiAgICAgICAgbmdNb2RlbDogYW55O1xuICAgICAgICBwaXBGb2N1c2VkRGF0YTogYW55O1xuICAgIH1cblxuICAgIGNsYXNzIEZvY3VzZWRMaW5rIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHByaXZhdGUgY29udHJvbHM6IEpRdWVyeTtcbiAgICAgICAgcHJpdmF0ZSBjb250cm9sc0xlbmd0aDogbnVtYmVyO1xuICAgICAgICBwcml2YXRlIGNvbG9yOiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgb3BhY2l0eURlbHRhOiBudW1iZXIgPSAwLjQ7XG4gICAgICAgIHByaXZhdGUgb3BhY2l0eUxpbWl0OiBudW1iZXIgPSAwLjU7XG4gICAgICAgIHByaXZhdGUgb2xkQmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG4gICAgICAgIHByaXZhdGUgb25Gb2N1c0NsYXNzOiBzdHJpbmc7XG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRzY29wZTogRm9jdXNlZFNjb3BlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgJGF0dHJzOiBGb2N1c2VkQXR0cmlidXRlcyxcbiAgICAgICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJG1kQ29uc3RhbnQ6IGFueSxcbiAgICAgICAgICAgIHByaXZhdGUgJHdpbmRvdzogbmcuSVdpbmRvd1NlcnZpY2VcbiAgICAgICAgKSB7XG5cbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleWRvd25MaXN0ZW5lcihlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCRhdHRycy5uZ01vZGVsKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQodGhpcy5pbml0KTtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCRhdHRycy5waXBGb2N1c2VkRGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ3BpcEZvY3VzZWREYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dCh0aGlzLmluaXQpO1xuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBpbml0KCkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLiRzY29wZS5waXBXaXRoSGlkZGVuICYmIHRoaXMuJHNjb3BlLnBpcFdpdGhIaWRkZW4oKSA/ICcucGlwLWZvY3VzYWJsZScgOiAnLnBpcC1mb2N1c2FibGU6dmlzaWJsZSc7XG4gICAgICAgICAgICB0aGlzLm9uRm9jdXNDbGFzcyA9IHRoaXMuJHNjb3BlLnBpcEZvY3VzZWRDbGFzcyA/IHRoaXMuJHNjb3BlLnBpcEZvY3VzZWRDbGFzcygpIDogJyc7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xzID0gdGhpcy4kZWxlbWVudC5maW5kKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHNMZW5ndGggPSB0aGlzLmNvbnRyb2xzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tUYWJpbmRleCh0aGlzLmNvbnRyb2xzKTtcbiAgICAgICAgICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHMub24oJ2ZvY3VzJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAoJCh0YXJnZXQpLmhhc0NsYXNzKCdtZC1mb2N1c2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUucGlwUmViaW5kICYmIHRoaXMuJHNjb3BlLnBpcFJlYmluZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdwaXAtZm9jdXNlZC1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICAkKHRhcmdldCkuYWRkQ2xhc3ModGhpcy5vbkZvY3VzQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy4kc2NvcGUucGlwRm9jdXNlZE9wYWNpdHkgfHwgIXRoaXMuJHNjb3BlLnBpcEZvY3VzZWRPcGFjaXR5KCkpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gJCh0YXJnZXQpLmNzcygnYmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2xkQmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmNzcygnYmFja2dyb3VuZENvbG9yJywgdGhpcy5yZ2JhKHRoaXMuY29sb3IpKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLmFkZENsYXNzKCdtZC1mb2N1c2VkIG1kLWZvY3VzZWQtb3BhY2l0eScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSkub24oJ2ZvY3Vzb3V0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAoISQodGFyZ2V0KS5oYXNDbGFzcygnbWQtZm9jdXNlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygncGlwLWZvY3VzZWQtY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgJCh0YXJnZXQpLnJlbW92ZUNsYXNzKHRoaXMub25Gb2N1c0NsYXNzKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJHNjb3BlLnBpcEZvY3VzZWRPcGFjaXR5IHx8ICF0aGlzLiRzY29wZS5waXBGb2N1c2VkT3BhY2l0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGFyZ2V0KS5jc3MoJ2JhY2tncm91bmRDb2xvcicsIHRoaXMub2xkQmFja2dyb3VuZENvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0YXJnZXQpLnJlbW92ZUNsYXNzKCdtZC1mb2N1c2VkIG1kLWZvY3VzZWQtb3BhY2l0eScpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQodGFyZ2V0KS5yZW1vdmVDbGFzcygnbWQtZm9jdXNlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSByZ2JhKGNvbG9yKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2NvcGUucGlwRm9jdXNlZENvbG9yICYmIHRoaXMuJHNjb3BlLnBpcEZvY3VzZWRDb2xvcigpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlLnBpcEZvY3VzZWRDb2xvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhcnIgPSBjb2xvci5zcGxpdChcIihcIilbMV0uc3BsaXQoXCIpXCIpWzBdLnNwbGl0KFwiLFwiKTtcblxuICAgICAgICAgICAgaWYgKCFhcnIgfHwgYXJyLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHJlZCwgYmx1ZSwgZ3JlZW4sIG9wYWNpdHk7XG5cbiAgICAgICAgICAgIG9wYWNpdHkgPSBhcnIubGVuZ3RoID09IDMgPyAxIDogcGFyc2VGbG9hdChhcnJbM10pO1xuICAgICAgICAgICAgcmVkID0gYXJyWzBdO1xuICAgICAgICAgICAgYmx1ZSA9IGFyclsxXTtcbiAgICAgICAgICAgIGdyZWVuID0gYXJyWzJdO1xuXG4gICAgICAgICAgICBpZiAob3BhY2l0eSA8IHRoaXMub3BhY2l0eUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSArPSB0aGlzLm9wYWNpdHlEZWx0YTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eSAtPSB0aGlzLm9wYWNpdHlEZWx0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyByZWQgKyAnLCAnICsgYmx1ZSArICcsICcgKyBncmVlbiArICcsICcgKyBvcGFjaXR5ICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBzZXRUYWJpbmRleChlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2hlY2tUYWJpbmRleChjb250cm9scykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBfLmZpbmRJbmRleChjb250cm9scywgKGMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY1sndGFiaW5kZXgnXSA+IC0xO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSAmJiBjb250cm9scy5sZW5ndGggPiAwICYmIHRoaXMuJHNjb3BlLnBpcEZvY3VzZWRUYWJpbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGFiaW5kZXgoYW5ndWxhci5lbGVtZW50KGNvbnRyb2xzWzBdKSwgdGhpcy4kc2NvcGUucGlwRm9jdXNlZFRhYmluZGV4KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBrZXlkb3duTGlzdGVuZXIoZSkge1xuICAgICAgICAgICAgY29uc3Qga2V5Q29kZSA9IGUud2hpY2ggfHwgZS5rZXlDb2RlO1xuICAgICAgICAgICAgLy8gQ2hlY2sgY29udHJvbCBrZXlDb2RlXG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1cgfHxcbiAgICAgICAgICAgICAgICBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1cgfHxcbiAgICAgICAgICAgICAgICBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1cgfHxcbiAgICAgICAgICAgICAgICBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPV1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gKGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVyB8fCBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVykgPyAxIDogLTEsXG4gICAgICAgICAgICAgICAgICAgIG1vdmVUb0NvbnRyb2wgPSB0aGlzLmNvbnRyb2xzLmluZGV4KHRoaXMuY29udHJvbHMuZmlsdGVyKFwiLm1kLWZvY3VzZWRcIikpICsgaW5jcmVtZW50O1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgZm9jdXMgdG8gbmV4dCBjb250cm9sXG4gICAgICAgICAgICAgICAgaWYgKG1vdmVUb0NvbnRyb2wgPj0gMCAmJiBtb3ZlVG9Db250cm9sIDwgdGhpcy5jb250cm9sc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzW21vdmVUb0NvbnRyb2xdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgRm9jdXNlZCA9IGZ1bmN0aW9uICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCBcbiAgICAgICAgJG1kQ29uc3RhbnQ6IGFueSwgXG4gICAgICAgICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlXG4gICAgKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHBpcEZvY3VzZWRDb2xvcjogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBGb2N1c2VkQ2xhc3M6ICcmPycsXG4gICAgICAgICAgICAgICAgcGlwRm9jdXNlZFJlYmluZDogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBGb2N1c2VkVGFiaW5kZXg6ICcmPycsXG4gICAgICAgICAgICAgICAgcGlwRm9jdXNlZE9wYWNpdHk6ICcmPycsXG4gICAgICAgICAgICAgICAgcGlwRm9jdXNlZERhdGE6ICcmPycsXG4gICAgICAgICAgICAgICAgcGlwV2l0aEhpZGRlbjogJyY/JyxcbiAgICAgICAgICAgICAgICBwaXBSZWJpbmQ6ICcmPydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGU6IEZvY3VzZWRTY29wZSwgJGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBGb2N1c2VkQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIG5ldyBGb2N1c2VkTGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0LCAkbWRDb25zdGFudCwgJHdpbmRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoXCJwaXBGb2N1c2VkXCIsIFtdKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBGb2N1c2VkJywgRm9jdXNlZCk7XG59Iiwi77u/aW1wb3J0ICcuL3Vuc2F2ZWRfY2hhbmdlcy91bnNhdmVkQ2hhbmdlcyc7XG5pbXBvcnQgJy4vc2hvcnRjdXRzL2luZGV4JztcbmltcG9ydCAnLi9mb2N1c2VkL2ZvY3VzZWQnO1xuaW1wb3J0ICcuL2RyYWdnYWJsZS9pbmRleCc7XG5pbXBvcnQgJy4vc2VsZWN0ZWQvc2VsZWN0ZWQnO1xuaW1wb3J0ICcuL2luZmluaXRlX3Njcm9sbC9pbmZpbml0ZVNjcm9sbCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwaXBCZWhhdmlvcnMnLCBbXG4gICAgJ3BpcEZvY3VzZWQnLFxuICAgICdwaXBTZWxlY3RlZCcsXG4gICAgJ3BpcEluZmluaXRlU2Nyb2xsJyxcbiAgICAncGlwVW5zYXZlZENoYW5nZXMnLFxuICAgICdwaXBEcmFnZ2FibGUnLFxuICAgICdwaXBTaG9ydGN1dHMnXG5dKTtcblxuZXhwb3J0ICogZnJvbSAnLi9zaG9ydGN1dHMvaW5kZXgnO1xuIiwie1xuICAgIGludGVyZmFjZSBJbmZpbml0ZVNjcm9sbFNjb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcbiAgICAgICAgcGlwSW5maW5pdGVTY3JvbGw6IEZ1bmN0aW9uO1xuICAgICAgICBwaXBTY3JvbGxDb250YWluZXI6IEpRdWVyeTtcbiAgICAgICAgcGlwU2Nyb2xsRGlzdGFuY2U6IG51bWJlciB8IHN0cmluZztcbiAgICAgICAgcGlwU2Nyb2xsRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgICAgIHBpcFNjcm9sbFVzZURvY3VtZW50Qm90dG9tOiBib29sZWFuO1xuICAgICAgICBwaXBTY3JvbGxMaXN0ZW5Gb3JFdmVudDogc3RyaW5nO1xuICAgIH1cblxuICAgIGludGVyZmFjZSBJbmZpbml0ZVNjcm9sbEF0dHJpYnV0ZXMgZXh0ZW5kcyBuZy5JQXR0cmlidXRlcyB7XG4gICAgICAgIHBpcFNjcm9sbFBhcmVudDogYW55O1xuICAgICAgICBwaXBTY3JvbEltbWVkaWF0ZUNoZWNrOiBhbnk7XG4gICAgfVxuXG4gICAgY2xhc3MgSW5maW5pdGVTY3JvbGxMaW5rIHtcbiAgICAgICAgcHJpdmF0ZSBUSFJPVFRMRV9NSUxMSVNFQ09ORFM6IG51bWJlciA9IDUwMDtcbiAgICAgICAgcHJpdmF0ZSBjaGVja1doZW5FbmFibGVkID0gbnVsbDtcbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxDb250YWluZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIGltbWVkaWF0ZUNoZWNrID0gdHJ1ZTtcbiAgICAgICAgcHJpdmF0ZSBzY3JvbGxEaXN0YW5jZSA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgc2Nyb2xsRW5hYmxlZCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgdW5yZWdpc3RlckV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICAgICAgICBwcml2YXRlIHVzZURvY3VtZW50Qm90dG9tID0gZmFsc2U7XG4gICAgICAgIHByaXZhdGUgd2luZG93RWxlbWVudCA9IG51bGw7XG4gICAgICAgIHByaXZhdGUgb25Db250YWluZXJTY3JvbGxUaHJvdHRsZTogRnVuY3Rpb247XG5cbiAgICAgICAgY29uc3RydWN0b3IoXG4gICAgICAgICAgICBwcml2YXRlICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlLFxuICAgICAgICAgICAgcHJpdmF0ZSAkc2NvcGU6IEluZmluaXRlU2Nyb2xsU2NvcGUsXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICBwcml2YXRlICRhdHRyczogSW5maW5pdGVTY3JvbGxBdHRyaWJ1dGVzXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy53aW5kb3dFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpO1xuXG4gICAgICAgICAgICB0aGlzLm9uQ29udGFpbmVyU2Nyb2xsVGhyb3R0bGUgPSBfLnRocm90dGxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29udGFpbmVyU2Nyb2xsKCk7XG4gICAgICAgICAgICB9LCB0aGlzLlRIUk9UVExFX01JTExJU0VDT05EUyk7XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyLnVuYmluZCgnc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29udGFpbmVyU2Nyb2xsVGhyb3R0bGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bnJlZ2lzdGVyRXZlbnRMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgncGlwU2Nyb2xsRGlzdGFuY2UnLCAodikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsRGlzdGFuY2Uodik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsRGlzdGFuY2UoJHNjb3BlLnBpcFNjcm9sbERpc3RhbmNlKTtcblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgncGlwU2Nyb2xsRGlzYWJsZWQnLCAodikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsRGlzYWJsZWQodik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsRGlzYWJsZWQoJHNjb3BlLnBpcFNjcm9sbERpc2FibGVkKTtcblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgncGlwU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20nLCAodikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20odik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b20oJHNjb3BlLnBpcFNjcm9sbFVzZURvY3VtZW50Qm90dG9tKTtcblxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VDb250YWluZXIodGhpcy53aW5kb3dFbGVtZW50KTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGlwU2Nyb2xsTGlzdGVuRm9yRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJFdmVudExpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJHNjb3BlLnBpcFNjcm9sbExpc3RlbkZvckV2ZW50LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db250YWluZXJTY3JvbGxUaHJvdHRsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdwaXBTY3JvbGxDb250YWluZXInLCAobmV3Q29udGFpbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0NvbnRhaW5lciAhPSB0aGlzLnNjcm9sbENvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxDb250YWluZXIobmV3Q29udGFpbmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVTY3JvbGxDb250YWluZXIoJHNjb3BlLnBpcFNjcm9sbENvbnRhaW5lciB8fCBbXSk7XG5cbiAgICAgICAgICAgIGlmICgkYXR0cnMucGlwU2Nyb2xsUGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDb250YWluZXIoYW5ndWxhci5lbGVtZW50KCRlbGVtZW50LnBhcmVudCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJGF0dHJzLnBpcFNjcm9sSW1tZWRpYXRlQ2hlY2sgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltbWVkaWF0ZUNoZWNrID0gJHNjb3BlLiRldmFsKCRhdHRycy5waXBTY3JvbEltbWVkaWF0ZUNoZWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGludGVydmFsKChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1tZWRpYXRlQ2hlY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25Db250YWluZXJTY3JvbGxUaHJvdHRsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCAwLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaGVpZ2h0KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdIHx8IGVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoaXNOYU4oZWxlbWVudC5vZmZzZXRIZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvZmZzZXRUb3AoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCB8fCBlbGVtZW50LmNzcygnbm9uZScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgdGhpcy5wYWdlWU9mZnNldChlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgcGFnZVlPZmZzZXQoZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF0gfHwgZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChpc05hTih3aW5kb3cucGFnZVlPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25Db250YWluZXJTY3JvbGwoKSB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyQm90dG9tLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclRvcE9mZnNldCxcbiAgICAgICAgICAgICAgICBlbGVtZW50Qm90dG9tLFxuICAgICAgICAgICAgICAgIHJlbWFpbmluZyxcbiAgICAgICAgICAgICAgICBzaG91bGRTY3JvbGw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbENvbnRhaW5lciA9PT0gdGhpcy53aW5kb3dFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyQm90dG9tID0gdGhpcy5oZWlnaHQodGhpcy5zY3JvbGxDb250YWluZXIpICsgdGhpcy5wYWdlWU9mZnNldCh0aGlzLnNjcm9sbENvbnRhaW5lclswXS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRCb3R0b20gPSB0aGlzLm9mZnNldFRvcCh0aGlzLiRlbGVtZW50KSArIHRoaXMuaGVpZ2h0KHRoaXMuJGVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXJCb3R0b20gPSB0aGlzLmhlaWdodCh0aGlzLnNjcm9sbENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyVG9wT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vZmZzZXRUb3AodGhpcy5zY3JvbGxDb250YWluZXIpICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyVG9wT2Zmc2V0ID0gdGhpcy5vZmZzZXRUb3AodGhpcy5zY3JvbGxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbGVtZW50Qm90dG9tID0gdGhpcy5vZmZzZXRUb3AodGhpcy4kZWxlbWVudCkgLSBjb250YWluZXJUb3BPZmZzZXQgKyB0aGlzLmhlaWdodCh0aGlzLiRlbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMudXNlRG9jdW1lbnRCb3R0b20pIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Qm90dG9tID0gdGhpcy5oZWlnaHQoKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudCB8fCAoIDwgYW55ID4gdGhpcy4kZWxlbWVudFswXSkuZG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbWFpbmluZyA9IGVsZW1lbnRCb3R0b20gLSBjb250YWluZXJCb3R0b207XG4gICAgICAgICAgICBzaG91bGRTY3JvbGwgPSByZW1haW5pbmcgPD0gdGhpcy5oZWlnaHQodGhpcy5zY3JvbGxDb250YWluZXIpICogdGhpcy5zY3JvbGxEaXN0YW5jZSArIDE7XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrV2hlbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbEVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJHNjb3BlLiQkcGhhc2UgfHwgdGhpcy4kcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzY29wZS5waXBJbmZpbml0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUucGlwSW5maW5pdGVTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGVja1doZW5FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGhhbmRsZVNjcm9sbERpc3RhbmNlKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjcm9sbERpc3RhbmNlID0gcGFyc2VGbG9hdCh2KSB8fCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBoYW5kbGVTY3JvbGxEaXNhYmxlZCh2KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEVuYWJsZWQgPSAhdjtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbEVuYWJsZWQgJiYgdGhpcy5jaGVja1doZW5FbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1doZW5FbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbnRhaW5lclNjcm9sbFRocm90dGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGhhbmRsZVNjcm9sbFVzZURvY3VtZW50Qm90dG9tKHYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVzZURvY3VtZW50Qm90dG9tID0gdjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgY2hhbmdlQ29udGFpbmVyKG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXIudW5iaW5kKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db250YWluZXJTY3JvbGxUaHJvdHRsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNjcm9sbENvbnRhaW5lciA9IG5ld0NvbnRhaW5lcjtcbiAgICAgICAgICAgIGlmIChuZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxDb250YWluZXIuYmluZCgnc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29udGFpbmVyU2Nyb2xsVGhyb3R0bGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgaGFuZGxlU2Nyb2xsQ29udGFpbmVyKG5ld0NvbnRhaW5lcikge1xuICAgICAgICAgICAgaWYgKChuZXdDb250YWluZXIgPT0gbnVsbCkgfHwgbmV3Q29udGFpbmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdDb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChuZXdDb250YWluZXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV3Q29udGFpbmVyLmFwcGVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChuZXdDb250YWluZXJbbmV3Q29udGFpbmVyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld0NvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBuZXdDb250YWluZXIgPSB0aGlzLiRlbGVtZW50LnBhcmVudHMoKS5maW5kKG5ld0NvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdDb250YWluZXIgIT0gbnVsbCAmJiAoIUFycmF5LmlzQXJyYXkobmV3Q29udGFpbmVyKSB8fFxuICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShuZXdDb250YWluZXIpICYmIG5ld0NvbnRhaW5lci5sZW5ndGggPiAwKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VDb250YWluZXIobmV3Q29udGFpbmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwaXAtc2Nyb2xsLWNvbnRhaW5lciBhdHRyaWJ1dGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25zdCBJbmZpbml0ZVNjcm9sbCA9IGZ1bmN0aW9uIChcbiAgICAgICAgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgICAgICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLFxuICAgICAgICAkaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2VcbiAgICApOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgcGlwSW5maW5pdGVTY3JvbGw6ICcmJyxcbiAgICAgICAgICAgICAgICBwaXBTY3JvbGxDb250YWluZXI6ICc9JyxcbiAgICAgICAgICAgICAgICBwaXBTY3JvbGxEaXN0YW5jZTogJz0nLFxuICAgICAgICAgICAgICAgIHBpcFNjcm9sbERpc2FibGVkOiAnPScsXG4gICAgICAgICAgICAgICAgcGlwU2Nyb2xsVXNlRG9jdW1lbnRCb3R0b206ICc9JyxcbiAgICAgICAgICAgICAgICBwaXBTY3JvbGxMaXN0ZW5Gb3JFdmVudDogJ0AnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKFxuICAgICAgICAgICAgICAgICRzY29wZTogSW5maW5pdGVTY3JvbGxTY29wZSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAgICAgICAgICRhdHRyczogSW5maW5pdGVTY3JvbGxBdHRyaWJ1dGVzXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBuZXcgSW5maW5pdGVTY3JvbGxMaW5rKCRyb290U2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcInBpcEluZmluaXRlU2Nyb2xsXCIsIFtdKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBJbmZpbml0ZVNjcm9sbCcsIEluZmluaXRlU2Nyb2xsKTtcbn0iLCJ7XG4gICAgaW50ZXJmYWNlIFNlbGVjdGVkQXR0cmlidXRlcyBleHRlbmRzIG5nLklBdHRyaWJ1dGVzIHtcbiAgICAgICAgcGlwU2VsZWN0ZWQ6IGFueTtcbiAgICAgICAgcGlwU2VsZWN0ZWRJZDogYW55O1xuICAgICAgICBwaXBTZWxlY3Q6IGFueTtcbiAgICAgICAgcGlwRW50ZXJTcGFjZVByZXNzOiBhbnk7XG4gICAgICAgIHBpcE5vU2Nyb2xsOiBhbnk7XG4gICAgICAgIHBpcFNraXBIaWRkZW46IGFueTtcbiAgICAgICAgcGlwVHJlZUxpc3Q6IGFueTtcbiAgICAgICAgcGlwU2VsZWN0ZWRXYXRjaDogYW55O1xuICAgIH1cblxuICAgIGNsYXNzIFNlbGVjdGVkTGluayB7XG4gICAgICAgIHByaXZhdGUgaW5kZXhHZXR0ZXI6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBpbmRleFNldHRlcjogYW55O1xuICAgICAgICBwcml2YXRlIGlkU2V0dGVyOiBhbnk7XG4gICAgICAgIHByaXZhdGUgaWRHZXR0ZXI6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBjaGFuZ2VHZXR0ZXI6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBlbnRlclNwYWNlR2V0dGVyOiBhbnk7XG4gICAgICAgIHByaXZhdGUgbm9TY3JvbGw6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBtb2RpZmllcjogYW55O1xuICAgICAgICBwcml2YXRlIGNsYXNzTmFtZTogYW55O1xuICAgICAgICBwcml2YXRlIHNlbGVjdGVkSW5kZXg6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBjdXJyZW50RWxlbWVudFRhYmluZXg6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBwaXBTZWxlY3RlZFdhdGNoOiBhbnk7XG4gICAgICAgIHByaXZhdGUgaXNTY3JvbGxlZDogYW55O1xuICAgICAgICAvLyBWYXJpYWJsZXMgZm9yIHRvdWNoIGZ1bmN0aW9uc1xuICAgICAgICBwcml2YXRlIHRvdWNoU3RhcnRYOiBhbnk7XG4gICAgICAgIHByaXZhdGUgdG91Y2hTdGFydFk6IGFueTtcbiAgICAgICAgcHJpdmF0ZSB0cmFja2luZ0NsaWNrOiBhbnk7XG4gICAgICAgIHByaXZhdGUgdHJhY2tpbmdDbGlja1N0YXJ0OiBhbnk7XG4gICAgICAgIHByaXZhdGUgdGFyZ2V0RWxlbWVudDogYW55O1xuICAgICAgICBwcml2YXRlIGxhc3RDbGlja1RpbWU6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBjYW5jZWxOZXh0Q2xpY2s6IGFueTtcbiAgICAgICAgLy8gQ29uc3RhbnRzIGZvciB0b3VjaCBmdW5jdGlvbnNcbiAgICAgICAgcHJpdmF0ZSB0b3VjaEJvdW5kYXJ5OiBudW1iZXIgPSAxMDtcbiAgICAgICAgcHJpdmF0ZSB0YXBkZWxheTogbnVtYmVyID0gMjAwO1xuICAgICAgICBwcml2YXRlIHRhcFRpbWVvdXQ6IG51bWJlciA9IDcwMDtcblxuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICRwYXJzZTogbmcuSVBhcnNlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJG1kQ29uc3RhbnQ6IGFueSxcbiAgICAgICAgICAgIHByaXZhdGUgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICAgICBwcml2YXRlICRlbGVtZW50OiBKUXVlcnksXG4gICAgICAgICAgICBwcml2YXRlICRhdHRyczogU2VsZWN0ZWRBdHRyaWJ1dGVzXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5pbmRleEdldHRlciA9ICRhdHRycy5waXBTZWxlY3RlZCA/ICRwYXJzZSgkYXR0cnMucGlwU2VsZWN0ZWQpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhTZXR0ZXIgPSB0aGlzLmluZGV4R2V0dGVyID8gdGhpcy5pbmRleEdldHRlci5hc3NpZ24gOiBudWxsO1xuICAgICAgICAgICAgdGhpcy5pZEdldHRlciA9ICRhdHRycy5waXBTZWxlY3RlZElkID8gJHBhcnNlKCRhdHRycy5waXBTZWxlY3RlZElkKSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLmlkU2V0dGVyID0gdGhpcy5pZEdldHRlciA/IHRoaXMuaWRHZXR0ZXIuYXNzaWduIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlR2V0dGVyID0gJGF0dHJzLnBpcFNlbGVjdCA/ICRwYXJzZSgkYXR0cnMucGlwU2VsZWN0KSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLmVudGVyU3BhY2VHZXR0ZXIgPSAkYXR0cnMucGlwRW50ZXJTcGFjZVByZXNzID8gJHBhcnNlKCRhdHRycy5waXBFbnRlclNwYWNlUHJlc3MpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMubm9TY3JvbGwgPSAkYXR0cnMucGlwTm9TY3JvbGw7XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVyID0gJGF0dHJzLnBpcFNraXBIaWRkZW4gPyAnOnZpc2libGUnIDogJyc7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICRhdHRycy5waXBUcmVlTGlzdCA/ICcucGlwLXNlbGVjdGFibGUtdHJlZScgOiAnLnBpcC1zZWxlY3RhYmxlJztcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMuaW5kZXhHZXR0ZXIoJHNjb3BlKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEVsZW1lbnRUYWJpbmV4ID0gJGVsZW1lbnQuYXR0cigndGFiaW5kZXgnKTtcbiAgICAgICAgICAgIHRoaXMucGlwU2VsZWN0ZWRXYXRjaCA9ICRhdHRycy5waXBTZWxlY3RlZFdhdGNoO1xuICAgICAgICAgICAgdGhpcy5pc1Njcm9sbGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgdGhpcy5jdXJyZW50RWxlbWVudFRhYmluZXggfHwgMCk7XG5cbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdjbGljaycsIHRoaXMuY2xhc3NOYW1lLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xpY2tFdmVudChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCd0b3VjaHN0YXJ0JywgdGhpcy5jbGFzc05hbWUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub3VjaFN0YXJ0KGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ3RvdWNobW92ZScsIHRoaXMuY2xhc3NOYW1lLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVG91Y2hNb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ3RvdWNoZW5kJywgdGhpcy5jbGFzc05hbWUsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub3VjaEVuZChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCd0b3VjaGNhbmNlbCcsIHRoaXMuY2xhc3NOYW1lLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVG91Y2hDYW5jZWwoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZWxlbWVudC5vbigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGVsZW1lbnQub24oJ2ZvY3VzaW4nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRm9jdXNJbihldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdmb2N1c291dCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25Gb2N1c091dChldmVudCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gV2F0Y2ggc2VsZWN0ZWQgaXRlbSBpbmRleFxuICAgICAgICAgICAgaWYgKCEkYXR0cnMucGlwVHJlZUxpc3QpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKHRoaXMuaW5kZXhHZXR0ZXIsIChuZXdTZWxlY3RlZEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSW5kZXg6IG5ld1NlbGVjdGVkSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2godGhpcy5pZEdldHRlciwgKG5ld1NlbGVjdGVkSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IG5ld1NlbGVjdGVkSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2VFdmVudDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXYXRjaCByZXN5bmMgc2VsZWN0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5waXBTZWxlY3RlZFdhdGNoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCh0aGlzLnBpcFNlbGVjdGVkV2F0Y2gsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsYXkgdXBkYXRlIHRvIGFsbG93IG5nLXJlcGVhdCB0byB1cGRhdGUgRE9NXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMuaW5kZXhHZXR0ZXIoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUluZGV4OiB0aGlzLnNlbGVjdGVkSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZWxlY3QgaXRlbSBkZWZpbmVkIGJ5IGluZGV4XG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oe1xuICAgICAgICAgICAgICAgIGl0ZW1JbmRleDogdGhpcy5zZWxlY3RlZEluZGV4LFxuICAgICAgICAgICAgICAgIGl0ZW1zOiAkZWxlbWVudC5maW5kKHRoaXMuY2xhc3NOYW1lKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIHNlbGVjdEl0ZW0oaXRlbVBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTY3JvbGxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGl0ZW1JbmRleCA9IGl0ZW1QYXJhbXMuaXRlbUluZGV4LFxuICAgICAgICAgICAgICAgIGl0ZW1JZCA9IGl0ZW1QYXJhbXMuaXRlbUlkLFxuICAgICAgICAgICAgICAgIGl0ZW1zID0gaXRlbVBhcmFtcy5pdGVtcyB8fCB0aGlzLiRlbGVtZW50LmZpbmQodGhpcy5jbGFzc05hbWUgKyB0aGlzLm1vZGlmaWVyKSxcbiAgICAgICAgICAgICAgICBpdGVtc0xlbmd0aCA9IGl0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpdGVtID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbVBhcmFtcy5pdGVtKSByZXR1cm4gaXRlbVBhcmFtcy5pdGVtO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbUluZGV4ID09PSB1bmRlZmluZWQgJiYgaXRlbUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUluZGV4ID0gaXRlbXMuaW5kZXgoaXRlbXMuZmlsdGVyKCdbcGlwLWlkPScgKyBpdGVtSWQgKyAnXScpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbUluZGV4ID49IDAgJiYgaXRlbUluZGV4IDwgaXRlbXNMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtc1tpdGVtSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByYWlzZUV2ZW50ID0gaXRlbVBhcmFtcy5yYWlzZUV2ZW50O1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtKCk7XG4gICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLmNsYXNzTmFtZSkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkIG1kLWZvY3VzZWQnKTtcbiAgICAgICAgICAgICAgICBpdGVtID0gPGFueT5hbmd1bGFyLmVsZW1lbnQoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzZWxlY3RlZCBtZC1mb2N1c2VkJylcbiAgICAgICAgICAgICAgICAgICAgLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5vU2Nyb2xsKSB0aGlzLnNjcm9sbFRvSXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAocmFpc2VFdmVudCkgdGhpcy5kZWZpbmVTZWxlY3RlZEluZGV4KGl0ZW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIGRlZmluZVNlbGVjdGVkSW5kZXgoaXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBpdGVtcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoJChpdGVtc1tpbmRleF0pLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRXhlY3V0ZSBjYWxsYmFjayB0byBub3RpZnkgYWJvdXQgaXRlbSBzZWxlY3RcbiAgICAgICAgICAgIGlmIChvbGRTZWxlY3RlZEluZGV4ICE9IHRoaXMuc2VsZWN0ZWRJbmRleCAmJiB0aGlzLnNlbGVjdGVkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KHVwZGF0ZUluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NvcGUuJGFwcGx5KG9uU2VsZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlSW5kZXgoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gYW5ndWxhci5lbGVtZW50KGl0ZW1zW3RoaXMuc2VsZWN0ZWRJbmRleF0pLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkID0gc2VsZWN0ZWRJdGVtLmF0dHIoJ3BpcC1pZCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXhTZXR0ZXIpIHRoaXMuaW5kZXhTZXR0ZXIodGhpcy4kc2NvcGUsIHRoaXMuc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWRTZXR0ZXIpIHRoaXMuaWRTZXR0ZXIodGhpcy4kc2NvcGUsIHNlbGVjdGVkSWQpO1xuICAgICAgICAgICAgICAgIG9uU2VsZWN0KCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBvblNlbGVjdCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBhbmd1bGFyLmVsZW1lbnQoaXRlbXNbdGhpcy5zZWxlY3RlZEluZGV4XSksXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWQgPSBzZWxlY3RlZEl0ZW0uYXR0cigncGlwLWlkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFuZ2VHZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VHZXR0ZXIodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy4kZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBzZWxlY3RlZEl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMuc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogc2VsZWN0ZWRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleDogdGhpcy5zZWxlY3RlZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZEluZGV4OiBvbGRTZWxlY3RlZEluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIHNjcm9sbFRvSXRlbSgkaXRlbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9TY3JvbGwgfHwgISRpdGVtLm9mZnNldCgpKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgY29udGFpbmVyVG9wID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gdGhpcy4kZWxlbWVudC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJCb3R0b20gPSBjb250YWluZXJUb3AgKyBjb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgaXRlbVRvcCA9ICRpdGVtLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICBpdGVtSGVpZ2h0ID0gJGl0ZW0ub3V0ZXJIZWlnaHQodHJ1ZSksXG4gICAgICAgICAgICAgICAgaXRlbUJvdHRvbSA9IGl0ZW1Ub3AgKyBpdGVtSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lclNjcm9sbFRvcCA9IHRoaXMuJGVsZW1lbnQuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNTY3JvbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU2Nyb2xsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG5cbiAgICAgICAgICAgIGlmIChjb250YWluZXJUb3AgPiBpdGVtVG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5zY3JvbGxUb3AoY29udGFpbmVyU2Nyb2xsVG9wICsgaXRlbVRvcCAtIGNvbnRhaW5lclRvcCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lckJvdHRvbSA8IGl0ZW1Cb3R0b20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LnNjcm9sbFRvcChjb250YWluZXJTY3JvbGxUb3AgKyBpdGVtQm90dG9tIC0gY29udGFpbmVyQm90dG9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIGdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIE9uIHNvbWUgb2xkZXIgYnJvd3NlcnMgdGhlIGV2ZW50IHRhcmdldCBtYXkgYmUgYSB0ZXh0IG5vZGUuXG4gICAgICAgICAgICBpZiAoZXZlbnRUYXJnZXQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50VGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBldmVudFRhcmdldDtcbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIHRvdWNoSGFzTW92ZWQoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sXG4gICAgICAgICAgICAgICAgYm91bmRhcnkgPSB0aGlzLnRvdWNoQm91bmRhcnk7IC8vIFRvdWNobW92ZSBib3VuZGFyeSwgYmV5b25kIHdoaWNoIGEgY2xpY2sgd2lsbCBiZSBjYW5jZWxsZWQuXG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0b3VjaC5wYWdlWCAtIHRoaXMudG91Y2hTdGFydFgpID4gYm91bmRhcnkgfHwgTWF0aC5hYnModG91Y2gucGFnZVkgLSB0aGlzLnRvdWNoU3RhcnRZKSA+IGJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBwcml2YXRlIG9uQ2xpY2tFdmVudChldmVudCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHtcbiAgICAgICAgICAgICAgICBpdGVtOiBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgICAgIHJhaXNlRXZlbnQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvblRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIGlmIChldlsndGFyZ2V0VG91Y2hlcyddLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVsZW1lbnQgPSB0aGlzLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZXYudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICB0b3VjaCA9IGV2Wyd0YXJnZXRUb3VjaGVzJ11bMF07XG5cbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmdDbGljayA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IGV2LnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMudG91Y2hTdGFydFggPSB0b3VjaC5wYWdlWDtcbiAgICAgICAgICAgIHRoaXMudG91Y2hTdGFydFkgPSB0b3VjaC5wYWdlWTtcblxuICAgICAgICAgICAgLyppZiAoKGV2LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcGRlbGF5KSB7XG4gICAgICAgICAgICAgICAgLy8gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudHJhY2tpbmdDbGljaykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXYgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRvdWNoIGhhcyBtb3ZlZCwgY2FuY2VsIHRoZSBjbGljayB0cmFja2luZ1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0RWxlbWVudCAhPT0gdGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2LnRhcmdldCkgfHwgdGhpcy50b3VjaEhhc01vdmVkKGV2KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvblRvdWNoRW5kKGV2ZW50KSB7XG4gICAgICAgICAgICBsZXQgZm9yRWxlbWVudCwgbmV3VHJhY2tpbmdDbGlja1N0YXJ0LCB0YXJnZXRUYWdOYW1lLCBzY3JvbGxQYXJlbnQsIHRvdWNoLCBuZXd0YXJnZXRFbGVtZW50ID0gdGhpcy50YXJnZXRFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMudHJhY2tpbmdDbGljaykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXYgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgLy8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgXG4gICAgICAgICAgICBpZiAoKGV2LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcGRlbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxOZXh0Q2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKGV2LnRpbWVTdGFtcCAtIHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0KSA+IHRoaXMudGFwVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBSZXNldCB0byBwcmV2ZW50IHdyb25nIGNsaWNrIGNhbmNlbCBvbiBpbnB1dCBcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsTmV4dENsaWNrID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMubGFzdENsaWNrVGltZSA9IGV2ZW50LnRpbWVTdGFtcDtcblxuICAgICAgICAgICAgbmV3VHJhY2tpbmdDbGlja1N0YXJ0ID0gdGhpcy50cmFja2luZ0NsaWNrU3RhcnQ7XG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHtcbiAgICAgICAgICAgICAgICBpdGVtOiBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgICAgIHJhaXNlRXZlbnQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIG9uVG91Y2hDYW5jZWwoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaXZhdGUgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGU7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGNvbnRyb2wga2V5Q29kZVxuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5FTlRFUiB8fCBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuU1BBQ0UpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZW50ZXJTcGFjZUdldHRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGVyU3BhY2VHZXR0ZXIodGhpcy4kc2NvcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy4kZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogdGhpcy5zZWxlY3RlZEluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IHRoaXMuJGVsZW1lbnQuZmluZCgnLnNlbGVjdGVkJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIGlmIChrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVyB8fCBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1cgfHxcbiAgICAgICAgICAgICAgICBrZXlDb2RlID09IHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1cgfHwga2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkRPV05fQVJST1dcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgbmV4dCBzZWxlY3RhYmxlIGNvbnRyb2wgaW5kZXhcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLmNsYXNzTmFtZSArIHRoaXMubW9kaWZpZXIpLFxuICAgICAgICAgICAgICAgICAgICBpbmMgPSAoa2V5Q29kZSA9PSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLlJJR0hUX0FSUk9XIHx8IGtleUNvZGUgPT0gdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XKSA/IDEgOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleCArIGluYztcblxuICAgICAgICAgICAgICAgIC8vIFNldCBuZXh0IGNvbnRyb2wgYXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSW5kZXg6IG5ld1NlbGVjdGVkSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgcmFpc2VFdmVudDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkZvY3VzSW4oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIENob29zZSBzZWxlY3RlZCBlbGVtZW50XG4gICAgICAgICAgICBsZXQgaXRlbXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gdGhpcy4kZWxlbWVudC5maW5kKHRoaXMuY2xhc3NOYW1lICsgJy5zZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW0uYWRkQ2xhc3MoJ21kLWZvY3VzZWQnKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vdCBzZWxlY3RlZCBlbGVtZW50cyB0aGVuIHBpY2sgdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLmluZGV4R2V0dGVyKHRoaXMuJHNjb3BlKTtcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuJGVsZW1lbnQuZmluZCh0aGlzLmNsYXNzTmFtZSArIHRoaXMubW9kaWZpZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JbmRleDogdGhpcy5zZWxlY3RlZEluZGV4IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgcmFpc2VFdmVudDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBvbkZvY3VzT3V0KGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQodGhpcy5jbGFzc05hbWUgKyAnLm1kLWZvY3VzZWQnICsgdGhpcy5tb2RpZmllcikucmVtb3ZlQ2xhc3MoJ21kLWZvY3VzZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFNlbGVjdGVkID0gZnVuY3Rpb24gKFxuICAgICAgICAkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UsXG4gICAgICAgICRtZENvbnN0YW50OiBhbnksXG4gICAgICAgICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2VcbiAgICApOiBuZy5JRGlyZWN0aXZlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBzY29wZTogZmFsc2UsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoXG4gICAgICAgICAgICAgICAgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQ6IEpRdWVyeSxcbiAgICAgICAgICAgICAgICAkYXR0cnM6IFNlbGVjdGVkQXR0cmlidXRlc1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbmV3IFNlbGVjdGVkTGluaygkcGFyc2UsICRtZENvbnN0YW50LCAkdGltZW91dCwgJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZShcInBpcFNlbGVjdGVkXCIsIFtdKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBTZWxlY3RlZCcsIFNlbGVjdGVkKTtcbn0iLCJpbXBvcnQgeyBTaG9ydGN1dE9wdGlvbnMgfSBmcm9tIFwiLi9TaG9ydGN1dFwiO1xuXG5leHBvcnQgY2xhc3MgU2hvcnRjdXRJdGVtIHtcbiAgICAvLyBTaG9ydGN1dCBjb21iaW5hdGlvblxuICAgIHB1YmxpYyBzaG9ydGN1dDogc3RyaW5nO1xuICAgIC8vIFRhcmdldCBvYmplY3QgXG4gICAgcHVibGljIHRhcmdldD86IGFueTtcbiAgICAvLyBUYXJnZXQgZWxlbWVudCBieSBJZFxuICAgIHB1YmxpYyB0YXJnZXRJZD86IHN0cmluZztcbiAgICAvLyBUYXJnZXQgZWxlbWVudCBieSBjbGFzcyAoZmlyc3RlbGVtZW50Pz8pXG4gICAgLy8gUHVibGljIHRhcmdldENsYXNzPzogc3RyaW5nO1xuICAgIC8vIEFjY2VzcyBmdW5jdGlvblxuICAgIHB1YmxpYyBhY2Nlc3M/OiAoZXZlbnQ6IEpRdWVyeUV2ZW50T2JqZWN0KSA9PiBib29sZWFuO1xuICAgIC8vIFdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgcHVibGljIGhyZWY/OiBzdHJpbmc7XG4gICAgLy8gJGxvY2F0aW9uLnVybFxuICAgIHB1YmxpYyB1cmw/OiBzdHJpbmc7XG4gICAgLy8gJHN0YXRlLmdvKHN0YXRlLCBzdGF0ZVBhcmFtcylcbiAgICBwdWJsaWMgc3RhdGU/OiBzdHJpbmc7XG4gICAgLy8gUGFyYW1ldGVycyBmb3IgJHN0YXRlLmdvKHN0YXRlLCBzdGF0ZVBhcmFtcylcbiAgICBwdWJsaWMgc3RhdGVQYXJhbXM/OiBhbnk7XG4gICAgLy8gJHJvb3RTY29wZS5icm9hZGNhc3QoZXZlbnQpXG4gICAgcHVibGljIGV2ZW50Pzogc3RyaW5nO1xuICAgIC8vIENsaWNrIGNhbGxiYWNrXG4gICAgcHVibGljIGtleXByZXNzPzogKGV2ZW50OiBKUXVlcnlFdmVudE9iamVjdCkgPT4gdm9pZDtcbiAgICAvLyBEZWZhdWx0IG9wdGlvbnNcbiAgICBwdWJsaWMgb3B0aW9ucz86IFNob3J0Y3V0T3B0aW9uczsgICAgXG59XG5cbi8vIGV4cG9ydCBjbGFzcyBTaG9ydGN1dEl0ZW0gZXh0ZW5kcyBTaW1wbGVTaG9ydGN1dEl0ZW0ge1xuLy8gICAgIHB1YmxpYyBzaG9ydGN1dHM6IFNpbXBsZVNob3J0Y3V0SXRlbVtdO1xuLy8gfVxuXG5leHBvcnQgY2xhc3MgU2hvcnRjdXRzQ29uZmlnIHtcbiAgICAvLyBHbG9iYWwgc2hvcnRjdXQgXG4gICAgcHVibGljIGdsb2JhbFNob3J0Y3V0czogU2hvcnRjdXRJdGVtW10gPSBbXTtcbiAgICAvLyBMb2NhbCBzaG9ydGN1dCBcbiAgICBwdWJsaWMgbG9jYWxTaG9ydGN1dHM6IFNob3J0Y3V0SXRlbVtdID0gW107XG4gICAgLy8gRGVmYXVsdCBvcHRpb25zXG4gICAgcHVibGljIGRlZmF1bHRPcHRpb25zOiBTaG9ydGN1dE9wdGlvbnMgPSBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTaG9ydGN1dHNTZXJ2aWNlIHtcbiAgICByZWFkb25seSBjb25maWc6IFNob3J0Y3V0c0NvbmZpZztcblxuICAgIGdsb2JhbFNob3J0Y3V0czogU2hvcnRjdXRJdGVtW107XG4gICAgbG9jYWxTaG9ydGN1dHM6IFNob3J0Y3V0SXRlbVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTaG9ydGN1dHNQcm92aWRlciBleHRlbmRzIG5nLklTZXJ2aWNlUHJvdmlkZXIge1xuICAgIGNvbmZpZzogU2hvcnRjdXRzQ29uZmlnO1xuICAgIFxuICAgIGdsb2JhbFNob3J0Y3V0czogU2hvcnRjdXRJdGVtW107XG4gICAgZGVmYXVsdE9wdGlvbnM6IFNob3J0Y3V0T3B0aW9ucztcbn1cbiIsImV4cG9ydCBjbGFzcyBLZXlib2FyZEV2ZW50IHtcbiAgICBzdGF0aWMgS2V5ZG93bjogc3RyaW5nID0gJ2tleWRvd24nO1xuICAgIHN0YXRpYyBLZXl1cDogc3RyaW5nID0gJ2tleXVwJztcbiAgICBzdGF0aWMgS2V5cHJlc3M6IHN0cmluZyA9ICdrZXlwcmVzcyc7XG59XG5cbmV4cG9ydCBjbGFzcyBTaG9ydGN1dE9wdGlvbnMge1xuICAgIFR5cGU6IEtleWJvYXJkRXZlbnQ7XG4gICAgUHJvcGFnYXRlOiBib29sZWFuO1xuICAgIERpc2FibGVJbklucHV0OiBib29sZWFuO1xuICAgIFRhcmdldDogYW55OyAvLyBFdmVudCB0YXJnZXQgb2JqZWN0XG4gICAgS2V5Y29kZTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRjdXQge1xuICAgIHByaXZhdGUgc2hpZnRfbnVtcyA9IHtcbiAgICAgICAgXCJgXCI6IFwiflwiLFxuICAgICAgICBcIjFcIjogXCIhXCIsXG4gICAgICAgIFwiMlwiOiBcIkBcIixcbiAgICAgICAgXCIzXCI6IFwiI1wiLFxuICAgICAgICBcIjRcIjogXCIkXCIsXG4gICAgICAgIFwiNVwiOiBcIiVcIixcbiAgICAgICAgXCI2XCI6IFwiXlwiLFxuICAgICAgICBcIjdcIjogXCImXCIsXG4gICAgICAgIFwiOFwiOiBcIipcIixcbiAgICAgICAgXCI5XCI6IFwiKFwiLFxuICAgICAgICBcIjBcIjogXCIpXCIsXG4gICAgICAgIFwiLVwiOiBcIl9cIixcbiAgICAgICAgXCI9XCI6IFwiK1wiLFxuICAgICAgICBcIjtcIjogXCI6XCIsXG4gICAgICAgIFwiJ1wiOiBcIlxcXCJcIixcbiAgICAgICAgXCIsXCI6IFwiPFwiLFxuICAgICAgICBcIi5cIjogXCI+XCIsXG4gICAgICAgIFwiL1wiOiBcIj9cIixcbiAgICAgICAgXCJcXFxcXCI6IFwifFwiXG4gICAgfTtcblxuICAgIHByaXZhdGUgc3BlY2lhbF9rZXlzID0ge1xuICAgICAgICAnZXNjJzogMjcsXG4gICAgICAgICdlc2NhcGUnOiAyNyxcbiAgICAgICAgJ3RhYic6IDksXG4gICAgICAgICdzcGFjZSc6IDMyLFxuICAgICAgICAncmV0dXJuJzogMTMsXG4gICAgICAgICdlbnRlcic6IDEzLFxuICAgICAgICAnYmFja3NwYWNlJzogOCxcblxuICAgICAgICAnc2Nyb2xsbG9jayc6IDE0NSxcbiAgICAgICAgJ3Njcm9sbF9sb2NrJzogMTQ1LFxuICAgICAgICAnc2Nyb2xsJzogMTQ1LFxuICAgICAgICAnY2Fwc2xvY2snOiAyMCxcbiAgICAgICAgJ2NhcHNfbG9jayc6IDIwLFxuICAgICAgICAnY2Fwcyc6IDIwLFxuICAgICAgICAnbnVtbG9jayc6IDE0NCxcbiAgICAgICAgJ251bV9sb2NrJzogMTQ0LFxuICAgICAgICAnbnVtJzogMTQ0LFxuXG4gICAgICAgICdwYXVzZSc6IDE5LFxuICAgICAgICAnYnJlYWsnOiAxOSxcblxuICAgICAgICAnaW5zZXJ0JzogNDUsXG4gICAgICAgICdob21lJzogMzYsXG4gICAgICAgICdkZWxldGUnOiA0NixcbiAgICAgICAgJ2VuZCc6IDM1LFxuXG4gICAgICAgICdwYWdldXAnOiAzMyxcbiAgICAgICAgJ3BhZ2VfdXAnOiAzMyxcbiAgICAgICAgJ3B1JzogMzMsXG5cbiAgICAgICAgJ3BhZ2Vkb3duJzogMzQsXG4gICAgICAgICdwYWdlX2Rvd24nOiAzNCxcbiAgICAgICAgJ3BkJzogMzQsXG5cbiAgICAgICAgJ2xlZnQnOiAzNyxcbiAgICAgICAgJ3VwJzogMzgsXG4gICAgICAgICdyaWdodCc6IDM5LFxuICAgICAgICAnZG93bic6IDQwLFxuXG4gICAgICAgICdmMSc6IDExMixcbiAgICAgICAgJ2YyJzogMTEzLFxuICAgICAgICAnZjMnOiAxMTQsXG4gICAgICAgICdmNCc6IDExNSxcbiAgICAgICAgJ2Y1JzogMTE2LFxuICAgICAgICAnZjYnOiAxMTcsXG4gICAgICAgICdmNyc6IDExOCxcbiAgICAgICAgJ2Y4JzogMTE5LFxuICAgICAgICAnZjknOiAxMjAsXG4gICAgICAgICdmMTAnOiAxMjEsXG4gICAgICAgICdmMTEnOiAxMjIsXG4gICAgICAgICdmMTInOiAxMjNcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBtb2RpZmllcnMgPSB7XG4gICAgICAgIHNoaWZ0OiB7IHdhbnRlZDogZmFsc2UsIHByZXNzZWQ6IGZhbHNlIH0sXG4gICAgICAgIGN0cmw6IHsgd2FudGVkOiBmYWxzZSwgcHJlc3NlZDogZmFsc2UgfSxcbiAgICAgICAgYWx0OiB7IHdhbnRlZDogZmFsc2UsIHByZXNzZWQ6IGZhbHNlIH0sXG4gICAgICAgIG1ldGE6IHsgd2FudGVkOiBmYWxzZSwgcHJlc3NlZDogZmFsc2UgfVx0Ly8gTWV0YSBpcyBNYWMgc3BlY2lmaWNcbiAgICB9O1xuXG4gICAgcHVibGljIGV2ZW50Q2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIHB1YmxpYyB0YXJnZXQ6IGFueTtcbiAgICBwdWJsaWMgZXZlbnQ6IEtleWJvYXJkRXZlbnQ7XG4gICAgcHVibGljIG9wdGlvbjogU2hvcnRjdXRPcHRpb25zO1xuICAgIHB1YmxpYyBzaG9yY3V0OiBzdHJpbmc7XG4gICAgcHVibGljIGNhbGxiYWNrOiBGdW5jdGlvbjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgZWxlbWVudDogYW55LFxuICAgICAgICBzaG9yY3V0Q29tYmluYXRpb246IHN0cmluZyxcbiAgICAgICAgb3B0aW9uOiBTaG9ydGN1dE9wdGlvbnMsXG4gICAgICAgIGNhbGxiYWNrOiAoZT86IEpRdWVyeUV2ZW50T2JqZWN0KSA9PiB2b2lkXG4gICAgKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICB0aGlzLnRhcmdldCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2hvcmN1dCA9IHNob3JjdXRDb21iaW5hdGlvbjtcbiAgICAgICAgdGhpcy5ldmVudCA9IG9wdGlvbi5UeXBlO1xuICAgICAgICB0aGlzLm9wdGlvbiA9IG9wdGlvbjtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXG4gICAgICAgIHRoaXMuZXZlbnRDYWxsYmFjayA9IChldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBlOiBKUXVlcnlFdmVudE9iamVjdCA9IGV2ZW50IHx8IDxKUXVlcnlFdmVudE9iamVjdD53aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICBsZXQgY29kZTogbnVtYmVyO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb24uRGlzYWJsZUluSW5wdXQpIHsgLy8gRGlzYWJsZSBzaG9ydGN1dCBrZXlzIGluIElucHV0LCBUZXh0YXJlYSBmaWVsZHNcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlLnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09ICdJTlBVVCcgfHwgZWxlbWVudC50YWdOYW1lID09ICdURVhUQVJFQScpIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbmQgV2hpY2gga2V5IGlzIHByZXNzZWRcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICBjb2RlID0gZS5rZXlDb2RlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoKSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGUud2hpY2g7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjaGFyYWN0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGlmIChjb2RlID09IDE4OCkgY2hhcmFjdGVyID0gXCIsXCI7IC8vIElmIHRoZSB1c2VyIHByZXNzZXMsIHdoZW4gdGhlIHR5cGUgaXMgb25rZXlkb3duXG4gICAgICAgICAgICBpZiAoY29kZSA9PSAxOTApIGNoYXJhY3RlciA9IFwiLlwiOyAvLyBJZiB0aGUgdXNlciBwcmVzc2VzLCB3aGVuIHRoZSB0eXBlIGlzIG9ua2V5ZG93blxuXG4gICAgICAgICAgICBsZXQga2V5czogc3RyaW5nW10gPSB0aGlzLnNob3JjdXQuc3BsaXQoXCIrXCIpO1xuICAgICAgICAgICAgLy8gS2V5IFByZXNzZWQgLSBjb3VudHMgdGhlIG51bWJlciBvZiB2YWxpZCBrZXlwcmVzc2VzIC0gaWYgaXQgaXMgc2FtZSBhcyB0aGUgbnVtYmVyIG9mIGtleXMsIHRoZSBzaG9ydGN1dCBmdW5jdGlvbiBpcyBpbnZva2VkXG4gICAgICAgICAgICBsZXQga3A6IG51bWJlciA9IDA7XG5cbiAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHRoaXMubW9kaWZpZXJzLmN0cmwucHJlc3NlZCA9IGUuY3RybEtleTtcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB0aGlzLm1vZGlmaWVycy5zaGlmdC5wcmVzc2VkID0gZS5zaGlmdEtleTtcbiAgICAgICAgICAgIGlmIChlLmFsdEtleSkgdGhpcy5tb2RpZmllcnMuYWx0LnByZXNzZWQgPSBlLmFsdEtleTtcbiAgICAgICAgICAgIGlmIChlLm1ldGFLZXkpIHRoaXMubW9kaWZpZXJzLm1ldGEucHJlc3NlZCA9IGUubWV0YUtleTtcblxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBrOiBzdHJpbmcgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIC8vIE1vZGlmaWVyc1xuICAgICAgICAgICAgICAgIGlmIChrID09ICdjdHJsJyB8fCBrID09ICdjb250cm9sJykge1xuICAgICAgICAgICAgICAgICAgICBrcCsrO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5jdHJsLndhbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrID09ICdzaGlmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAga3ArKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuc2hpZnQud2FudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPT0gJ2FsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAga3ArKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuYWx0LndhbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrID09ICdtZXRhJykge1xuICAgICAgICAgICAgICAgICAgICBrcCsrO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5tZXRhLndhbnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrLmxlbmd0aCA+IDEpIHsgLy8gSWYgaXQgaXMgYSBzcGVjaWFsIGtleVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zcGVjaWFsX2tleXNba10gPT0gY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAga3ArKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb24uS2V5Y29kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb24uS2V5Y29kZSA9PSBjb2RlKSBrcCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIFRoZSBzcGVjaWFsIGtleXMgZGlkIG5vdCBtYXRjaFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyID09IGspIGtwKys7XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hpZnRfbnVtc1tjaGFyYWN0ZXJdICYmIGUuc2hpZnRLZXkpIHsgLy8gU3R1cGlkIFNoaWZ0IGtleSBidWcgY3JlYXRlZCBieSB1c2luZyBsb3dlcmNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgPSB0aGlzLnNoaWZ0X251bXNbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyID09IGspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga3ArKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChrcCA9PSBrZXlzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLmN0cmwucHJlc3NlZCA9PSB0aGlzLm1vZGlmaWVycy5jdHJsLndhbnRlZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLnNoaWZ0LnByZXNzZWQgPT0gdGhpcy5tb2RpZmllcnMuc2hpZnQud2FudGVkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuYWx0LnByZXNzZWQgPT0gdGhpcy5tb2RpZmllcnMuYWx0LndhbnRlZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZXJzLm1ldGEucHJlc3NlZCA9PSB0aGlzLm1vZGlmaWVycy5tZXRhLndhbnRlZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhlKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb24uUHJvcGFnYXRlKSB7IC8vIFN0b3AgdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGUuY2FuY2VsQnViYmxlIGlzIHN1cHBvcnRlZCBieSBJRSAtIHRoaXMgd2lsbCBraWxsIHRoZSBidWJibGluZyBwcm9jZXNzLlxuICAgICAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbiB3b3JrcyBpbiBGaXJlZm94LlxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMuY3RybC5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5zaGlmdC5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycy5hbHQucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMubWV0YS5wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU2hvcnRjdXQsIFNob3J0Y3V0T3B0aW9ucywgS2V5Ym9hcmRFdmVudCB9IGZyb20gXCIuL1Nob3J0Y3V0XCI7XG5pbXBvcnQgeyBJS2V5Ym9hcmRTaG9ydGN1dHMsIElTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlLCBJU2hvcnRjdXRCaW5kaW5nUHJvdmlkZXIgfSBmcm9tICcuL0lTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlJztcblxue1xuICAgIGNsYXNzIFNob3J0Y3V0QmluZGluZ1NlcnZpY2UgaW1wbGVtZW50cyBJU2hvcnRjdXRCaW5kaW5nU2VydmljZSB7XG4gICAgICAgIHByaXZhdGUgX2xvZzogbmcuSUxvZ1NlcnZpY2U7XG4gICAgICAgIHByaXZhdGUgX2RlZmF1bHRPcHRpb246IFNob3J0Y3V0T3B0aW9ucztcbiAgICAgICAgcHJpdmF0ZSBfc2hvcnRjdXRzOiBJS2V5Ym9hcmRTaG9ydGN1dHMgPSB7fTtcblxuICAgICAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgICAgICAkbG9nOiBuZy5JTG9nU2VydmljZSxcbiAgICAgICAgICAgIG9wdGlvbjogU2hvcnRjdXRPcHRpb25zXG4gICAgICAgICkge1xuICAgICAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgICAgICAgICAgdGhpcy5fbG9nID0gJGxvZztcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRPcHRpb24gPSBvcHRpb24gPyBfLmRlZmF1bHRzKG9wdGlvbiwgdGhpcy5nZXREZWZhdWx0T3B0aW9uKCkpIDogdGhpcy5nZXREZWZhdWx0T3B0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwcml2YXRlIGdldERlZmF1bHRPcHRpb24oKTogU2hvcnRjdXRPcHRpb25zIHtcbiAgICAgICAgICAgIGxldCBkZWZhdWx0T3B0aW9uOiBTaG9ydGN1dE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgVHlwZTogS2V5Ym9hcmRFdmVudC5LZXlkb3duLFxuICAgICAgICAgICAgICAgIFByb3BhZ2F0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgRGlzYWJsZUluSW5wdXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIFRhcmdldDogZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgS2V5Y29kZTogbnVsbFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgZ2V0IHNob3J0Y3V0cygpOiBJS2V5Ym9hcmRTaG9ydGN1dHMge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3J0Y3V0cztcbiAgICAgICAgfVxuXG4gICAgICAgIHB1YmxpYyBhZGQoc2hvcnRjdXQ6IHN0cmluZywgY2FsbGJhY2s6IChlOiBKUXVlcnlFdmVudE9iamVjdCkgPT4gdm9pZCwgb3B0aW9uOiBTaG9ydGN1dE9wdGlvbnMpOiB2b2lkIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHNob3J0Y3V0KTtcbiAgICAgICAgICAgIGxldCBzaG9ydGN1dE9wdGlvbjogU2hvcnRjdXRPcHRpb25zID0gb3B0aW9uID8gXy5kZWZhdWx0cyhvcHRpb24sIHRoaXMuX2RlZmF1bHRPcHRpb24pIDogdGhpcy5fZGVmYXVsdE9wdGlvbjtcbiAgICAgICAgICAgIGxldCBzaG9ydGN1dENvbWJpbmF0aW9uOiBzdHJpbmcgPSBzaG9ydGN1dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBzaG9ydGN1dE9wdGlvbi5UYXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2hvcnRjdXRPcHRpb24uVGFyZ2V0ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNob3J0Y3V0T3B0aW9uLlRhcmdldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBzaG9ydGN1dE9wdGlvbi5UYXJnZXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5lcnJvcignUmVnaXN0ZXIgc2hvcnRjdXQ6IGVsZW1lbnQgdW5kZW50aWZpZWQhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXNob3J0Y3V0Q29tYmluYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoJ1JlZ2lzdGVyIHNob3J0Y3V0OiBzaG9ydGN1dCBjb21iaW5hdGlvbiB1bmRlbnRpZmllZCEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuZXJyb3IoJ1JlZ2lzdGVyIHNob3J0Y3V0OiBzaG9yY3V0IGNhbGxiYWNrIHVuZGVudGlmaWVkIScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5ld0tleWJvYXJkU2hvcnRjdXQgPSBuZXcgU2hvcnRjdXQoZWxlbWVudCwgc2hvcnRjdXRDb21iaW5hdGlvbiwgc2hvcnRjdXRPcHRpb24sIGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgdGhpcy5fc2hvcnRjdXRzW3Nob3J0Y3V0Q29tYmluYXRpb25dID0gbmV3S2V5Ym9hcmRTaG9ydGN1dDtcblxuICAgICAgICAgICAgLy9BdHRhY2ggdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGV2ZW50XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHNob3J0Y3V0T3B0aW9uLlR5cGUsIG5ld0tleWJvYXJkU2hvcnRjdXQuZXZlbnRDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgc2hvcnRjdXRPcHRpb24uVHlwZSwgbmV3S2V5Ym9hcmRTaG9ydGN1dC5ldmVudENhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbihzaG9ydGN1dE9wdGlvbi5UeXBlLCBuZXdLZXlib2FyZFNob3J0Y3V0LmV2ZW50Q2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHJlbW92ZShzaG9yY3V0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgICAgIGxldCBzaG9ydGN1dENvbWJpbmF0aW9uID0gc2hvcmN1dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgbGV0IGJpbmRpbmc6IFNob3J0Y3V0ID0gdGhpcy5fc2hvcnRjdXRzW3Nob3J0Y3V0Q29tYmluYXRpb25dO1xuXG4gICAgICAgICAgICBkZWxldGUodGhpcy5fc2hvcnRjdXRzW3Nob3J0Y3V0Q29tYmluYXRpb25dKVxuICAgICAgICAgICAgaWYgKCFiaW5kaW5nKSByZXR1cm47XG5cbiAgICAgICAgICAgIGxldCB0eXBlID0gYmluZGluZy5ldmVudDtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gYmluZGluZy50YXJnZXQ7XG4gICAgICAgICAgICBsZXQgY2FsbGJhY2sgPSBiaW5kaW5nLmV2ZW50Q2FsbGJhY2s7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmRldGFjaEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudFsnb24nICsgdHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9mZih0eXBlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzcyBTaG9ydGN1dEJpbmRpbmdQcm92aWRlciBpbXBsZW1lbnRzIElTaG9ydGN1dEJpbmRpbmdQcm92aWRlciB7XG4gICAgICAgIHByaXZhdGUgX3NlcnZpY2U6IFNob3J0Y3V0QmluZGluZ1NlcnZpY2U7XG4gICAgICAgIHByaXZhdGUgX29wdGlvbjogU2hvcnRjdXRPcHRpb25zO1xuXG4gICAgICAgIHB1YmxpYyBnZXQgb3B0aW9uKCk6IFNob3J0Y3V0T3B0aW9ucyB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldCBvcHRpb24odmFsdWU6IFNob3J0Y3V0T3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uID0gdmFsdWUgfHwgbmV3IFNob3J0Y3V0T3B0aW9ucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljICRnZXQoXG4gICAgICAgICAgICAkbG9nOiBuZy5JTG9nU2VydmljZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlcnZpY2UgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IFNob3J0Y3V0QmluZGluZ1NlcnZpY2UoJGxvZywgdGhpcy5fb3B0aW9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3BpcFNob3J0Y3V0cycpXG4gICAgICAgIC5wcm92aWRlcigncGlwU2hvcnRjdXRCaW5kaW5nJywgU2hvcnRjdXRCaW5kaW5nUHJvdmlkZXIpO1xufSIsImltcG9ydCB7IFNob3J0Y3V0T3B0aW9ucyB9IGZyb20gXCIuL1Nob3J0Y3V0XCI7XG5pbXBvcnQgeyBJU2hvcnRjdXRCaW5kaW5nU2VydmljZSB9IGZyb20gXCIuL0lTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlXCI7XG5cbmludGVyZmFjZSBTaG9ydGN1dEF0dHJpYnV0ZXMgZXh0ZW5kcyBuZy5JQXR0cmlidXRlcyB7XG4gICAgcGlwU2hvcnRjdXRBY3Rpb246IGFueTtcbiAgICBwaXBTaG9ydGN1dE5hbWU6IGFueTtcbiAgICBwaXBTaG9yY3V0T3B0aW9uczogU2hvcnRjdXRPcHRpb25zO1xufVxuXG5jbGFzcyBTaG9ydGN1dENvbnRyb2xsZXIgaW1wbGVtZW50cyBuZy5JQ29udHJvbGxlciAge1xuICAgIHByaXZhdGUgYWN0aW9uU2hvcnRjdXRzOiBGdW5jdGlvbjtcbiAgICBwcml2YXRlIG5hbWVTaG9ydGN1dHM6IHN0cmluZztcbiAgICBwcml2YXRlIG9wdGlvbnM6IFNob3J0Y3V0T3B0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAkZWxlbWVudDogSlF1ZXJ5LFxuICAgICAgICAkYXR0cnM6IFNob3J0Y3V0QXR0cmlidXRlcyxcbiAgICAgICAgJHNjb3BlOiBuZy5JU2NvcGUsXG4gICAgICAgICRsb2c6IG5nLklMb2dTZXJ2aWNlLFxuICAgICAgICAkcGFyc2U6IG5nLklQYXJzZVNlcnZpY2UsXG4gICAgICAgIHBpcFNob3J0Y3V0QmluZGluZzogSVNob3J0Y3V0QmluZGluZ1NlcnZpY2VcbiAgICApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgICAgIGlmICgkYXR0cnMucGlwU2hvcnRjdXRBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uU2hvcnRjdXRzID0gJHBhcnNlKCRhdHRycy5waXBTaG9ydGN1dEFjdGlvbik7XG4gICAgICAgICAgICB0aGlzLmFjdGlvblNob3J0Y3V0cygkc2NvcGUsIHskZXZlbnQ6IHt9fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkbG9nLmVycm9yKCdTaG9ydGN1dCBhY3Rpb24gZG9lcyBub3Qgc2V0LicpO1xuXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkYXR0cnMucGlwU2hvcnRjdXROYW1lICYmIF8uaXNTdHJpbmcoJGF0dHJzLnBpcFNob3J0Y3V0TmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZVNob3J0Y3V0cyA9ICRhdHRycy5waXBTaG9ydGN1dE5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkbG9nLmVycm9yKCdTaG9ydGN1dCBuYW1lIGRvZXMgbm90IHNldC4nKTtcblxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkYXR0cnMucGlwU2hvcmN1dE9wdGlvbnMgPyA8U2hvcnRjdXRPcHRpb25zPiRhdHRycy5waXBTaG9yY3V0T3B0aW9ucyA6IDxTaG9ydGN1dE9wdGlvbnM+e307XG4gICAgICAgIHRoaXMub3B0aW9ucy5UYXJnZXQgPSAkZWxlbWVudDtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlZ2lzdHJhdGlvbiBvZiBrZXlib3JkIHNob3J0Y3V0c1xuICAgICAgICBwaXBTaG9ydGN1dEJpbmRpbmcuYWRkKHRoaXMubmFtZVNob3J0Y3V0cywgKGU/OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uU2hvcnRjdXRzKCRzY29wZSwgeyRldmVudDogeydlJzogZX19KTsgICAgICAgICAgXG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBrZXlwcmVzc1Nob3J0Y3V0KGFjdGlvbikge1xuICAgICAgICB0aGlzLmFjdGlvblNob3J0Y3V0cygpO1xuICAgIH1cbn1cblxuLy8gUHJldmVudCBqdW5rIGZyb20gZ29pbmcgaW50byB0eXBlc2NyaXB0IGRlZmluaXRpb25zXG57XG4gICAgY29uc3Qgc2hvcnRjdXRzRGlyZWN0aXZlID0gZnVuY3Rpb24oKTogbmcuSURpcmVjdGl2ZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgc2NvcGU6IGZhbHNlLCAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udHJvbGxlcjogU2hvcnRjdXRDb250cm9sbGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdwaXBTaG9ydGN1dHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdwaXBTaG9ydGN1dCcsIHNob3J0Y3V0c0RpcmVjdGl2ZSk7XG59IiwiaW1wb3J0IHsgSVNob3J0Y3V0QmluZGluZ1NlcnZpY2UgfSBmcm9tIFwiLi9JU2hvcnRjdXRCaW5kaW5nU2VydmljZVwiXG5pbXBvcnQgeyBTaG9ydGN1dCwgU2hvcnRjdXRPcHRpb25zLCBLZXlib2FyZEV2ZW50IH0gZnJvbSBcIi4vU2hvcnRjdXRcIjtcbmltcG9ydCB7IFNob3J0Y3V0c0NvbmZpZywgU2hvcnRjdXRJdGVtLCBJU2hvcnRjdXRzU2VydmljZSwgSVNob3J0Y3V0c1Byb3ZpZGVyIH0gZnJvbSAnLi9JU2hvcnRjdXRzU2VydmljZSc7XG5cbmV4cG9ydCBsZXQgU2hvcnRjdXRzQ2hhbmdlZEV2ZW50ID0gJ3BpcFNob3J0Y3V0c0NoYW5nZWQnO1xuXG5jbGFzcyBTaG9ydGN1dHNTZXJ2aWNlIGltcGxlbWVudHMgSVNob3J0Y3V0c1NlcnZpY2Uge1xuICAgIHByaXZhdGUgX29sZENvbmZpZzogU2hvcnRjdXRzQ29uZmlnO1xuICAgIHByaXZhdGUgX2NvbmZpZzogU2hvcnRjdXRzQ29uZmlnO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgICAgICBjb25maWc6IFNob3J0Y3V0c0NvbmZpZyxcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSAkd2luZG93OiBuZy5JV2luZG93U2VydmljZSwgXG4gICAgICAgIHByaXZhdGUgJGxvY2F0aW9uOiBuZy5JTG9jYXRpb25TZXJ2aWNlLCBcbiAgICAgICAgcHJpdmF0ZSAkaW5qZWN0b3I6IG5nLmF1dG8uSUluamVjdG9yU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBwaXBTaG9ydGN1dEJpbmRpbmc6IElTaG9ydGN1dEJpbmRpbmdTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fb2xkQ29uZmlnID0gXy5jbG9uZURlZXAodGhpcy5fY29uZmlnKTtcblxuICAgICAgICAvLyBBZGQgc2hvcnRjdXRzXG4gICAgICAgIHRoaXMuYWRkU2hvcnRjdXRzKHRoaXMuX2NvbmZpZy5nbG9iYWxTaG9ydGN1dHMpO1xuICAgICAgICB0aGlzLmFkZFNob3J0Y3V0cyh0aGlzLl9jb25maWcubG9jYWxTaG9ydGN1dHMpOyAgICAgICAgXG4gICAgfVxuXG4gICAgLy8gRGVzY3JpYmUgcHJpdmF0ZSBmdW5jdGlvbnNcbiAgICBwcml2YXRlIHNlbmRDaGFuZ2VFdmVudCgpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHNob3J0Y3V0c1xuICAgICAgICB0aGlzLnJlbW92ZVNob3J0Y3V0cyh0aGlzLl9vbGRDb25maWcuZ2xvYmFsU2hvcnRjdXRzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVTaG9ydGN1dHModGhpcy5fb2xkQ29uZmlnLmxvY2FsU2hvcnRjdXRzKTtcblxuICAgICAgICAvLyBBZGQgc2hvcnRjdXRzXG4gICAgICAgIHRoaXMuYWRkU2hvcnRjdXRzKHRoaXMuY29uZmlnLmdsb2JhbFNob3J0Y3V0cyk7XG4gICAgICAgIHRoaXMuYWRkU2hvcnRjdXRzKHRoaXMuY29uZmlnLmxvY2FsU2hvcnRjdXRzKTtcblxuICAgICAgICB0aGlzLiRyb290U2NvcGUuJGVtaXQoU2hvcnRjdXRzQ2hhbmdlZEV2ZW50LCB0aGlzLmNvbmZpZyk7XG5cbiAgICAgICAgLy8gU2F2ZSBjdXJyZW50IGNvbmZpZyB0byBvbGRDb25maWdcbiAgICAgICAgdGhpcy5fb2xkQ29uZmlnID0gXy5jbG9uZURlZXAodGhpcy5jb25maWcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlU2hvcnRjdXRzKGNvbGxlY3Rpb246IFNob3J0Y3V0SXRlbVtdKTogdm9pZCB7XG4gICAgICAgIF8uZWFjaChjb2xsZWN0aW9uLCAoaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5waXBTaG9ydGN1dEJpbmRpbmcucmVtb3ZlKGsuc2hvcnRjdXQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGtleXByZXNzU2hvcnRjdXQoaXRlbTogU2hvcnRjdXRJdGVtLCBldmVudDogSlF1ZXJ5RXZlbnRPYmplY3QpIHtcbiAgICAgICAgaWYgKGl0ZW0uYWNjZXNzICYmIF8uaXNGdW5jdGlvbihpdGVtLmFjY2VzcykpIHtcbiAgICAgICAgICAgIGlmICghaXRlbS5hY2Nlc3MoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IFxuXG4gICAgICAgIGlmIChpdGVtLmtleXByZXNzKSB7XG4gICAgICAgICAgICBpdGVtLmtleXByZXNzKGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLmhyZWYpIHtcbiAgICAgICAgICAgIHRoaXMuJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaXRlbS5ocmVmO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0udXJsKSB7XG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi51cmwoaXRlbS51cmwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiRpbmplY3Rvci5oYXMoJyRzdGF0ZScpKSB7XG4gICAgICAgICAgICAgICAgdmFyICRzdGF0ZSA9IHRoaXMuJGluamVjdG9yLmdldCgnJHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgJHN0YXRlWydnbyddKGl0ZW0uc3RhdGUsIGl0ZW0uc3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KGl0ZW0uZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHJhaXNlIG5vdGlmaWNhdGlvblxuICAgICAgICAgICAgdGhpcy4kcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3BpcFNob3J0Y3V0S2V5cHJlc3MnLCBpdGVtLnNob3J0Y3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkU2hvcnRjdXRzKGNvbGxlY3Rpb246IFNob3J0Y3V0SXRlbVtdKTogdm9pZCB7XG4gICAgICAgIGxldCBnZW5lcmFsT3B0aW9uczogU2hvcnRjdXRPcHRpb25zID0gdGhpcy5jb25maWcuZGVmYXVsdE9wdGlvbnMgPyB0aGlzLmNvbmZpZy5kZWZhdWx0T3B0aW9ucyA6IDxTaG9ydGN1dE9wdGlvbnM+e307XG4gICAgICAgIFxuICAgICAgICBfLmVhY2goY29sbGVjdGlvbiwgKGspID0+IHtcbiAgICAgICAgICAgIGxldCBvcHRpb246IFNob3J0Y3V0T3B0aW9ucyA9IGsub3B0aW9ucyA/IGsub3B0aW9ucyA6IGdlbmVyYWxPcHRpb25zO1xuICAgICAgICAgICAgbGV0IHRhcmdldDogYW55O1xuXG4gICAgICAgICAgICB0YXJnZXQgPSBrLnRhcmdldCA/IGsudGFyZ2V0IDogay50YXJnZXRJZDtcbiAgICAgICAgICAgIG9wdGlvbi5UYXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAvLyBSZWdpc3RyYXRpb24gb2Yga2V5Ym9hcmQgc2hvcnRjdXRcbiAgICAgICAgICAgIHRoaXMucGlwU2hvcnRjdXRCaW5kaW5nLmFkZChrLnNob3J0Y3V0LCAoZT86IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5cHJlc3NTaG9ydGN1dChrLCBlKTsgICAgICAgIFxuICAgICAgICAgICAgfSwgb3B0aW9uKTsgICAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZXNjcmliZSBwdWJsaWMgZnVuY3Rpb25zIFxuICAgIHB1YmxpYyBnZXQgY29uZmlnKCk6IFNob3J0Y3V0c0NvbmZpZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBkZWZhdWx0T3B0aW9ucygpOiBTaG9ydGN1dE9wdGlvbnMge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmRlZmF1bHRPcHRpb25zO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZGVmYXVsdE9wdGlvbnModmFsdWU6IFNob3J0Y3V0T3B0aW9ucykge1xuICAgICAgICB0aGlzLl9jb25maWcuZGVmYXVsdE9wdGlvbnMgPSB2YWx1ZSB8fCBudWxsO1xuICAgICAgICB0aGlzLnNlbmRDaGFuZ2VFdmVudCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgZ2xvYmFsU2hvcnRjdXRzKCk6IFNob3J0Y3V0SXRlbVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5nbG9iYWxTaG9ydGN1dHM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBnbG9iYWxTaG9ydGN1dHModmFsdWU6IFNob3J0Y3V0SXRlbVtdKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5nbG9iYWxTaG9ydGN1dHMgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgdGhpcy5zZW5kQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGxvY2FsU2hvcnRjdXRzKCk6IFNob3J0Y3V0SXRlbVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5sb2NhbFNob3J0Y3V0cztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGxvY2FsU2hvcnRjdXRzKHZhbHVlOiBTaG9ydGN1dEl0ZW1bXSkge1xuICAgICAgICB0aGlzLl9jb25maWcubG9jYWxTaG9ydGN1dHMgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgdGhpcy5zZW5kQ2hhbmdlRXZlbnQoKTtcbiAgICB9XG59XG5cbmNsYXNzIFNob3J0Y3V0c1Byb3ZpZGVyIGltcGxlbWVudHMgSVNob3J0Y3V0c1Byb3ZpZGVyIHtcbiAgICBwcml2YXRlIF9jb25maWc6IFNob3J0Y3V0c0NvbmZpZyA9IG5ldyBTaG9ydGN1dHNDb25maWcoKTtcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBTaG9ydGN1dHNTZXJ2aWNlO1xuXG4gICAgcHVibGljIGdldCBjb25maWcoKTogU2hvcnRjdXRzQ29uZmlnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGNvbmZpZyh2YWx1ZTogU2hvcnRjdXRzQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IHZhbHVlIHx8IG5ldyBTaG9ydGN1dHNDb25maWcoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRlZmF1bHRPcHRpb25zKCk6IFNob3J0Y3V0T3B0aW9ucyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuZGVmYXVsdE9wdGlvbnM7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBkZWZhdWx0T3B0aW9ucyh2YWx1ZTogU2hvcnRjdXRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5kZWZhdWx0T3B0aW9ucyA9IHZhbHVlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBnbG9iYWxTaG9ydGN1dHMoKTogU2hvcnRjdXRJdGVtW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmdsb2JhbFNob3J0Y3V0cztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGdsb2JhbFNob3J0Y3V0cyh2YWx1ZTogU2hvcnRjdXRJdGVtW10pIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLmdsb2JhbFNob3J0Y3V0cyA9IHZhbHVlIHx8IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyAkZ2V0KFxuICAgICAgICAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSwgXG4gICAgICAgICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlLCBcbiAgICAgICAgJGxvY2F0aW9uOiBuZy5JTG9jYXRpb25TZXJ2aWNlLCBcbiAgICAgICAgJGluamVjdG9yOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2UsXG4gICAgICAgIHBpcFNob3J0Y3V0QmluZGluZzogSVNob3J0Y3V0QmluZGluZ1NlcnZpY2VcbiAgICApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgICAgIGlmICh0aGlzLl9zZXJ2aWNlID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLl9zZXJ2aWNlID0gbmV3IFNob3J0Y3V0c1NlcnZpY2UodGhpcy5fY29uZmlnLCAkcm9vdFNjb3BlLCAkd2luZG93LCAkbG9jYXRpb24sICRpbmplY3RvciwgcGlwU2hvcnRjdXRCaW5kaW5nKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcFNob3J0Y3V0cycpXG4gICAgLnByb3ZpZGVyKCdwaXBTaG9ydGN1dHMnLCBTaG9ydGN1dHNQcm92aWRlcik7XG5cbiIsImFuZ3VsYXIubW9kdWxlKCdwaXBTaG9ydGN1dHMnLCBbJ25nTWF0ZXJpYWwnLCAndWkucm91dGVyJ10pO1xuXG5pbXBvcnQgJy4vU2hvcnRjdXRCaW5kaW5nU2VydmljZSc7XG5pbXBvcnQgJy4vU2hvcnRjdXRzU2VydmljZSc7XG5pbXBvcnQgJy4vU2hvcnRjdXREaXJlY3RpdmUnO1xuXG5leHBvcnQgKiBmcm9tICcuL0lTaG9ydGN1dHNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vSVNob3J0Y3V0QmluZGluZ1NlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9TaG9ydGN1dHNTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vU2hvcnRjdXRCaW5kaW5nU2VydmljZSc7Iiwie1xuICAgIGludGVyZmFjZSBVbnNhdmVkQ2hhbmdlc1Njb3BlIGV4dGVuZHMgbmcuSVNjb3BlIHtcbiAgICAgICAgdW5zYXZlZENoYW5nZXNBdmFpbGFibGU6IEZ1bmN0aW9uO1xuICAgICAgICB1bnNhdmVkQ2hhbmdlc01lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgY2FuY2VsTGVhdmU6IEZ1bmN0aW9uO1xuICAgICAgICBhZnRlckxlYXZlOiBGdW5jdGlvbjtcbiAgICB9XG5cbiAgICBjbGFzcyBVbnNhdmVkQ2hhbmdlc0xpbmsge1xuICAgICAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICRzY29wZTogVW5zYXZlZENoYW5nZXNTY29wZSxcbiAgICAgICAgICAgICR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgJHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnVuc2F2ZWRDaGFuZ2VzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS51bnNhdmVkQ2hhbmdlc01lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdW5iaW5kRnVuYyA9ICRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS51bnNhdmVkQ2hhbmdlc0F2YWlsYWJsZSgpICYmICEkd2luZG93LmNvbmZpcm0oJHNjb3BlLnVuc2F2ZWRDaGFuZ2VzTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKCRzY29wZS5jYW5jZWxMZWF2ZSkgJiYgJHNjb3BlLmNhbmNlbExlYXZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKCRzY29wZS5hZnRlckxlYXZlKSAmJiAkc2NvcGUuYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAkd2luZG93Lm9uYmVmb3JldW5sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB1bmJpbmRGdW5jKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFVuc2F2ZWRDaGFuZ2VzID0gZnVuY3Rpb24gKCR3aW5kb3c6IG5nLklXaW5kb3dTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0FFJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgdW5zYXZlZENoYW5nZXNBdmFpbGFibGU6ICcmcGlwVW5zYXZlZENoYW5nZXNBdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgIHVuc2F2ZWRDaGFuZ2VzTWVzc2FnZTogJ0BwaXBVbnNhdmVkQ2hhbmdlc01lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIGFmdGVyTGVhdmU6ICcmcGlwVW5zYXZlZENoYW5nZXNBZnRlckxlYXZlJyxcbiAgICAgICAgICAgICAgICBjYW5jZWxMZWF2ZTogJyZwaXBVbnNhdmVkQ2hhbmdlc0NhbmNlbExlYXZlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGU6IFVuc2F2ZWRDaGFuZ2VzU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgVW5zYXZlZENoYW5nZXNMaW5rKCRzY29wZSwgJHdpbmRvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKFwicGlwVW5zYXZlZENoYW5nZXNcIiwgW10pXG4gICAgICAgIC5kaXJlY3RpdmUoXCJwaXBVbnNhdmVkQ2hhbmdlc1wiLCBVbnNhdmVkQ2hhbmdlcyk7XG59Il19"}